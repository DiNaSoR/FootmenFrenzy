"DOTAAbilities"
{
	"ability_building"
	{
		"BaseClass"             		"ability_datadriven"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	
		"precache"
		{
			"particle"  "particles/econ/items/effigies/status_fx_effigies/status_effect_statue_compendium_2014_dire.vpcf"
			"particle"  "particles/econ/items/effigies/status_fx_effigies/status_effect_statue_compendium_2014_radiant.vpcf"
			"particle"  "particles/status_fx/status_effect_statue_compendium_2014_dire.vpcf"
			"particle"  "particles/status_fx/status_effect_statue_compendium_2014_radiant.vpcf"
		}
	
		"Modifiers"
		{
			"modifier_building"
			{
				"Passive"			"1"
				"IsHidden"			"1"
				"Attributes"		"MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"
	
				"StatusEffectName" 		"particles/econ/items/effigies/status_fx_effigies/status_effect_statue_compendium_2014_dire.vpcf" 	   
				"StatusEffectPriority"  "10"
	
				"States"
				{
					"MODIFIER_STATE_MAGIC_IMMUNE" "MODIFIER_STATE_VALUE_ENABLED" // Makes most abilities don't affect this. Use custom damage
					//"MODIFIER_STATE_STUNNED" "MODIFIER_STATE_VALUE_ENABLED" // Prevents turning
					"MODIFIER_STATE_ROOTED"		"MODIFIER_STATE_VALUE_ENABLED" // Prevents moving
					//"MODIFIER_STATE_SPECIALLY_DENIABLE" "MODIFIER_STATE_VALUE_ENABLED" // Allows attacking own buildings
					"MODIFIER_STATE_LOW_ATTACK_PRIORITY" "MODIFIER_STATE_VALUE_ENABLED" // Makes it a secondary target when A-clicking ground
				}
				"ThinkInterval"  "0.03"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"PreventTurning"
					}
				}
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/items.lua"
						"Function"		"GiveBaseItems"
					}
					"RunScript"
					{
						"ScriptFile"	"buildings/items.lua"
						"Function"		"SetRallyPoint"
					}
	
					// If we want it to not animate
					//"DelayedAction"
					//{
					//	"Delay"     "0.5"
					//	"Action"    
					//	{
					//		"ApplyModifier"
					//		{
					//			"ModifierName"	"modifier_frozen"
					//			"Target" 		"CASTER"
					//		}
					//	}
					//}
				}
			}
			
			"modifier_frozen"
			{
				"IsHidden"			"1"
				"States"
				{
					"MODIFIER_STATE_FROZEN"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}		
	}
	
	
	"ability_tower"
	{
		"BaseClass"             		"ability_datadriven"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	
		"Modifiers"
		{
			"modifier_building"
			{
				"Passive"			"1"
				"IsHidden"			"1"
				"Attributes"		"MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
	
				"StatusEffectName" 		"particles/econ/items/effigies/status_fx_effigies/status_effect_statue_compendium_2014_dire.vpcf" 	   
				"StatusEffectPriority"  "10"
	
				"States"
				{
					"MODIFIER_STATE_MAGIC_IMMUNE" "MODIFIER_STATE_VALUE_ENABLED" // Makes most abilities don't affect this. Use custom damage
					//"MODIFIER_STATE_STUNNED" "MODIFIER_STATE_VALUE_ENABLED" // Prevents turning
					"MODIFIER_STATE_ROOTED"		"MODIFIER_STATE_VALUE_ENABLED" // Prevents moving
					//"MODIFIER_STATE_SPECIALLY_DENIABLE" "MODIFIER_STATE_VALUE_ENABLED" // Allows attacking own buildings
					"MODIFIER_STATE_LOW_ATTACK_PRIORITY" "MODIFIER_STATE_VALUE_ENABLED" // Makes it a secondary target when A-clicking ground
				}
			}
		}		
	}
	// AbilityName
	// Author: 
	// Date: 13.1.2015.
	// Notes: 
	"hero_ability_name"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"hero_ability_name"
		"MaxLevel" 						"3"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"8.0"
	
		"AbilityManaCost"				"100"
		"AbilityDamage"					"75 130 200"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_magnataur/magnataur_shockwave.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_magnataur.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"value"			"900"
			}
		}
	}
	// Alchemist Acid Bomb
	// Author: Noya
	// Date: 25.01.2015.
	// Description: Hurls a flask of acid at a target. The flask breaks upon impact, splashing a powerful acid on nearby hostile units. 
	//				Decreases armor; deals slightly less damage over time to nearby targets.
	// Notes: 
	// Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	15 sec.	12 sec.	75	70	20	Ground, Enemy, Neutral, Organic	5 max damage per second, armor -3	1
	//2	15 sec.	12 sec.	75	70	20	Ground, Enemy, Neutral, Organic	10 max damage per second, armor -4	3
	//3	15 sec.	12 sec.	75	70	20	Ground, Enemy, Neutral, Organic	15 max damage per second, armor -5	5
	
	"alchemist_acid_bomb"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"alchemist_acid_bomb"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_ALCHEMIST_CONCOCTION_THROW"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"12.0"
	
		"AbilityManaCost"				"75"
	
		"AOERadius"						"%radius"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_witchdoctor/witchdoctor_cask.vpcf"
			"particle"  "particles/units/heroes/hero_witchdoctor/witchdoctor_cask_explosion_flash.vpcf"
			"particle"	"particles/units/heroes/hero_witchdoctor/witchdoctor_maledict_aoe.vpcf"
			"particle"	"particles/status_fx/status_effect_maledict.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_alchemist.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"armor_reduction"	"-3 -4 -5 -6"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"duration"			"15"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"damage_per_second"	"5 10 15 20"
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"radius"			"200"
			}
			"05"
			{
				"var_type"			"FIELD_INTEGER"
				"projectile_speed"	"900"
			}
		}
	
		"OnSpellStart"
		{
			"TrackingProjectile"
			{
				"Target"           	"TARGET"
				"EffectName"		"particles/units/heroes/hero_witchdoctor/witchdoctor_cask.vpcf"
				"Dodgeable"			"1"
				"ProvidesVision"	"0"
				"MoveSpeed"        	"%projectile_speed"
				"SourceAttachment"	"DOTA_PROJECTILE_ATTACHMENT_ATTACK_3"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Alchemist.UnstableConcoction.Throw"
				"Target" 		"TARGET"
			}		
		}
	
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"	"1"
	
			"FireEffect"
			{
				"EffectName"        "particles/units/heroes/hero_witchdoctor/witchdoctor_maledict_aoe.vpcf"
				"EffectAttachType"  "follow_origin"
				"EffectRadius"		"%radius"
				"Target"            "TARGET"
			}
	
			"FireEffect"
			{
				"EffectName"        "particles/units/heroes/hero_witchdoctor/witchdoctor_cask_explosion_flash.vpcf"
				"EffectAttachType"  "follow_origin"
				"Target"            "TARGET"
				"ControlPointEntities"
				{
					"TARGET"	"attach_hitloc"
					"TARGET"	"attach_hitloc"
					"TARGET"	"attach_hitloc"
					"TARGET"	"attach_hitloc"
				}
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Alchemist.UnstableConcoction.Stun"
				"Target" 		"TARGET"
			}
			
		
			"ApplyModifier"
			{
				"ModifierName"	"modifier_acid_bomb"
				"Target"
				{
					"Center"  	"TARGET"
					"Radius" 	"%radius"
					"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%duration"
			}						
		}
	
		"Modifiers"
		{
			"modifier_acid_bomb"
			{
				"IsDebuff"			"1"
		
				"StatusEffectName"		"particles/status_fx/status_effect_maledict.vpcf"
				"StatusEffectPriority"	"10"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%armor_reduction"
				}		
	
				"ThinkInterval"  "1.0"
				"OnIntervalThink"
				{
					"Damage"
					{
						"Target"		"TARGET"
						"Type"			"DAMAGE_TYPE_MAGICAL"
						"Damage"		"%damage_per_second"
					}
	
					"FireEffect"
					{
						"EffectName"        "particles/msg_fx/msg_poison.vpcf"
						"EffectAttachType"  "follow_overhead"
						"Target"            "TARGET"
						"ControlPoints"
						{
							"01"	"9 %damage_per_second 6"
							"02"	"1 3 0"
							"03"	"170 0 250"
						}					
					}									
				}			
			}
		}			
	}
	// Alchemist Chemical Rage
	// Author: Noya
	// Date: 18.01.2015.
	// Description: The Alchemist causes his Ogre to enter a chemically induced rage, increasing movement rate by 50% and increasing attack rate.
	// Notes: 
	// Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	15 sec.	30 sec.	25	N/A	N/A	Self	25% attack rate increase	1
	//2	15 sec.	30 sec.	25	N/A	N/A	Self	75% attack rate increase	3
	//3	15 sec.	30 sec.	25	N/A	N/A	Self	125% attack rate increase	5
	"alchemist_chemical_rage_warcraft"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"alchemist_chemical_rage_warcraft"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCastAnimation"			"ACT_DOTA_ALCHEMIST_CHEMICAL_RAGE_START"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.0"
		"AbilityCooldown"				"30.0"
	
		"AbilityManaCost"				"25"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_FLOAT"
				"duration"					"15.0"
			}
			"02"
			{
				"var_type"					"FIELD_FLOAT"
				"transformation_time"		"0.35"
			}
			"03"
			{
				"var_type"					"FIELD_FLOAT"
				"bonus_movespeed_percent"	"50"
			}
			"04"
			{
				"var_type"					"FIELD_FLOAT"
				"bonus_attack_speed"		"25 75 125 175"
			}
		}
	
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_alchemist.vsndevts"
			"particle"	"particles/status_fx/status_effect_chemical_rage.vpcf"
			"particle"	"particles/units/heroes/hero_alchemist/alchemist_chemical_rage.vpcf"
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Alchemist.ChemicalRage.Cast"
				"Target"		"CASTER"
			}
	
			// Applying the dota modifier controls the new animations sounds and body
			// The modifier_alchemist_chemical_rage tooltip needs to be adjusted to ignore AbilitySpecials we don't need
			// base_attack_time bonus_health bonus_health_regen bonus_mana_regen bonus_movespeed
			// And instead use our bonus_movespeed_percent and bonus_attack_speed
			"ApplyModifier"
			{
				"ModifierName"	"modifier_alchemist_chemical_rage_transform"
				"Target"		"CASTER"
				"Duration"		"%transformation_time"
			}
	
			// Extra Modifier with what we need to add for the custom ability
			"ApplyModifier"
			{
				"ModifierName"	"modifier_chemical_rage_warcraft"
				"Target"		"CASTER"
			}
		}
	
		"Modifiers"
		{
			
			"modifier_chemical_rage_warcraft"
			{
				"IsBuff"	"1"
				"IsHidden"	"1"
				"Duration"	"%duration"
	
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"	"%bonus_attack_speed"
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"	"%bonus_movespeed_percent"
				}
			}
		}
	}
	// Alchemist Healing Spray
	// Author: Noya
	// Date: 25.01.2015.
	// Description: Sprays waves of healing mist that heals units in a target area.
	// Notes: 
	// Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	N/A	75	80	25	Air, Ground, Organic	3 waves at 40 HP healed each	1
	//2	N/A	N/A	75	80	25	Air, Ground, Organic	4 waves at 55 HP healed each	3
	//3	N/A	N/A	75	80	25	Air, Ground, Organic	5 waves at 70 HP healed each	5
	"alchemist_healing_spray"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"alchemist_healing_spray"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_ALCHEMIST_CONCOCTION"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.1"
		"AbilityCooldown"				"0.0"
	
		"AbilityManaCost"				"75"
		
		"AOERadius"     				"%radius"
		"AbilityChannelTime"			"2.5 3.5 4.5 5.5"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"250"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"wave_duration"			"2.5 3.5 4.5 5.5"
			}		
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"wave_count"			"3 4 5 6"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"wave_heal"				"40 55 70 85"
			}
			"05"
			{
				"var_type"				"FIELD_FLOAT"
				"wave_interval"			"1.0"
			}
		}
	
		"precache"
		{
			"particle" 	"particles/custom/alchemist_acid_spray_cast.vpcf"
			"particle"  "particles/custom/alchemist_acid_spray.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_alchemist.vsndevts"
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/alchemist/healing_spray.lua"
				"Function"		"HealingSprayStart"
				"Target"		"POINT"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_healing_spray_channelling"
				"Target" 		"CASTER"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Alchemist.UnstableConcoction.Throw"
				"Target"		"CASTER"
			}
		}
	
		"OnChannelFinish"
	    {
	    	"RunScript"
	    	{
	    		"ScriptFile"	"heroes/alchemist/healing_spray.lua"
				"Function"		"HealingSprayEnd"
	    	} 
	
	    	"RemoveModifier"
			{
				"ModifierName"	"modifier_healing_spray_channelling"
				"Target" 		"CASTER"
			}		
	    }
	
	    "Modifiers"
	    {
	        "modifier_healing_spray_channelling"
	        {
	        	"IsHidden"			"0"
	        	"ThinkInterval"		"1.0"
	            "OnIntervalThink"
	         	{
	         		"ApplyModifier"
	         		{
	         			"ModifierName"	"modifier_channeling"
	         			"Target" 		"CASTER"
	         			"Duration"		"0.9"
	         		}
				}
				"OnCreated"
	         	{
	         		"ApplyModifier"
	         		{
	         			"ModifierName"	"modifier_channeling"
	         			"Target" 		"CASTER"
	         			"Duration"		"0.9"
	         		}
				}
			}
	
			"modifier_channeling"
			{
				"IsHidden"				"1"
	            "OverrideAnimation" 	"ACT_DOTA_CAST_ABILITY_1"
			}
	
			"modifier_healing_spray_thinker"
			{
			
				"OnCreated"
				{
					"ApplyModifier"
	         		{
						"ModifierName"	"modifier_healing_spray_caster"
	         			"Target" 		"TARGET"
	         			"Duration"		"0.9"
					}
				}
				"ThinkInterval"  "%wave_interval"
				"OnIntervalThink"
				{
						
					"ApplyModifier"
	         		{
						"ModifierName"	"modifier_healing_spray_caster"
	         			"Target" 		"TARGET"
	         			"Duration"		"0.9"
					}			
				}			
			}
			
			"modifier_healing_spray_caster"
			{
				"OnCreated"
				{
					"DelayedAction"
					{
						"Delay"     "0.3"
						"Action"    
						{	
							"Heal"
							{
								"Target"
								{
									"Center"  	"TARGET"
									"Radius" 	"%radius"
									"Teams" 	"DOTA_UNIT_TARGET_TEAM_BOTH"
									"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
									"Flags"		"DOTA_UNIT_TARGET_FLAG_NOT_MAGIC_IMMUNE_ALLIES"
								}
								"HealAmount"	"%wave_heal"
							}					
	
							"FireSound"
							{
								"EffectName"	"Hero_Alchemist.UnstableConcoction.Throw"
								"Target"		"CASTER"
							}
	
							"RunScript"
							{
								"ScriptFile"	"heroes/alchemist/healing_spray.lua"
								"Function"		"HealingSprayWave"
							} 
	
							"FireEffect"
							{
								"EffectName"        "particles/custom/alchemist_acid_spray.vpcf"
								"EffectAttachType"  "follow_origin"
								"Target"            "TARGET"
								"ControlPoints"
								{
									"01"	"%radius 1 %radius"
									"15"	"255 255 0"
									"16"	"255 255 0"
								}					
							}	
						}
					}
				}		
			}
		}	
	}
	// Alchemist Transmute
	// Author: Noya
	// Date: 25.01.2015.
	// Description: Kills a target unit instantly, transforming it into gold which is added to your available gold! Transmute cannot be used on Heroes, or creeps above level 5.
	// Notes: 
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	Instant	45 sec.	150	65	Unit	Air, Ground, Enemy, Neutral, Non Hero	Kills Unit, Gains Gold Depending on Unit	6
	"alchemist_transmute"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"alchemist_transmute"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_1"
	
		"AbilityCastRange"				"650"
		"AbilityCooldown"				"45.0"
	
		"AbilityManaCost"				"150"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_FLOAT"
				"gold_bounty_multiplier"	"5 10 15"	//Placeholder until unit prices are done.
			}
		}
		
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"DOTA_Item.Hand_Of_Midas"
				"Target" 		"TARGET"
			}
	
			"FireEffect"
			{
				"EffectName"        "particles/items2_fx/hand_of_midas.vpcf"
				"EffectAttachType"	"follow_origiin"
				"Target"            "TARGET"
				"ControlPointEntities"
				{
					"TARGET"	"attach_hitloc"
					"CASTER"	"attach_hitloc"
				}
			}
	
			"RunScript"
			{
				"ScriptFile"			"heroes/alchemist/transmute.lua"
				"Function"				"Transmute"
			}	
		}
	}
	// Archmage Blizzard
	// Author: Noya
	// Date: 20.01.2015.
	// Notes: Calls down waves of freezing ice shards that damage units in a target area.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	6 sec.	6 sec.	75	80	20	N/A	6 waves at 30 damage each, 150 max damage	1
	//2	8 sec.	6 sec.	75	80	20	N/A	8 waves at 40 damage each, 200 max damage	3
	//3	10 sec.	6 sec.	75	80	20	N/A	10 waves at 50 damage each, 250 max damage	5
	
	// NOTE: No max damage for now
	"archmage_blizzard"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"archmage_blizzard"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_BUILDING"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_5"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"6.0"
		"AbilityManaCost"				"75"
	
		"AOERadius"     				"%radius"
		"AbilityChannelTime"			"6.0 8.0 10.0 12.0"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"200"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"wave_duration"			"6.0 8.0 10.0 12.0"
			}		
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"wave_count"			"6 8 10 12"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"wave_damage"			"25 30 35 40"
			}
			"05"
			{
				"var_type"				"FIELD_FLOAT"
				"wave_interval"			"1.0"
			}
		}
	
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_crystalmaiden.vsndevts"
			"particle"	"particles/units/heroes/hero_crystalmaiden/maiden_freezing_field_snow.vpcf"
			"particle"	"particles/units/heroes/hero_crystalmaiden/maiden_freezing_field_explosion.vpcf"
			"particle"	"particles/generic_gameplay/generic_slowed_cold.vpcf"
			"particle"	"particles/status_fx/status_effect_frost_lich.vpcf"
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/archmage/blizzard.lua"
				"Function"		"BlizzardStartPoint"
				"Target"		"POINT"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_blizzard_channelling"
				"Target" 		"CASTER"
			}
					
			"FireSound"
			{
				"EffectName"	"hero_Crystal.freezingField.wind"
				"Target"		"CASTER"
			}
		}
	
		"OnChannelFinish"
	    {
	    	"RunScript"
	    	{
	    		"ScriptFile"	"heroes/archmage/blizzard.lua"
				"Function"		"BlizzardEnd"
	    	}
	    }
	
		"Modifiers"
	    {
	        "modifier_blizzard_channelling"
	        {
	        	"IsHidden"			"1"
	            "ThinkInterval"		"0.99"
	            "OnIntervalThink"
	         	{
	         		"RunScript"
	         		{
	         			"ScriptFile"	"heroes/archmage/blizzard.lua"
	         			"Function"		"ApplyAnimation"
	         		}
				}
			}
	
			"modifier_channeling"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_5"
			}
			
			"modifier_blizzard_wave"
			{
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/archmage/blizzard.lua"
						"Function"		"BlizzardWaveStart"
						"Target"		"POINT"
					}
				}
				"ThinkInterval"  "%wave_interval"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/archmage/blizzard.lua"
						"Function"		"BlizzardWaveStart"
						"Target"		"POINT"
					}
				}
			}
			
			"modifier_blizzard_thinker"
			{
				"OnCreated"
				{
					"DelayedAction"
					{
						"Delay"     "0.3"
						"Action"    
						{						
							"Damage"
							{
								"Target"
								{
									"Center"  	"TARGET"
									"Radius" 	"%radius"
									"Teams" 	"DOTA_UNIT_TARGET_TEAM_BOTH"
									"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
								}
								"Type"			"DAMAGE_TYPE_MAGICAL"
								"Damage"		"%wave_damage"
							}
	
							// Custom Building Damage
							"RunScript"
							{
								"ScriptFile"	"buildings/damage.lua"
								"Function"		"DoBuildingDamage"
								"Target"
								{
									"Center"  	"TARGET"
									"Radius" 	"%radius"
									"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
									"Types" 	"DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
									"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
								}
								"Damage"		"%wave_damage / 2"
							}
	
							"FireSound"
							{
								"EffectName"	"hero_Crystal.freezingField.explosion"
								"Target"
								{
									"Center"  	"TARGET"
									"Radius" 	"%radius"
									"Teams" 	"DOTA_UNIT_TARGET_TEAM_BOTH"
									"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
								}
							}
							
							"RemoveModifier"
							{
								"ModifierName"	"modifier_blizzard_thinker"
								"Target" 		"TARGET"
							}
						}
					}
					
					"RunScript"
					{
						"ScriptFile"	"heroes/archmage/blizzard.lua"
						"Function"		"BlizzardWave"
					}
				}			
			}
		}
	}
	// Archmage Brilliance Aura
	// Author: Noya
	// Date: 13.1.2015.
	// Notes: Gives additional mana regeneration to nearby friendly units.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self	Adds 0.75 mana per sec.	1
	//2	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self	Adds 1.5 mana per sec.	3
	//3	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self	Adds 2.25 mana per sec.	5
	"archmage_brilliance_aura"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"archmage_brilliance_aura"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_AURA | DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetTeam" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
	
		"AbilityCastRange"    			"900"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_FLOAT"
				"mana_regen"	"0.75 1.5 2.25 3.0"
			}
			"02"
			{
				"var_type"		"FIELD_INTEGER"
				"radius"		"900"
			}
		}
	
		"precache"
		{
			"particle"	"particles/items_fx/aura_shivas.vpcf"
		}
		
		"Modifiers"
		{
			"modifier_brilliance_aura"
			{
				"EffectName"		"particles/items_fx/aura_shivas.vpcf"
				"EffectAttachType" "follow_origin"
				
				"Passive" 			"1"
				"IsHidden" 			"1"
				"IsBuff"			"1"
				"Aura" 				"modifier_brilliance_aura_mana_regen"
				"Aura_Radius" 		"%radius"
				"Aura_Teams" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
				"Aura_Types" 		"DOTA_UNIT_TARGET_ALL"
			}
			
			"modifier_brilliance_aura_mana_regen"
			{
				"IsBuff"				"1"
				"Properties"
				{
					"MODIFIER_PROPERTY_MANA_REGEN_CONSTANT"		"%mana_regen"
				}
			}
		}
	}
	// Archmage Mass Teleport
	// Author: Noya
	// Date: 26.01.2015.
	// Notes: Teleports 24 of the player's nearby units, including the Archmage, to a friendly ground unit or structure.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	N/A	20 sec.	100	Unlimited	70	Friendly Ground Units, Friendly Buildings	Teleports up to 24 units	6
	"archmage_mass_teleport"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"archmage_mass_teleport"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_BUILDING"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_4"
	
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"20.0"
	
		"AbilityManaCost"				"100"
		"AbilityChannelTime"			"3.0"
	
		"precache"
		{
			"soundfile"			"soundevents/game_sounds_heroes/game_sounds_keeper_of_the_light.vsndevts"
			"particle"			"particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_recall_cast.vpcf"
			"particle"			"particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_recall.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"max_units_teleported"	"24 36 48"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"700"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"channel_time"			"3.0 2.0 1.0"
			}
		}
	
		"OnAbilityPhaseStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/archmage/mass_teleport.lua"
				"Function"		"BuildingCheck"
			}
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/archmage/mass_teleport.lua"
				"Function"		"MassTeleportStart"
				"Target"
				{
					"Center"  	"CASTER"
					"Radius" 	"%radius"
					"Teams" 	"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
					"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
					"Flags"     "DOTA_UNIT_TARGET_FLAG_NOT_MAGIC_IMMUNE_ALLIES"
					"MaxTargets" "%max_units_teleported"
				}
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_channeling_animation"
				"Target" 		"CASTER"
				"Duration"		"%channel_time"
			}
	
			"FireEffect"
			{
				"EffectName"	"particles/units/heroes/hero_keeper_of_the_light/keeper_of_the_light_recall_cast.vpcf"
				"EffectAttachType"	"start_at_custom_origin"
				
				"ControlPointEntities"
				{
					"CASTER"	"attach_origin"
					"CASTER"	"attach_origin"
				}
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_KeeperOfTheLight.Recall.Cast"
				"Target"		"CASTER"
			}
			
		}
	
		"OnChannelInterrupted"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/archmage/mass_teleport.lua"
				"Function"		"MassTeleportStop"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_KeeperOfTheLight.Recall.Fail"
				"Target" 		"CASTER"
			}	
	
			"RemoveModifier"
			{
				"ModifierName"	"modifier_channeling_animation"
				"Target" 		"CASTER"
			}
		}	
	
		"OnChannelSucceeded"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/archmage/mass_teleport.lua"
				"Function"		"MassTeleport"
			}
	
			"RemoveModifier"
			{
				"ModifierName"	"modifier_channeling_animation"
				"Target" 		"CASTER"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_KeeperOfTheLight.Recall.End"
				"Target" 		"TARGET"
			}										
		}	
	
		"Modifiers"
		{
			"modifier_channeling_animation"
			{
				"Passive"			"0"
				
				"OverrideAnimation" "ACT_DOTA_CAST_ABILITY_1"
			}
		}
	}
	// Archmage Summon Water Elemental
	// Author: Noya
	// Date: 13.1.2015.
	// Notes: Summons a Water Elemental to attack the Archmage's enemies.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	60 sec.	20 sec.	125	N/A	N/A	N/A	525 hit points, light damage	1
	//2	60 sec.	20 sec.	125	N/A	N/A	N/A	675 hit points, moderate damage	3
	//3	60 sec.	20 sec.	125	N/A	N/A	N/A	900 hit points, heavy damage	5
	"archmage_summon_water_elemental"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"archmage_summon_water_elemental"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCooldown"				"20"
		"AbilityManaCost"				"125"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"duration"				"60"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"hit_points"			"525 675 900"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"damage"				"20 35 45 55"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"lvl1_unit_count"		"1 0 0 0"
			}
			"05"
			{
				"var_type"				"FIELD_INTEGER"
				"lvl2_unit_count"		"0 1 0 0"
			}			
			"06"
			{
				"var_type"				"FIELD_INTEGER"
				"lvl3_unit_count"		"0 0 1 0"
			}
			"07"
			{
				"var_type"				"FIELD_INTEGER"
				"lvl4_unit_count"		"0 0 0 1"
			}			
		}
	
		"precache"
		{
			"particle"					"particles/units/heroes/hero_morphling/morphling_replicate_finish.vpcf"
			"soundfile"					"soundevents/game_sounds_heroes/game_sounds_morphling.vsndevts"
		}
	
		"OnSpellStart"
		{
			"SpawnUnit"
			{
				"UnitName"		"npc_water_elemental_1"
				"UnitCount"		"%lvl1_unit_count"
				"SpawnRadius"	"100"
				"Duration"		"%duration"
				"Target"		"CASTER"
				"GrantsGold" 	"1"
		        "GrantsXP" 		"1"
				"OnSpawn"
				{
					"AttachEffect"
					{
						"EffectName"		"particles/units/heroes/hero_morphling/morphling_replicate_finish.vpcf"
						"EffectAttachType"	"follow_origin"
						"Target"			"TARGET"
					}
					"FireSound"
					{
						"EffectName" "Hero_Morphling.Replicate"
						"Target"			"CASTER"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_summoned"
						"Target" 		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_water_elemental_2"
				"UnitCount"		"%lvl2_unit_count"
				"SpawnRadius"	"100"
				"Duration"		"%duration"
				"Target"		"CASTER"
				"GrantsGold" 	"1"
		        "GrantsXP" 		"1"
				"OnSpawn"
				{
					"AttachEffect"
					{
						"EffectName"		"particles/units/heroes/hero_morphling/morphling_replicate_finish.vpcf"
						"EffectAttachType"	"follow_origin"
						"Target"			"TARGET"
					}
					"FireSound"
					{
						"EffectName" "Hero_Morphling.Replicate"
						"Target"			"CASTER"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_summoned"
						"Target" 		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_water_elemental_3"
				"UnitCount"		"%lvl3_unit_count"
				"SpawnRadius"	"100"
				"Duration"		"%duration"
				"Target"		"CASTER"
				"GrantsGold" 	"1"
		        "GrantsXP" 		"1"
				"OnSpawn"
				{
					"AttachEffect"
					{
						"EffectName"		"particles/units/heroes/hero_morphling/morphling_replicate_finish.vpcf"
						"EffectAttachType"	"follow_origin"
						"Target"			"TARGET"
					}
					"FireSound"
					{
						"EffectName" "Hero_Morphling.Replicate"
						"Target"			"CASTER"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_summoned"
						"Target" 		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_water_elemental_4"
				"UnitCount"		"%lvl4_unit_count"
				"SpawnRadius"	"100"
				"Duration"		"%duration"
				"Target"		"CASTER"
				"GrantsGold" 	"1"
		        "GrantsXP" 		"1"
				"OnSpawn"
				{
					"AttachEffect"
					{
						"EffectName"		"particles/units/heroes/hero_morphling/morphling_replicate_finish.vpcf"
						"EffectAttachType"	"follow_origin"
						"Target"			"TARGET"
					}
					"FireSound"
					{
						"EffectName" "Hero_Morphling.Replicate"
						"Target"			"CASTER"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_summoned"
						"Target" 		"TARGET"
					}
				}
			}
		}
		"Modifiers"
		{
			"modifier_summoned"
			{
				"IsHidden"			"1"
				
				"States"
				{
					"MODIFIER_STATE_DOMINATED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"mechanics.lua"
						"Function"		"SetNoCorpse"
					}
				}
			}
		}
	}
	// Beastmaster Stamped3
	// Author: Noya
	// Date: 29.01.2015.
	// Notes: Calls down hordes of rampaging thunder lizards to explode upon the Beastmaster's enemies. Each exploding lizard does 60 damage.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	30 sec.	180 sec.	150	30	100	Ground, Buildings, Enemy, Neutral	Thunder Lizards go Crazy	6
	"beastmaster_stampede"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"beastmaster_stampede"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_DIRECTIONAL | DOTA_ABILITY_BEHAVIOR_CHANNELING"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_BUILDING"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_5"
	
		"AbilityCastRange"				"300"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"180.0"
	
		"AbilityManaCost"				"150"
	
		"AbilityChannelTime"			"30.0"
	
		"precache"
		{
			"particle" 	"particles/custom/tinker_machine.vpcf"
			"particle"  "particles/units/heroes/hero_riki/riki_backstab_hit_blood.vpcf"
			"particle"  "particles/units/heroes/hero_beastmaster/beastmaster_primal_roar.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_beastmaster.vsndevts"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_centaur.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"lizard_damage"	"60 90 120"
			}
			"02"
			{
				"var_type"		"FIELD_FLOAT"
				"duration"		"30"
			}
			"03"
			{
				"var_type"		"FIELD_INTEGER"
				"speed"			"600"
			}
			"04"
			{
				"var_type"		"FIELD_INTEGER"
				"distance"		"2000"
			}
			"05"
			{
				"var_type"			"FIELD_INTEGER"
				"collision_radius"	"100"
			}
			"06"
			{
				"var_type"			"FIELD_INTEGER"
				"lizards_per_sec"	"20"
			}
			"07"
			{
				"var_type"			"FIELD_INTEGER"
				"spawn_radius"		"1000"
			}
			"08"
			{
				"var_type"			"FIELD_FLOAT"
				"roar_interval"		"1.3"
			}
		}
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_stampede"
				"Target" 		"CASTER"
				"Duration"		"%duration"
			}
			"ApplyModifier"
			{
				"ModifierName"	"modifier_stampede_channeling"
				"Target" 		"CASTER"
			}
			"FireSound"
			{
				"EffectName"	"Hero_Beastmaster.Primal_Roar"
				"Target" 		"CASTER"
			}
			"RunScript"
			{
				"ScriptFile"	"heroes/beastmaster/stampede.lua"
				"Function"		"StampedeCast"
				"Target"		"POINT"
			}
		}
	
		"OnChannelFinish"
		{
			"RemoveModifier"
			{
				"ModifierName"	"modifier_stampede"
				"Target" 		"CASTER"
			}
			"RemoveModifier"
			{
				"ModifierName"	"modifier_stampede_channeling"
				"Target" 		"CASTER"
			}
		}
	
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"	"1"
			"Damage"
			{
				"Target"		"TARGET"
				"Type"			"DAMAGE_TYPE_MAGICAL"
				"Damage"		"%lizard_damage"
			}
	
			// Custom Building Damage
			"RunScript"
			{
				"ScriptFile"	"buildings/damage.lua"
				"Function"		"DoBuildingDamage"
				"Target"
				{
					"Center"  	"TARGET"
					"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types" 	"DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
					"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
				}
				"Damage"		"%lizard_damage / 2"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Beastmaster.Wild_Axes_Damage"
				"Target" 		"TARGET"
			}
			"FireEffect"
			{
				"EffectName"        "particles/units/heroes/hero_riki/riki_backstab_hit_blood.vpcf"
				"EffectAttachType"  "follow_origin"
				"Target"            "TARGET"
			}
		}
	
		"Modifiers"
		{
			"modifier_stampede"
			{
				"ThinkInterval"  "%roar_interval"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/beastmaster/stampede.lua"
						"Function"		"Stampede"
						"Target"		"POINT"
					}
				}
			}
	
			"modifier_stampede_channeling"
			{
				"IsHidden"				"1"
				"ThinkInterval"  		"%roar_interval"
				"OnIntervalThink"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_channeling"
						"Target" 		"CASTER"
						"Duration"		"1.25"
					}
					"FireSound"
					{
						"EffectName"	"Hero_Centaur.Stampede.Movement"
						"Target" 		"TARGET"
					}
				}
			}
	
			"modifier_channeling"
			{	
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_5"
			}
	
			"modifier_stampede_dummy"
			{
				"States"
				{
					"MODIFIER_STATE_INVULNERABLE"					"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"					"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_UNIT_COLLISION"				"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NOT_ON_MINIMAP"					"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_UNSELECTABLE"					"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_FLYING"							"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	// Beastmaster Summon Bear
	// Author: Noya
	// Date: 18.01.2015.
	// Notes: Summons a powerful bear to attack your enemies.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	45 sec.	125	N/A	N/A	N/A	Summons Bear	1
	//2	N/A	40 sec.	125	N/A	N/A	N/A	Summons Raging Bear with Bash	3
	//3	N/A	40 sec.	125	N/A	N/A	N/A	Summons Spirit Bear with Bash and Blink	5
	"beastmaster_summon_bear"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"beastmaster_summon_bear"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"45.0 40.0 40"
	
		"AbilityManaCost"				"125"
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_lone_druid/lone_druid_bear_spawn.vpcf"
			"particle"	"particles/units/heroes/hero_lone_druid/lone_druid_spirit_bear_death.vpcf"
			"particle"	"particles/status_fx/status_effect_spirit_bear.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_lone_druid.vsndevts"
			"model"		"models/heroes/lone_druid/spirit_bear.vmdl"
		}
	
		"AbilitySpecial"
		{
			// This Values are mostly for tooltips, the unit stats are not affected
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"duration"				"70"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"bear_hp"				"600 900 1200 1500"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"bear_regen_tooltip"	"0.5 1 1.5 2"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"bear_damage"			"20 29 39 49"
			}
			"05"
			{
				"var_type"				"FIELD_INTEGER"
				"bear_armor"			"0 1 2 3"
			}	
			"06"
			{
				"var_type"				"FIELD_INTEGER"
				"bear_1_count"			"1 0 0 0"
			}
			"07"
			{
				"var_type"				"FIELD_INTEGER"
				"bear_2_count"			"0 1 0 0"
			}
			"08"
			{
				"var_type"				"FIELD_INTEGER"
				"bear_3_count"			"0 0 1 0"
			}
			"09"
			{
				"var_type"				"FIELD_INTEGER"
				"bear_4_count"			"0 0 0 1"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
		    {
		    	"EffectName"	"Hero_LoneDruid.SpiritBear.Cast" 
		    	"Target"		"CASTER"
		    }
	
			"SpawnUnit"
			{
				"UnitName"			"npc_beastmaster_bear"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/beastmaster/summon_bear.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
	
				"UnitCount"			"%bear_1_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				// This makes sure units never get stuck
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_beastmaster_bear"
						"Target"		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"			"npc_beastmaster_raging_bear"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/beastmaster/summon_bear.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
	
				"UnitCount"			"%bear_2_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_beastmaster_bear"
						"Target"		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"			"npc_beastmaster_spirit_bear"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/beastmaster/summon_bear.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
	
				"UnitCount"			"%bear_3_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_beastmaster_bear"
						"Target"		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"			"npc_beastmaster_raging_bear2"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/beastmaster/summon_bear.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
	
				"UnitCount"			"%bear_4_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_beastmaster_bear"
						"Target"		"TARGET"
					}
				}
			}
		}
	
		"Modifiers"
		{
			"modifier_beastmaster_bear"
			{
				"IsHidden"		"1"
	
				"StatusEffectName"		"particles/status_fx/status_effect_spirit_bear.vpcf"
				"StatusEffectPriority"	"1"
	
				"States"
				{
					"MODIFIER_STATE_DOMINATED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
	
				"OnCreated"
				{
					"FireEffect"
					{
						"Target"			"TARGET"
						"EffectName"		"particles/units/heroes/hero_lone_druid/lone_druid_bear_spawn.vpcf"
						"EffectAttachType"	"follow_origin"
					}
	
					"RunScript"
					{
						"ScriptFile"	"mechanics.lua"
						"Function"		"SetNoCorpse"
					}
				}
	
				"OnDeath"
				{
					"FireEffect"
					{
						"Target"			
						{
							"Center"	"UNIT"
							"Flags"		"DOTA_UNIT_TARGET_FLAG_DEAD"
						}
						"EffectName"		"particles/units/heroes/hero_lone_druid/lone_druid_spirit_bear_death.vpcf"
						"EffectAttachType"	"follow_origin"
					}
				}
			}
		}
	}
	
	// Extra abilities for the level 2 and level 3 bears
	
	// Gives a 25% chance that an attack will do 25 bonus damage and stun an opponent for 1 second. Only Raging Bears and Spirit Bears have Bash.
	"beastmaster_summon_bear_bash"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"mountain_king_bash"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityDamage"					"25"
	
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_faceless_void.vsndevts"
			"particle"	"particles/status_fx/status_effect_faceless_chronosphere.vpcf"
			"particle"	"particles/generic_gameplay/generic_stunned.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"bash_chance"			"25"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"stun_duration"			"1.0"
			}
		}
	
		"Modifiers"
		{
			"modifier_bash"	
			{
				"Passive"	"1"
				"IsHidden"	"1"
	
				"OnAttackLanded"
				{
					"Random"
					{
						"Chance"		"%bash_chance"
						"PseudoRandom"	"DOTA_PSEUDO_RANDOM_FACELESS_BASH"
	
						"OnSuccess"
						{
							"FireSound"
							{
								"EffectName"	"Hero_FacelessVoid.TimeLockImpact"
								"Target"		"TARGET"
							}
	
							"ApplyModifier"
							{
								"ModifierName"	"modifier_bash_stun"
								"Target"		"TARGET"
								"Duration"		"%stun_duration"	
							}
	
							"Damage"
							{
								"Target"	"TARGET"
								"Type"		"DAMAGE_TYPE_MAGICAL"
								"Damage"	"%AbilityDamage"
							}
						}
					}
				}
			}
	
			"modifier_bash_stun"
			{
				"IsDebuff"			"1"
				"EffectName"		"particles/generic_gameplay/generic_stunned.vpcf"
				"EffectAttachType"	"follow_overhead"
	
				"States"
				{
					"MODIFIER_STATE_STUNNED"	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	
	// Teleports the Bear a short distance, allowing it to move in and out of combat. Only Spirit Bears have this ability.
	//Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect
	//0.3 sec.	15 sec.	None	9999.9	Personal	Self	Teleports Bear to target location
	"beastmaster_summon_bear_blink"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"beastmaster_summon_bear_blink"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_ROOT_DISABLES | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
		"AbilityCastAnimation"			"ACT_DOTA_SPAWN"
	
		"AbilityCastRange"				"1000"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"15"
	
		"AbilityManaCost"				"0"
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_lone_druid/lone_druid_bear_blink_end.vpcf"
			"particle"	"particles/units/heroes/hero_lone_druid/lone_druid_bear_blink_start.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_lone_druid.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"blink_range"			"1000"
			}
		}
	
		"OnSpellStart"
		{
	
			"FireSound"
			{
				"EffectName"		"LoneDruid_SpiritBear.ReturnStart"
				"Target"			"CASTER"
			}
	
			"FireEffect"
			{
				"EffectName"		"particles/units/heroes/hero_lone_druid/lone_druid_bear_blink_start.vpcf"
				"EffectAttachType"	"attach_hitloc"
				"Target"			"CASTER"
			}
	
			"RunScript"
			{
				"ScriptFile"		"heroes/beastmaster/summon_bear.lua"
				"Function"			"Blink"
				"Target"			"POINT"
			}		
	
			"FireSound"
			{
				"EffectName"		"LoneDruid_SpiritBear.Return"
				"Target"			"CASTER"
			}
	
			// Need to wait a bit for the blink script to end
			"DelayedAction"
			{
				"Delay"	"0.15"
				"Action"
				{
					"FireEffect"
					{
						"EffectName"		"particles/units/heroes/hero_lone_druid/lone_druid_bear_blink_end.vpcf"
						"EffectAttachType"	"follow_origin"
						"Target"			"CASTER"
					}
				}
			}
		}
	}
	// Beastmaster Summon Hawk
	// Author: Noya
	// Date: 18.1.2015.
	// Notes: Summons a proud hawk to spy on your enemies.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	70 sec.	50	N/A	N/A	N/A	Summons Hawk	1
	//2	N/A	70 sec.	50	N/A	N/A	N/A	Summons Thunder Hawk with an attack	3
	//3	N/A	70 sec.	50	N/A	N/A	N/A	Summons Spirit Hawk with Invisibility	5
	
	// TODO - Add Abilities
		// True Sight
		// Magic Attack AoE?
		// Invisibility after not attacking
	"beastmaster_summon_hawk"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"beastmaster_summon_hawk"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"75.0"
	
		"AbilityManaCost"				"50"
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_beastmaster/beastmaster_call_bird.vpcf"
			"particle"	"particles/units/heroes/hero_lone_druid/lone_druid_spirit_bear_death.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_beastmaster.vsndevts"
			"model"		"models/heroes/beastmaster/beastmaster_bird.vmdl"
			"particle"  "particles/status_fx/status_effect_slark_shadow_dance.vpcf"
		}
	
		"AbilitySpecial"
		{
			// This Values are mostly for tooltips, the unit stats are not affected
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"duration"				"70"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"bird_hp"				"300 450 650 850"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"bird_regen_tooltip"	"0.5 1 1.5 2"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"bird_damage"			"0 23 52 82"	//MAGIC DAMAGE?
			}
			"05"
			{
				"var_type"				"FIELD_INTEGER"
				"bird_armor"			"0 3 5 7"
			}	
			"06"
			{
				"var_type"				"FIELD_INTEGER"
				"bird_1_count"			"1 0 0 0"
			}
			"07"
			{
				"var_type"				"FIELD_INTEGER"
				"bird_2_count"			"0 1 0 0"
			}
			"08"
			{
				"var_type"				"FIELD_INTEGER"
				"bird_3_count"			"0 0 1 0"
			}
			"09"
			{
				"var_type"				"FIELD_INTEGER"
				"bird_4_count"			"0 0 0 1"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
		    {
		    	"EffectName"	"Hero_Beastmaster.Call.Hawk"
		    	"Target"		"CASTER"
		    }
	
			"SpawnUnit"
			{
				"UnitName"			"npc_beastmaster_hawk"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/beastmaster/summon_bear.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
	
				"UnitCount"			"%bird_1_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				// This makes sure units never get stuck
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_beastmaster_bird"
						"Target"		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"			"npc_beastmaster_thunder_hawk"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/beastmaster/summon_bear.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
	
				"UnitCount"			"%bird_2_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_beastmaster_bird"
						"Target"		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"			"npc_beastmaster_spirit_hawk"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/beastmaster/summon_bear.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
	
				"UnitCount"			"%bird_3_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_beastmaster_bird"
						"Target"		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"			"npc_beastmaster_spirit_hawk2"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/beastmaster/summon_bear.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
	
				"UnitCount"			"%bird_4_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_beastmaster_bird"
						"Target"		"TARGET"
					}
				}
			}
		}
	
		"Modifiers"
		{
			"modifier_beastmaster_bird"
			{
				"IsHidden"		"1"
	
				"OnCreated"
				{
					"FireEffect"
					{
						"Target"			"TARGET"
						"EffectName"		"particles/units/heroes/hero_beastmaster/beastmaster_call_bird.vpcf"
						"EffectAttachType"	"follow_origin"
					}
				}
	
				"OnDeath"
				{
					"FireEffect"
					{
						"Target"			
						{
							"Center"	"UNIT"
							"Flags"		"DOTA_UNIT_TARGET_FLAG_DEAD"
						}
						"EffectName"		"particles/units/heroes/hero_lone_druid/lone_druid_spirit_bear_death.vpcf"
						"EffectAttachType"	"follow_origin"
					}
	
					"FireSound"
					{
						"Target"			
						{
							"Center"	"UNIT"
							"Flags"		"DOTA_UNIT_TARGET_FLAG_DEAD"
						}
						"EffectName"	"Hero_Beastmaster_Bird.Death"
					}
				}
			}
		}
	}
	
	
	// Sub Ability
	"beastmaster_hawk_invis"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"beastmaster_hawk_invisibility"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"motionless_time"	"4"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"duration"		"3.0 4.0 5.0"
			}
		}
	
		"Modifiers"
		{
			"modifier_hawk_think"
			{
				"Passive"			"1"
				"IsHidden"			"1"
	
				"States"
				{
					"MODIFIER_STATE_DOMINATED"		"MODIFIER_STATE_VALUE_ENABLED"
				}		
	
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/beastmaster/summon_hawk.lua"
						"Function"		"HawkCreated"
					}
	
					"RunScript"
					{
						"ScriptFile"	"mechanics.lua"
						"Function"		"SetNoCorpse"
					}
				}
	
				"OnUnitMoved"
				{
					"RunScript"
					{
						"ScriptFile"    "heroes/beastmaster/summon_hawk.lua"
						"Function"		"HawkMoved"
					}
	
					"RemoveModifier"
					{
						"ModifierName"	"modifier_hawk_invis"
						"Target" 		"CASTER"
					}
	
					"RemoveModifier"
					{
						"ModifierName"	"modifier_invisible"
						"Target" 		"CASTER"
					}
				}
	
				"OnAttackStart"
				{
					"RunScript"
					{
						"ScriptFile"    "heroes/beastmaster/summon_hawk.lua"
						"Function"		"HawkAttacked"
					}
	
					"RemoveModifier"
					{
						"ModifierName" 	"modifier_hawk_invis"
						"Target"		"CASTER"
					}
	
					"RemoveModifier"
					{
						"ModifierName"	"modifier_invisible"
						"Target" 		"CASTER"
					}
				}
	
				"ThinkInterval"  	"0.03"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"    "heroes/beastmaster/summon_hawk.lua"
						"Function"		"HawkInvisCheck"
					}		
				}
			}
	
			"modifier_hawk_invis"
			{
				"States"
				{
					"MODIFIER_STATE_INVISIBLE"	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}	
	}
	// Beastmaster Summon Quillbeast
	// Author: Noya
	// Date: 18.1.2015.
	// Notes: Summons an angry Quilbeast to attack your enemies.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	25 sec.	75	N/A	N/A	N/A	Summons Quilbeast	1
	//2	N/A	25 sec.	75	N/A	N/A	N/A	Summons Dire Quilbeast with Frenzy	3
	//3	N/A	25 sec.	75	N/A	N/A	N/A	Summons Raging Quilbeast with area effect damage and Frenzy	5
	
	"beastmaster_summon_quilbeast"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"beastmaster_summon_quilbeast"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_1"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"25.0"
	
		"AbilityManaCost"				"75"
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_beastmaster/beastmaster_call_boar.vpcf"
			"particle"	"particles/units/heroes/hero_lone_druid/lone_druid_spirit_bear_death.vpcf"
			"particle"	"particles/units/heroes/hero_beastmaster/beastmaster_boar_attack.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_beastmaster.vsndevts"
			"model"		"models/heroes/beastmaster/beastmaster_beast.vmdl"
	
			// Sub Abilities
			"particle"  "particles/units/heroes/hero_sven/sven_spell_great_cleave.vpcf"
			"particle"  "particles/units/heroes/hero_ogre_magi/ogre_magi_bloodlust_buff.vpcf"
		}
	
		"AbilitySpecial"
		{
			// This Values are mostly for tooltips, the unit stats are not affected
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"duration"				"70"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"boar_hp"				"425 515 600 685"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"boar_regen_tooltip"	"0.5 1 1.5 2"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"boar_damage"			"14 28 42 56"
			}
			"05"
			{
				"var_type"				"FIELD_INTEGER"
				"boar_armor"			"0"
			}	
			"06"
			{
				"var_type"				"FIELD_INTEGER"
				"boar_1_count"			"1 0 0 0"
			}
			"07"
			{
				"var_type"				"FIELD_INTEGER"
				"boar_2_count"			"0 1 0 0"
			}
			"08"
			{
				"var_type"				"FIELD_INTEGER"
				"boar_3_count"			"0 0 1 0"
			}
			"09"
			{
				"var_type"				"FIELD_INTEGER"
				"boar_4_count"			"0 0 0 1"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
		    {
		    	"EffectName"	"Hero_Beastmaster.Call.Boar"
		    	"Target"		"CASTER"
		    }
	
			"SpawnUnit"
			{
				"UnitName"			"npc_beastmaster_quilbeast"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/beastmaster/summon_bear.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
	
				"UnitCount"			"%boar_1_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				// This makes sure units never get stuck
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_beastmaster_boar"
						"Target"		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"			"npc_beastmaster_dire_quilbeast"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/beastmaster/summon_bear.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
	
				"UnitCount"			"%boar_2_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_beastmaster_boar"
						"Target"		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"			"npc_beastmaster_raging_quilbeast"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/beastmaster/summon_bear.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
	
				"UnitCount"			"%boar_3_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_beastmaster_boar"
						"Target"		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"			"npc_beastmaster_raging_quilbeast2"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/beastmaster/summon_bear.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
	
				"UnitCount"			"%boar_4_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_beastmaster_boar"
						"Target"		"TARGET"
					}
				}
			}
		}
	
		"Modifiers"
		{
			"modifier_beastmaster_boar"
			{
				"IsHidden"		"1"
	
				"States"
				{
					"MODIFIER_STATE_DOMINATED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
	
				"OnCreated"
				{
					"FireEffect"
					{
						"Target"			"TARGET"
						"EffectName"		"particles/units/heroes/hero_beastmaster/beastmaster_call_boar.vpcf"
						"EffectAttachType"	"follow_origin"
					}
					
					"RunScript"
					{
						"ScriptFile"	"mechanics.lua"
						"Function"		"SetNoCorpse"
					}
				}
	
				"OnDeath"
				{
					"FireEffect"
					{
						"Target"			
						{
							"Center"	"UNIT"
							"Flags"		"DOTA_UNIT_TARGET_FLAG_DEAD"
						}
						"EffectName"		"particles/units/heroes/hero_lone_druid/lone_druid_spirit_bear_death.vpcf"
						"EffectAttachType"	"follow_origin"
					}
					
					"FireSound"
					{
						"Target"			
						{
							"Center"	"UNIT"
							"Flags"		"DOTA_UNIT_TARGET_FLAG_DEAD"
						}
						"EffectName"	"Hero_Beastmaster_Boar.Death"
					}
				}
			}
		}
	}
	
	
	// Sub Abilities
	
	"beastmaster_quillbeast_frenzy"
	{
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_NO_TARGET"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_BASIC"
		"AbilityTextureName"			"beastmaster_quillbeast_frenzy"
	
		"AbilityCooldown"				"30"
		"AbilityManaCost"				"0"
	
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"duration"			"20"
			}
	
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"model_size"		"1.25"
			}	
	
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_movement_speed"	"25"
			}
	
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_attack_speed"	"40"
			}
		}
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_frenzy"
				"Target" 		"CASTER"
				"Duration"		"%duration"
			}
		}
	
		"Modifiers"
		{
			"modifier_frenzy_autocast"
			{
				"Passive"			"1"
				"IsHidden"			"1"
				"IsDebuff"			"0"
			
				"OnAttackStart"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/beastmaster/summon_quillbeast.lua"
						"Function"		"FrenzyAutocast"
					}
				}
			}
	
			"modifier_frenzy"
			{
				"EffectName"		"particles/units/heroes/hero_ogre_magi/ogre_magi_bloodlust_buff.vpcf"
				"EffectAttachType"	"follow_origin"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%bonus_attack_speed"
				    "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%bonus_movement_speed" 
				}
	
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/beastmaster/summon_quillbeast.lua"
						"Function"		"FrenzyResize"
					}
				}
			}
		}
	}
	
	"beastmaster_quillbeast_cleave"
	{
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"radius"			"125"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"cleave_pct"		"100"
			}
		}
	
		"Modifiers"
		{
			"modifier_quillbeast_cleave"
			{
				"Passive"			"1"
				"IsHidden"			"1"
	
				"OnAttackLanded"
				{
					"CleaveAttack"
					{
						"CleavePercent"         "%cleave_pct"
						"CleaveRadius"          "%radius"
						"CleaveEffect"          "particles/units/heroes/hero_sven/sven_spell_great_cleave.vpcf"
					}
				}
			}
		}
	}
	// Blademaster Bladestorm
	// Author: Noya
	// Date: 28.01.2015.
	// Notes: Causes a bladestorm of destructive force around the Blademaster, rendering him immune to magic and dealing 110 damage per second to nearby enemy land units.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	7 sec.	180 sec.	200	N/A	N/A	Ground, Enemy, Neutral	110 damage per second	6
	"blademaster_bladestorm"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"blademaster_bladestorm"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_BUILDING"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.0"
		"AbilityCooldown"				"180.0"
	
		"AbilityManaCost"				"100"
		"AbilityDamage"					"110"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_juggernaut/juggernaut_blade_fury.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_juggernaut.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_FLOAT"
				"bladestorm_damage_tick"	"0.2 0.3 0.4"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"bladestorm_radius"			"250"
			}
			"03"
			{
				"var_type"					"FIELD_FLOAT"
				"duration"					"7.0"
			}
		}
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_bladestorm"
				"Target" 		"CASTER"
				"Duration"		"%duration"
			}	
		}
	
		"Modifiers"
		{
			"modifier_bladestorm"
			{	
				"OverrideAnimation"     	"ACT_DOTA_OVERRIDE_ABILITY_1"
				"States"
				{
					"MODIFIER_STATE_MAGIC_IMMUNE"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_SILENCED"			"MODIFIER_STATE_VALUE_ENABLED"
				}
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"        "particles/units/heroes/hero_juggernaut/juggernaut_blade_fury.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "CASTER"
						"ControlPoints"
						{
							"05"	"%bladestorm_radius 0 0"
						}					
					}
					"FireSound"
					{
						"EffectName"	"Hero_Juggernaut.BladeFuryStart"
						"Target" 		"CASTER"
					}			
				}
				
				"ThinkInterval"  "%bladestorm_damage_tick"
				"OnIntervalThink"
				{
					"ActOnTargets"
					{
						"Target"
						{
							"Center"  	"CASTER"
							"Radius" 	"%bladestorm_radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
						}
					
						"Action"    
						{
							"Damage"
							{
								"Target"		"TARGET"
								"Type"			"DAMAGE_TYPE_MAGICAL"
								"Damage"		"%AbilityDamage * %bladestorm_damage_tick"
							}
	
							// Custom Building Damage
							"RunScript"
							{
								"ScriptFile"	"buildings/damage.lua"
								"Function"		"DoBuildingDamage"
								"Target"
								{
									"Center"  	"TARGET"
									"Radius" 	"%radius"
									"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
									"Types" 	"DOTA_UNIT_TARGET_BASIC"
									"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
								}
								"Damage"		"%AbilityDamage * %bladestorm_damage_tick"
							}
	
							"FireSound"
							{
								"EffectName"	"Hero_Juggernaut.BladeFury.Impact"
								"Target" 		"TARGET"
							}
						}
					}		
				}
	
				"OnDestroy"
				{
					"FireSound"
					{
						"EffectName"	"Hero_Juggernaut.BladeFuryStop"
						"Target" 		"CASTER"
					}
					"RunScript"
					{
						"ScriptFile"	"heroes/blademaster/bladestorm.lua"
						"Function"		"BladeFuryStop"
					}
				}
			}
		}	
	}
	// Blademaster Critical Strike
	// Author: 
	// Date: 13.1.2015.
	// Notes: Gives a 15% chance that the Blademaster will do more damage on his attacks.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	Unlimited	N/A	N/A	N/A	N/A	Self	2 times normal damage	1
	//2	Unlimited	N/A	N/A	N/A	N/A	Self	3 times normal damage	3
	//3	Unlimited	N/A	N/A	N/A	N/A	Self	4 times normal damage	5
	"blademaster_critical_strike"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"blademaster_critical_strike"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_juggernaut/jugg_attack_blur.vpcf"
			"particle"	"particles/units/heroes/hero_juggernaut/jugg_crit_blur_impact.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_skeletonking.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"crit_bonus"				"200 300 400 500"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"crit_chance"				"15"
			}
		}
	
		"Modifiers"
		{
			"modifier_critical_strike"
			{
			    "Passive"   "1"
			    "IsHidden"  "1"
			    "OnAttackStart"
			    {
			        "RemoveModifier"
			        {
			            "ModifierName" 	"modifier_critical_strike_crit"
			            "Target" 		"CASTER"
			        }
	
			        "Random"
			        {
			            "Chance" "%crit_chance"
			            "OnSuccess"
			            {
			            	"FireSound"
					        {
					        	"EffectName"	"Hero_SkeletonKing.CriticalStrike"
					        	"Target"		"CASTER"
					        }
	
					        "FireEffect"
					        {
					       		"EffectName" 		"particles/units/heroes/hero_juggernaut/jugg_attack_blur.vpcf"
					            "EffectAttachType"  "attach_sword"
					            "Target"    		"CASTER"
					        }
	
			                "ApplyModifier"
			                {
			                    "ModifierName" 	"modifier_critical_strike_crit"
			                    "Target"    	"CASTER"    
			                }        
			            }
			        }
			    }
			}
	
			"modifier_critical_strike_crit"
			{
			    "IsHidden"  "1"
			    "Properties"
			    {
			        "MODIFIER_PROPERTY_PREATTACK_CRITICALSTRIKE" "%crit_bonus"
			    }
	
			    "OnAttackLanded"
			    {
			    	"FireEffect"
			    	{
			    		"EffectName"		"particles/units/heroes/hero_juggernaut/jugg_crit_blur_impact.vpcf"
			    		"EffectAttachType"	"attach_hitloc"
			    		"Target"			"TARGET"
			    	}
			        "RemoveModifier"
			        {
			            "ModifierName"  	"modifier_critical_strike_crit"
			            "Target"   			"CASTER"    
			        }
			    }
			}
		}
	}
	// Blademaster Mirror Image
	// Author: Noya
	// Date: 18.01.2015.
	// Notes: Confuses the enemy by creating illusions of the Blademaster and dispelling all magic from the Blademaster.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	60 sec.	3 sec.	125	N/A	N/A	N/A	Creates 1 illusion	1
	//2	60 sec.	3 sec.	125	N/A	N/A	N/A	Creates 2 illusion	3
	//3	60 sec.	3 sec.	125	N/A	N/A	N/A	Creates 3 illusion	5
	"blademaster_mirror_image"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"blademaster_mirror_image"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_4"
	
		"AbilityCooldown"				"3.0"
		"AbilityCastPoint"				"0.3"
	
		"AbilityManaCost"				"125 125 125"
	
		"precache"
		{
			"particle" 			"particles/units/heroes/hero_siren/naga_siren_mirror_image.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"images_count"				"1 2 3 4"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"illusion_outgoing_damage"	"-100 -100 -100"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"outgoing_damage_tooltip"	"0"
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"illusion_incoming_damage"	"100"
			}
			"05"
			{
				"var_type"					"FIELD_FLOAT"
				"illusion_duration"			"60.0 60.0 60.0"
			}
			"06"
			{
				"var_type"					"FIELD_FLOAT"
				"invuln_duration"			"0.5"
			}			
		}
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_mirror_image"
				"Target"		"CASTER"
			}
		}
	
		"Modifiers"
		{
			"modifier_mirror_image"
			{	
				"Duration"			"%invuln_duration"
				"IsHidden"			"1"
	
				"States"
				{
					"MODIFIER_STATE_INVULNERABLE" 			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_LOW_ATTACK_PRIORITY"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_UNSELECTABLE"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_STUNNED"				"MODIFIER_STATE_VALUE_ENABLED"
				}
	
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"		"particles/units/heroes/hero_siren/naga_siren_mirror_image.vpcf"
						"EffectAttachType"	"follow_origin"
						"Target"			"CASTER"
					}
	
					"FireSound"
					{
						"EffectName"	"DOTA_Item.Manta.Activate"
						"Target"		"CASTER"
					}
			    }
	
			    "OnDestroy"
			    {
			    	"RunScript"
				    {
				        "ScriptFile"    "heroes/blademaster/mirror_image.lua"
				        "Function"      "MirrorImage"
				    }
			    }
			}
		}
	}
	// Blademaster Wind Walk
	// Author: Noya
	// Date: 17.01.2015.
	// Notes: Allows the Blademaster to become invisible, and move faster for a set amount of time. When the Blademaster attacks a unit to break invisibility, he will deal bonus damage.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	20 sec.	5 sec.	75	N/A	Personal	Self	Invisible, +10% movement speed, 40 bonus damage	1
	//2	35 sec.	5 sec.	75	N/A	Personal	Self	Invisible, +40% movement speed, 70 bonus damage	3
	//3	50 sec.	5 sec.	75	N/A	Personal	Self	Invisible, Max Movement Speed, 100 bonus damage	5
	"blademaster_windwalk"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"blademaster_windwalk"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"
	
		"AbilityCastPoint"				"0"
		"AbilityCooldown"				"5.0"
	
		"AbilityManaCost"				"75"
	
		"precache"
		{
		  	"soundfile"	"soundevents/game_sounds_heroes/game_sounds_bounty_hunter.vsndevts"
		  	"particle"	"particles/units/heroes/hero_bounty_hunter/bounty_hunter_windwalk.vpcf" 
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"duration"			"20 35 50 75"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"bonus_movespeed"	"10 40 100 150"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"bonus_damage"		"40 70 100 130"
			}
		}
	
		"OnSpellStart"
		{
			"FireEffect"
			{
				"Target"			"CASTER"
				"EffectName"		"particles/units/heroes/hero_bounty_hunter/bounty_hunter_windwalk.vpcf"
				"EffectAttachType"	"attach_origin"
			}
	
			"FireSound"
			{
				"Target"		"CASTER"
				"EffectName"	"Hero_BountyHunter.WindWalk"
			}
	
			"ApplyModifier"
			{
				"ModifierName" 	"modifier_invisible"
				"Target"		"CASTER"
				"Duration"		"%duration"
			}
	
			"ApplyModifier"
			{
				"ModifierName" 	"modifier_windwalk"
				"Target"		"CASTER"
				"Duration"		"%duration"
			}
		}
	
		"Modifiers"
		{
			"modifier_windwalk"
			{
				"IsBuff"			"1"
				"Duration"          "%duration"
				//"EffectName"		"particles/units/heroes/hero_bounty_hunter/bounty_hunter_windwalk.vpcf"
				//"EffectAttachType"	"follow_origin"
	
				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"      "%bonus_movespeed"
				}
				
				"States"
				{
					"MODIFIER_STATE_INVISIBLE"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
				}
				
				"OnAttackLanded"
				{
					"RemoveModifier"
					{
						"ModifierName" 	"modifier_invisible"
						"Target"		"CASTER"
					}
	
					"RemoveModifier"
					{
						"ModifierName" 	"modifier_windwalk"
						"Target"		"CASTER"
					}
	
					"Damage"
					{
						"Target"	"TARGET"
						"Type"		"DAMAGE_TYPE_PHYSICAL"
						"Damage"	"%bonus_damage"
					}
	
					"FireEffect"
					{
						"EffectName"		"particles/msg_fx/msg_crit.vpcf"
						"EffectAttachType"	"follow_overhead"
						"Target"			"TARGET"
						"ControlPoints"
						{
							"01"		"9 %bonus_damage 4"	//pre number post
							"02"		"1 4 0"					//lifetime digits
							"03"		"255 0 0"				//color
						}
					}
				}
	
				"OnAbilityExecuted"
				{
					"RemoveModifier"
					{
						"ModifierName" 	"modifier_invisible"
						"Target"		"CASTER"
					}
	
					"RemoveModifier"
					{
						"ModifierName" 	"modifier_windwalk"
						"Target"		"CASTER"
					}
				}
			}
		}
	}
	// Blood Mage Banish
	// Author: Noya
	// Date: 24.1.2015.
	// Notes: Turns a unit ethereal and slows its movement speed by 50% for 18 seconds (at level 3). 
	// Ethereal units cannot attack, but they can cast spells and will take 66% more damage from Magic attacks and spells.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	12 (4) sec.	N/A	75	80	Unit	Air, Ground, Organic, Self	Unit turned Ethereal	1
	//2	15 (5) sec.	N/A	60	80	Unit	Air, Ground, Organic, Self	Unit turned Ethereal	3
	//3	18 (6) sec.	N/A	50	80	Unit	Air, Ground, Organic, Self	Unit turned Ethereal	5
	"blood_mage_banish"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"blood_mage_banish"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_DEAFENING_BLAST"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"0.0"
	
		"AbilityManaCost"				"75 60 50 40"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_pugna/pugna_decrepify.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_pugna.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"bonus_spell_damage"		"-66"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"bonus_movement_speed"		"-50"
			}
			"03"
			{
				"var_type"					"FIELD_FLOAT"
				"creep_duration"			"12 15 18 21"
			}
			"04"
			{
				"var_type"					"FIELD_FLOAT"
				"hero_duration"				"4 5 6 7"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Pugna.Decrepify"
				"Target" 		"TARGET"
			}
			
			"ApplyModifier"
			{
				"ModifierName"	"modifier_banish"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_BOTH"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%hero_duration"
			}
			
			"ApplyModifier"
			{
				"ModifierName"	"modifier_banish"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_BOTHDOTA_UNIT_TARGET_TEAM_BOTH"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%creep_duration"
			}
		}
	
		"Modifiers"
		{
			"modifier_banish"
			{
				"IsDebuff"			"1"
		
				"EffectName"		"particles/units/heroes/hero_pugna/pugna_decrepify.vpcf"
				"EffectAttachType"	"follow_origin"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_MAGICAL_RESISTANCE_DECREPIFY_UNIQUE" "%bonus_spell_damage"
				    "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%bonus_movement_speed" 
				}
	
				"States"
				{
					"MODIFIER_STATE_DISARMED"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ATTACK_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
				}			
			}
		}	
	}
	// Blood Mage Flame Strike
	// Author: Noya
	// Date: 17.1.2015.
	// Notes: Conjures a pillar of fire which damages ground units in a target area over time.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	6 sec.	10 sec.	135	80	20	Ground, Enemy, Neutral, Friend, Building, Self, Tree	45 damage/sec. for 3 seconds, minor damage for 6 sec.	1
	//2	6 sec.	10 sec.	135	80	20	Ground, Enemy, Neutral, Friend, Building, Self, Tree	80 damage/sec. for 3 seconds, light damage for 6 sec.	3
	//3	6 sec.	10 sec.	135	80	20	Ground, Enemy, Neutral, Friend, Building, Self, Tree	110 damage/sec. for 3 seconds, moderate damage for 6 sec.	5
	"blood_mage_flame_strike"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"blood_mage_flame_strike"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_CHAOS_METEOR"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.5"
		"AbilityCooldown"				"10.0"
	
		"AbilityManaCost"				"135"
	
		"AoERadius"						"200"
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_lina/lina_spell_light_strike_array.vpcf"
			"particle"	"particles/units/heroes/hero_phoenix/phoenix_fire_spirit_ground.vpcf"
			"particle" 	"particles/custom/phoenix_fire_spirit_ground.vpcf"
			"particle" 	"particles/econ/items/shadow_fiend/sf_fire_arcana/sf_fire_arcana_requiemofsouls_line_ground.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_lina.vsndevts"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_invoker.vsndevts"
			"soundfile" "soundevents/custom_sounds.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"200"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"first_strike_dps"		"45 80 110 140"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"first_strike_duration"	"3"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"burn_dps"				"5 10 15 20"
			}
			"05"
			{
				"var_type"				"FIELD_INTEGER"
				"burn_duration"			"6"
			}
			"06"
			{
				"var_type"				"FIELD_INTEGER"
				"delay"					"1.6"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				//"EffectName"	"Hero_Invoker.SunStrike.Charge"
				"EffectName"	"FootmenFrenzy.FlameStrike"
				"Target" 		"CASTER"
			}
	
			"FireEffect"
			{
				"EffectName"        "particles/econ/items/shadow_fiend/sf_fire_arcana/sf_fire_arcana_requiemofsouls_line_ground.vpcf"
				"EffectAttachType"  "world_origin"
				"TargetPoint"       "POINT"
			}
	
			"DelayedAction"
			{
				"Delay"     "%delay"
				"Action"    
				{
					"CreateThinker"
					{
						"ModifierName"	"modifier_flame_strike_thinker1"
						"Target"		"POINT"
					}
				}
			}
			
			"DestroyTrees"
			{
				"Target"		"POINT"
				"Radius"		"%radius"
			}
		}
	
		"Modifiers"
		{
			"modifier_flame_strike_thinker1"
			{
				"IsHidden"		"1"
				"Duration"		"%first_strike_duration + 0.1"
	
				"Aura" 				"modifier_flame_strike_first_burn"
	    		"Aura_Radius" 		"%radius"
	    		"Aura_Teams" 		"DOTA_UNIT_TARGET_TEAM_BOTH"
	    		"Aura_Types" 		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	
	    		"OnCreated"
	    		{
	    			"Damage"
					{
						"Type"		"DAMAGE_TYPE_MAGICAL"
						"Damage"	"%first_strike_dps"
						"Target"
						{
							"Center"	"TARGET"
							"Radius"	"%radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_BOTH"
							"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
						}
					}
	
					"FireSound"
					{
						"EffectName"	"Ability.LightStrikeArray"
						"Target" 		"TARGET"
					}
	
	    			"AttachEffect"
					{
						"Target"			"TARGET"
						"EffectName"		"particles/units/heroes/hero_lina/lina_spell_light_strike_array.vpcf"
						"EffectAttachType"	"follow_origin"
						"EffectRadius"		"%radius"
					}
					"AttachEffect"
					{
						"Target"			"TARGET"
						"EffectName"		"particles/units/heroes/hero_phoenix/phoenix_fire_spirit_ground.vpcf"
						"EffectAttachType"	"follow_origin"
						"EffectRadius"		"%radius"
					}
	    		}
	
	    		"ThinkInterval"		"1"
	    		"OnIntervalThink"
	    		{
					"AttachEffect"
					{
						"Target"			"TARGET"
						"EffectName"		"particles/units/heroes/hero_phoenix/phoenix_fire_spirit_ground.vpcf"
						"EffectAttachType"	"follow_origin"
						"EffectRadius"		"%radius"
					}
	    		}
	
	    		"OnDestroy"
	    		{
	    			"CreateThinker"
					{
						"ModifierName"	"modifier_flame_strike_thinker2"
						"Target"		"TARGET"
					}
	    		}
			}
	
			"modifier_flame_strike_thinker2"
			{
				"IsHidden"		"1"
				"Duration"		"%burn_duration + 0.1"
	
				"Aura" 				"modifier_flame_strike_second_burn"
	    		"Aura_Radius" 		"%radius"
	    		"Aura_Teams" 		"DOTA_UNIT_TARGET_TEAM_BOTH"
	    		"Aura_Types" 		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	
	    		"OnCreated"
	    		{
	    			"Damage"
					{
						"Type"		"DAMAGE_TYPE_MAGICAL"
						"Damage"	"%burn_duration"
						"Target"
						{
							"Center"	"TARGET"
							"Radius"	"%radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_BOTH"
							"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
						}
					}
	
	    			"AttachEffect"
					{
						"Target"			"TARGET"
						"EffectName"		"particles/custom/phoenix_fire_spirit_ground.vpcf"
						"EffectAttachType"	"follow_origin"
					}
	    		}
	
	    		"ThinkInterval"		"1"
	    		"OnIntervalThink"
	    		{
					"AttachEffect"
					{
						"Target"			"TARGET"
						"EffectName"		"particles/custom/phoenix_fire_spirit_ground.vpcf"
						"EffectAttachType"	"follow_origin"
						"EffectRadius"		"%radius"
					}
	    		}
			}
	
			"modifier_flame_strike_first_burn"
			{
				"IsDebuff"	"1"
	
				"ThinkInterval"	"1"
				"OnIntervalThink"
				{
					"Damage"
					{
						"Type"		"DAMAGE_TYPE_MAGICAL"
						"Damage"	"%first_strike_dps"
						"Target"	"TARGET"
					}
				}
			}
	
			"modifier_flame_strike_second_burn"
			{
				"IsDebuff"	"1"
	
				"ThinkInterval"	"1"
				"OnIntervalThink"
				{
					"Damage"
					{
						"Type"		"DAMAGE_TYPE_MAGICAL"
						"Damage"	"%burn_dps"
						"Target"	"TARGET"
					}
				}
			}
		}
	}
	// Blood Mage Phoenix
	// Author: Noya
	// Date: 26.01.2015.
	// Notes: Summons a powerful Phoenix. The Phoenix burns with such intensity that it damages itself and nearby enemy units. Has Spell Immunity, and Resistant Skin.
	// When a Phoenix dies, it creates an egg that will hatch into a Phoenix.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	N/A	180+ sec.	175	N/A	N/A	N/A	Summons a Phoenix	6
	"blood_mage_phoenix"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"blood_mage_phoenix"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastPoint"				"0.2"
		"AbilityCooldown"				"180.0"
		"AbilityManaCost"				"175"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_phoenix/phoenix_ambient_glow.vpcf"
			"particle"  "particles/units/heroes/hero_phoenix/phoenix_supernova_egg.vpcf"
			"particle"  "particles/units/heroes/hero_phoenix/phoenix_base_attack.vpcf"
			"particle"  "particles/units/heroes/hero_phoenix/phoenix_supernova_death.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_phoenix.vsndevts"
			"model"		"models/heroes/phoenix/phoenix_bird.vmdl"
			"model"		"models/heroes/phoenix/phoenix_egg.vmdl"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"phoenix_damage_per_second"	"25"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"phoenix_egg_duration"		"10"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"spawn_distance"			"200"
			}
			"04"
			{
				"var_type"					"FIELD_FLOAT"
				"negative_regen"			"-5.0"
			}
			"05"
			{
				"var_type"					"FIELD_INTEGER"
				"phoenix_1_count"			"1 0 0"
			}
			"06"
			{
				"var_type"					"FIELD_INTEGER"
				"phoenix_2_count"			"0 1 0"
			}
			"07"
			{
				"var_type"					"FIELD_INTEGER"
				"phoenix_3_count"			"0 0 1"
			}
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/blood_mage/phoenix.lua"
				"Function"		"KillPhoenix"
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_phoenix"
				"Target"
				{
					"Center"		    "CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/blood_mage/phoenix.lua"
						"Function"      "SummonLocation"
						"Target"		"CASTER"
						"Count"			"1"
						"distance"		"%spawn_distance"
					}
				}
				"UnitCount"		"%phoenix_1_count"
				"GrantsGold"	"1"
				"GrantsXP"		"1"
				"SpawnRadius"	"100"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/blood_mage/phoenix.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_phoenix2"
				"Target"
				{
					"Center"		    "CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/blood_mage/phoenix.lua"
						"Function"      "SummonLocation"
						"Target"		"CASTER"
						"Count"			"1"
						"distance"		"%spawn_distance"
					}
				}
				"UnitCount"		"%phoenix_2_count"
				"GrantsGold"	"1"
				"GrantsXP"		"1"
				"SpawnRadius"	"100"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/blood_mage/phoenix.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_phoenix3"
				"Target"
				{
					"Center"		    "CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/blood_mage/phoenix.lua"
						"Function"      "SummonLocation"
						"Target"		"CASTER"
						"Count"			"1"
						"distance"		"%spawn_distance"
					}
				}
				"UnitCount"		"%phoenix_3_count"
				"GrantsGold"	"1"
				"GrantsXP"		"1"
				"SpawnRadius"	"100"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/blood_mage/phoenix.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
				}
			}
		}
	}
	
	// Extra abilities
	"blood_mage_phoenix_reborn"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"blood_mage_phoenix"
		"MaxLevel"						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"phoenix_damage_per_second"	"25"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"phoenix_egg_duration"		"10"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"phoenix_immolation_radius"	"400"
			}
		}
	
		"Modifiers"
		{
			"modifier_phoenix_reborn"
			{
				"Passive"			"1"
				"IsHidden"			"0"
	
				"EffectName"		"particles/units/heroes/hero_phoenix/phoenix_ambient_glow.vpcf"
				"EffectAttachType"	"follow_origin"
	
				"States"
				{
					"MODIFIER_STATE_DOMINATED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
	
				"OnCreated"
				{
					"FireSound"
					{
						"EffectName"	"Hero_Phoenix.SuperNova.Begin"
						"Target"		"CASTER"
					}
	
					"RunScript"
					{
						"ScriptFile"	"mechanics.lua"
						"Function"		"SetNoCorpse"
					}
				}
			
	
				"ThinkInterval"  "1.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/blood_mage/phoenix.lua"
						"Function"		"PhoenixDegen"
					}
	
					"Damage"
					{
						"Target"
						{
							"Center"  	"CASTER"
							"Radius" 	"%phoenix_immolation_radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
						}
						"Type"			"DAMAGE_TYPE_MAGICAL"
						"Damage"		"%phoenix_damage_per_second"
					}
					
				}
								
				"OnDeath"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/blood_mage/phoenix.lua"
						"Function"		"PhoenixEgg"
					}
				}
			}
		}
	}
	
	
	"blood_mage_phoenix_egg"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"blood_mage_phoenix"
		"MaxLevel"						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_egg"
			{
				"Passive"	"1"
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"		"particles/units/heroes/hero_phoenix/phoenix_supernova_egg.vpcf"
						"EffectAttachType"	"follow_origin"
						"Target"            "TARGET"
						"ControlPointEntities"
						{
							"TARGET"	"attach_origin"
							"TARGET"	"attach_origin"
						}
					}						
				}
	
				"OnDeath"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/blood_mage/phoenix.lua"
						"Function"		"PhoenixEggCheckReborn"
					}				
				}
	
				// Prevent getting stuck
				"States"
				{
					"MODIFIER_STATE_NO_UNIT_COLLISION"		"MODIFIER_STATE_VALUE_ENABLED"
				}
						
			}
		}
	}
	// Blood Mage Siphon Mana
	// Author: Noya, adapted from SpellLibrary lion_mana_drain_datadriven
	// Date: 20.01.2015.
	// Notes: Transfers mana between the Blood Mage and a target. Drains mana from an enemy, or transfers mana to an ally. 
	//Siphon Mana can push the Blood Mage's mana over its maximum value, though excess mana drains off rapidly if not used.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	6 sec.	6 sec.	10	60-80	Unit	Air, Ground, Enemy, Organic, Neutral	15 mana drained/sec.	1
	//2	6 sec.	6 sec.	10	60-80	Unit	Air, Ground, Enemy, Organic, Neutral	30 mana drained/sec.	3
	//3	6 sec.	6 sec.	10	60-80	Unit	Air, Ground, Enemy, Organic, Neutral	45 mana drained/sec.	5
	"blood_mage_siphon_mana"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"blood_mage_siphon_mana"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELED"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"600"
		"AbilityCastPoint"				"0.1"
		"AbilityCooldown"				"6.0"
		"AbilityChannelTime"			"6"
	
		"AbilityManaCost"				"10"
	
		"precache"
		{
			"soundfile"			"soundevents/game_sounds_heroes/game_sounds_lion.vsndevts"
			"particle"			"particles/units/heroes/hero_lion/lion_spell_mana_drain.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_FLOAT"
				"duration"					"6.0"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"mana_per_second"			"15 30 45 60"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"break_distance"			"800"
			}
			"04"
			{
				"var_type"					"FIELD_FLOAT"
				"tick_interval"				"1.0"
			}
		}
	
		"OnAbilityPhaseStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/blood_mage/siphon_mana.lua"
				"Function"		"SiphonManaStart"
			}		
		}
		
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Lion.ManaDrain"
				"Target"		"TARGET"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_siphon_mana"
				"Target" 		"TARGET"
				"Duration"		"%duration"
			}			
		}
	
		"OnChannelFinish"
		{
			"RunScript"
			{
				"ScriptFile"		"heroes/blood_mage/siphon_mana.lua"
				"Function"			"SiphonManaEnd"
				"sound"				"Hero_Lion.ManaDrain"
			}
	
			"RemoveModifier"
			{
				"ModifierName"		"modifier_siphon_mana"
				"Target"			"TARGET"
			}
		}
	
		"Modifiers"
		{
			"modifier_siphon_mana"
			{
				"Passive"			"0"
				"IsHidden"			"0"
				"IsDebuff"			"1"
		
				"ThinkInterval"	"%tick_interval"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/blood_mage/siphon_mana.lua"
						"Function"		"SiphonMana"
					}
				}
			}
	
			"modifier_siphon_mana_extra"
			{
				"Attributes"		"MODIFIER_ATTRIBUTE_MULTIPLE"
				"IsHidden"			"1"
	
				"Properties"
				{
					"MODIFIER_PROPERTY_MANA_BONUS" "%mana_per_second" 
				}
	
				"Duration"			"%duration"
			}
		}	
	}
	"building_regen"
	{
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
		"AbilityTextureName"			""
		
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"regen"					"10"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"600"
			}
		}
		
		"Modifiers"
		{
			"modifier_building_regen"
			{
				"Passive"			"1"
				"IsHidden"			"1"
				
				"Aura" 					"modifier_building_regen_aura"
				"Aura_Radius" 			"%radius"
				"Aura_Teams" 			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
				"Aura_Types" 			"DOTA_UNIT_TARGET_HERO"
			}
			
			"modifier_building_regen_aura"
			{
				"Passive"			"1"
				"IsHidden"			"1"
				
				"Properties"
				{
					"MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"			"%regen"
				}
			
			}
		
		}
	}
	// Building Upgrades
	
	// TOWERS
	"upgrade_guard_tower"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_guard_tower"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"200"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"human_guard_tower"
				"UnitSpawn"		""
			}
		}
	}
	"upgrade_cannon_tower"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_cannon_tower"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"300"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"human_cannon_tower"
				"UnitSpawn"		""
			}
		}
	}
	"upgrade_arcane_tower"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_arcane_tower"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"400"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"human_arcane_tower"
				"UnitSpawn"		""
			}
		}
	}
	
	// HUMAN
	"upgrade_tier1_human"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_riflemen_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1050"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"human_base_tier1"
				"UnitSpawn"		"spawn_rifleman"
			}
		}
	}
	"side_upgrade_tier1_human"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_riflemen_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1050"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"human_base_tier1"
				"UnitSpawn"		"spawn_rifleman"
			}
		}
	}
	
	"upgrade_tier2_human"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_militia_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1400"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"human_base_tier2"
				"UnitSpawn"		"spawn_militia"
			}
		}
	}
	"side_upgrade_tier2_human"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_militia_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1400"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"human_base_tier2"
				"UnitSpawn"		"spawn_militia"
			}
		}
	}
	
	"upgrade_tier3_human"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_spell_breaker_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"2000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"human_base_tier3"
				"UnitSpawn"		"spawn_spell_breaker"
			}
		}
	}
	"side_upgrade_tier3_human"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_spell_breaker_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"2000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"human_base_tier3"
				"UnitSpawn"		"spawn_spell_breaker"
			}
		}
	}
	
	"upgrade_tier4_human"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_knight_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"4000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"human_base_tier4"
				"UnitSpawn"		"spawn_knight"
			}
		}
	}
	"side_upgrade_tier4_human"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_knight_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"4000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"human_base_tier4"
				"UnitSpawn"		"spawn_knight"
			}
		}
	}
	
	"upgrade_tier5_human"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_siege_engine_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"20000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"human_base_tier5"
				"UnitSpawn"		"spawn_siege_engine"
			}
		}
	}
	"side_upgrade_tier5_human"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_siege_engine_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"20000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"human_base_tier5"
				"UnitSpawn"		"spawn_siege_engine"
			}
		}
	}
	// END HUMAN
	
	// NIGHT ELF
	"upgrade_tier1_nightelf"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_archer_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1050"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"nightelf_base_tier1"
				"UnitSpawn"		"spawn_archer"
			}
		}
	}
	"side_upgrade_tier1_nightelf"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_archer_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1050"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"nightelf_base_tier1"
				"UnitSpawn"		"spawn_archer"
			}
		}
	}
	
	"upgrade_tier2_nightelf"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_huntress_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1400"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"nightelf_base_tier2"
				"UnitSpawn"		"spawn_huntress"
			}
		}
	}
	"side_upgrade_tier2_nightelf"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_huntress_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1400"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"nightelf_base_tier2"
				"UnitSpawn"		"spawn_huntress"
			}
		}
	}
	
	"upgrade_tier3_nightelf"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_druid_of_the_talon_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"2000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"nightelf_base_tier3"
				"UnitSpawn"		"spawn_druid_of_the_talon"
			}
		}
	}
	"side_upgrade_tier3_nightelf"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_druid_of_the_talon_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"2000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"nightelf_base_tier3"
				"UnitSpawn"		"spawn_druid_of_the_talon"
			}
		}
	}
	
	"upgrade_tier4_nightelf"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_dryad_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"4000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"nightelf_base_tier4"
				"UnitSpawn"		"spawn_dryad"
			}
		}
	}
	"side_upgrade_tier4_nightelf"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_dryad_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"4000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"nightelf_base_tier4"
				"UnitSpawn"		"spawn_dryad"
			}
		}
	}
	
	"upgrade_tier5_nightelf"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_glaive_thrower_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"20000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"nightelf_base_tier5"
				"UnitSpawn"		"spawn_glaive_thrower"
			}
		}
	}
	"side_upgrade_tier5_nightelf"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_glaive_thrower_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"20000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"nightelf_base_tier5"
				"UnitSpawn"		"spawn_glaive_thrower"
			}
		}
	}
	// END NIGHT ELF
	
	// ORC
	"upgrade_tier1_orc"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_grunt_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1050"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"orc_base_tier1"
				"UnitSpawn"		"spawn_grunt"
			}
		}
	}
	"side_upgrade_tier1_orc"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_grunt_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1050"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"orc_base_tier1"
				"UnitSpawn"		"spawn_grunt"
			}
		}
	}
	
	"upgrade_tier2_orc"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_troll_headhunter_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1400"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"orc_base_tier2"
				"UnitSpawn"		"spawn_troll_headhunter"
			}
		}
	}
	"side_upgrade_tier2_orc"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_troll_headhunter_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1400"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"orc_base_tier2"
				"UnitSpawn"		"spawn_troll_headhunter"
			}
		}
	}
	
	"upgrade_tier3_orc"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_raider_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"2000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"orc_base_tier3"
				"UnitSpawn"		"spawn_raider"
			}
		}
	}
	"side_upgrade_tier3_orc"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_raider_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"2000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"orc_base_tier3"
				"UnitSpawn"		"spawn_raider"
			}
		}
	}
	
	"upgrade_tier4_orc"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_tauren_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"4000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"orc_base_tier4"
				"UnitSpawn"		"spawn_tauren"
			}
		}
	}
	"side_upgrade_tier4_orc"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_tauren_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"4000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"orc_base_tier4"
				"UnitSpawn"		"spawn_tauren"
			}
		}
	}
	
	"upgrade_tier5_orc"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_kodo_beast_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"20000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"orc_base_tier5"
				"UnitSpawn"		"spawn_kodo_beast"
			}
		}
	}
	"side_upgrade_tier5_orc"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_kodo_beast_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"20000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"orc_base_tier5"
				"UnitSpawn"		"spawn_kodo_beast"
			}
		}
	}
	// END ORC
	
	// UNDEAD
	"upgrade_tier1_undead"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_ghoul_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1050"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"undead_base_tier1"
				"UnitSpawn"		"spawn_ghoul"
			}
		}
	}
	"side_upgrade_tier1_undead"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_ghoul_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1050"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"undead_base_tier1"
				"UnitSpawn"		"spawn_ghoul"
			}
		}
	}
	
	"upgrade_tier2_undead"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_crypt_fiend_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1400"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"undead_base_tier2"
				"UnitSpawn"		"spawn_crypt_fiend"
			}
		}
	}
	"side_upgrade_tier2_undead"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_crypt_fiend_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"1400"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"undead_base_tier2"
				"UnitSpawn"		"spawn_crypt_fiend"
			}
		}
	}
	
	"upgrade_tier3_undead"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_skeletal_mage_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"2000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"undead_base_tier3"
				"UnitSpawn"		"spawn_skeletal_mage"
			}
		}
	}
	"side_upgrade_tier3_undead"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_skeletal_mage_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"2000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"undead_base_tier3"
				"UnitSpawn"		"spawn_skeletal_mage"
			}
		}
	}
	
	"upgrade_tier4_undead"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_abomination_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"4000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"undead_base_tier4"
				"UnitSpawn"		"spawn_abomination"
			}
		}
	}
	"side_upgrade_tier4_undead"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_abomination_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"4000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"undead_base_tier4"
				"UnitSpawn"		"spawn_abomination"
			}
		}
	}
	
	"upgrade_tier5_undead"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_meat_wagon_up"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"20000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"undead_base_tier5"
				"UnitSpawn"		"spawn_meat_wagon"
			}
		}
	}
	"side_upgrade_tier5_undead"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_meat_wagon_side"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityGoldCost"				"20000"
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"buildings/upgrades.lua"
				"Function"		"UpgradeBuilding"
				"UnitName"		"undead_base_tier5"
				"UnitSpawn"		"spawn_meat_wagon"
			}
		}
	}
	// Crypt Lord Carrion Beetles
	// Author: Noya
	// Date: 25.01.2015.
	// Notes: The Crypt Lord progenerates 1 Carrion Beetle from a target corpse to attack the Crypt Lord's enemies. Beetles are permanent but only 5 can be controlled at a time.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	6 sec.	30	90	Unit	Dead	140 hit points, 8-9 damage	1
	//2	N/A	6 sec.	30	90	Unit	Dead	275 hit points, 15-18 damage	3
	//3	N/A	6 sec.	30	90	Unit	Dead	410 hit points, 22-27 damage	5
	"crypt_lord_carrion_beetles"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"crypt_lord_carrion_beetles"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"900"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"6.0"
	
		"AbilityManaCost"				"30"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_sandking/sandking_burrowstrike_eruption.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_weaver.vsndevts"
			"model"		"models/heroes/weaver/weaver_bug.vmdl"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"beetle_limit"				"5"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"beetle_damage"				"8 16 24 32"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"beetle_hp"					"140 275 410 500"
			}
		}
	
		"OnAbilityPhaseStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/crypt_lord/carrion_beetles.lua"
				"Function"		"CarrionBeetlesPrecast"
			}	
		}
		
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/crypt_lord/carrion_beetles.lua"
				"Function"		"CarrionBeetleSpawn"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Weaver.SwarmCast"
				"Target" 		"CASTER"
			}
			
		}
	
		"Modifiers"
		{
			"modifier_carrion_beetle"
			{	
				"OnCreated"
				{
					"FireEffect"
					{
						"EffectName"        "particles/units/heroes/hero_sandking/sandking_burrowstrike_eruption.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
						"ControlPointEntities"
						{
							"TARGET"	"attach_origin"
							"TARGET"	"attach_origin"
						}
					}
	
					"RunScript"
					{
						"ScriptFile"	"mechanics.lua"
						"Function"		"SetNoCorpse"
					}				
				}
	
				"States"
				{
					"MODIFIER_STATE_DOMINATED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
				
				"OnDeath"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/crypt_lord/carrion_beetles.lua"
						"Function"		"RemoveDeadBeetle"
					}
				}		
			}
		}
	}
	
	
	// Burrow Sub Ability
	"crypt_lord_beetle_burrow"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"crypt_lord_beetle_burrow"
		"MaxLevel" 						"3"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_TOGGLE | DOTA_ABILITY_BEHAVIOR_UNRESTRICTED"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastPoint"				"0.1"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"hp_regen"				"2"
			}
		}
		
		"OnToggleOn"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/crypt_lord/carrion_beetles.lua"
				"Function"		"Burrow"
				"Move"			"down"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_burrow"
				"Target" 		"CASTER"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Weaver.SwarmCast"
				"Target" 		"CASTER"
			}	
		}
	
		"OnToggleOff"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/crypt_lord/carrion_beetles.lua"
				"Function"		"Burrow"
				"Move"			"up"
			}
	
			"RemoveModifier"
			{
				"ModifierName"	"modifier_burrow"
				"Target" 		"CASTER"
			}
		}
	
		"Modifiers"
		{
			"modifier_burrow"
			{	
				"Properties"
				{
					"MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT" "%hp_regen"
				}
	
				"States"
				{
					//"MODIFIER_STATE_NO_HEALTH_BAR" 				"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ATTACK_IMMUNE"				"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_DISARMED"					"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_MAGIC_IMMUNE"				"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ROOTED"						"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NOT_ON_MINIMAP_FOR_ENEMIES"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_PROVIDES_VISION"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_UNIT_COLLISION"			"MODIFIER_STATE_VALUE_ENABLED"
				}
	
				"OnCreated"
				{
					"FireEffect"
					{
						"EffectName"        "particles/units/heroes/hero_sandking/sandking_burrowstrike_eruption.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
						"ControlPointEntities"
						{
							"TARGET"	"attach_origin"
							"TARGET"	"attach_origin"
						}
					}				
				}
				
				"OnDestroy"
				{
					"FireEffect"
					{
						"EffectName"        "particles/units/heroes/hero_sandking/sandking_burrowstrike_eruption.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
						"ControlPointEntities"
						{
							"TARGET"	"attach_origin"
							"TARGET"	"attach_origin"
						}
					}
				}		
			}
		}
	}
	// Crypt Lord Impale
	// Author: Noya, adapted from SpellLibrary's nyx_assassin_impale by kritth
	// Date: 17.1.2015.
	// Notes: Slams the ground with the Crypt Lord's massive claws, shooting spiked tendrils out in a straight line, dealing damage and hurling enemy ground units into the air in their wake.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	2 (1) sec.	9 sec.	100	70	25	Ground, Enemy, Neutral, Organic	50 damage, 2 (1) second stun	1
	//2	3 (2) sec.	9 sec.	100	70	25	Ground, Enemy, Neutral, Organic	80 damage, 3 (2) second stun	3
	//3	4 (3) sec.	9 sec.	100	70	25	Ground, Enemy, Neutral, Organic	110 damage, 4 (3) second stun	5
	"crypt_lord_impale"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"crypt_lord_impale"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"9.0"
	
		"AbilityManaCost"				"100"
		"AbilityDamage"					"50 80 110 140"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"width"				"125"
			}
			"02"
			{	
				"var_type"			"FIELD_FLOAT"
				"hero_duration"		"1 2 3 4"
			}
			"02"
			{	
				"var_type"			"FIELD_FLOAT"
				"creep_duration"	"2 3 4 5"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"length"			"700"
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"speed"				"1600"
			}
			// Extra variables
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"air_time"			"0.52"
			}
		}
		
		// Data driven
		//-------------------------------------------------------------------------------------------------------------
		"precache"
		{
			"soundfile"				"soundevents/game_sounds_heroes/game_sounds_nyx_assassin.vsndevts"
			"particle"				"particles/units/heroes/hero_nyx_assassin/nyx_assassin_impale.vpcf"
		}
		
		"OnSpellStart"
		{
			"FireSound"
			{
				"Target"			"CASTER"
				"EffectName"		"Hero_NyxAssassin.Impale"
			}
		
			"LinearProjectile"
			{
				"Target"			"POINT"
				"EffectName"		"particles/units/heroes/hero_nyx_assassin/nyx_assassin_impale.vpcf"
				"StartRadius"		"%width"
				"EndRadius"			"%width"
				"MoveSpeed"			"%speed"
				"TargetTeams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
				"TargetTypes"		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				"TargetFlags"		"DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
				"FixedDistance"		"%length"
				"ProvidesVision"	"0"
				"HasFrontalCone"	"0"
			}
		}
		
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"			"0"
		
			"FireSound"
			{
				"Target"			"TARGET"
				"EffectName"		"Hero_NyxAssassin.Impale.Target" 
			}
		
			"RemoveModifier"
			{
				"Target"			"TARGET"
				"ModifierName"		"modifier_knockback"
			}
			
			"Knockback"
			{
				"Target"			"TARGET"
				"Center"			"CASTER"
				"Distance"			"0"
				"Duration"			"%air_time"
				"Height"			"200"
				"IsFixedDistance"	"1"
			}
			
			"ApplyModifier"
			{
				"ModifierName"    "modifier_impale"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%hero_duration"
			}
	
			"ApplyModifier"
			{
				"ModifierName"    "modifier_impale"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%creep_duration"
			}
			
			"DelayedAction"
			{
				"Delay"				"%air_time"
				"Action"
				{
					"FireSound"
					{
						"Target"			"TARGET"
						"EffectName"		"Hero_NyxAssassin.Impale.TargetLand" 
					}
				
					"Damage"
					{
						"Target"			"TARGET"
						"Damage"			"%AbilityDamage"
						"Type"				"DAMAGE_TYPE_MAGICAL"
					}
				}
			}
		}
	
		"Modifiers"
		{
			"modifier_impale"
			{
				"IsDebuff"	"1"
				"States"
				{
					"MODIFIER_STATE_STUNNED" "MODIFIER_STATE_VALUE_ENABLED"			
				}
				"OverrideAnimation"	"ACT_DOTA_DISABLED"
				"EffectName"		"particles/generic_gameplay/generic_stunned.vpcf"
				"EffectAttachType"	"follow_overhead"
			}
		}
	}
	// Crypt Lord Locust Swarm
	// Author: Noya
	// Date: 29.01.2015.
	// Notes: Creates a swarm of angry locusts that bite and tear at nearby enemy units. 
	//As they chew the enemy flesh, they convert it into a substance that restores hit points to the Crypt Lord when they return.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	30 sec.	180 sec.	150	N/A	80	Air, Ground, Building, Neutral, Enemy	Creates Locust Swarm	6
	
	// Once "launched" the Locust Swarm will follow the Crypt Lord where he walks, heading out in an area around the Crypt Lord.
	// 20 Locusts are released. 0.2 second delay between releasing each Locust. Up to 7 Locusts can target an enemy unit at the same time. 
	// Fraction of damage dealt by Locusts that will be returned and collected by Crypt Lord: 0.75.
	// The Locust must collect 20 hit points before returning it to the Crypt Lord.
	"crypt_lord_locust_swarm"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"crypt_lord_locust_swarm"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_3"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.5"
		"AbilityCooldown"				"180.0"
	
		"AbilityManaCost"				"150"
	
		"precache"
		{
			"particle"  "particles/units/heroes/hero_weaver/weaver_base_attack_bug.vpcf"
			"particle"	"particles/units/heroes/hero_weaver/weaver_base_attack_explosion.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_weaver.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"800"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"locusts"				"20 30 40"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"duration"				"30"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"locusts_speed"			"400"
			}
			"05"
			{
				"var_type"				"FIELD_INTEGER"
				"max_distance"			"2000"	//teleports
			}
			"06"
			{
				"var_type"				"FIELD_INTEGER"
				"give_up_distance"		"900" //Max distance to follow a target acquired
			}
			"07"
			{
				"var_type"				"FIELD_FLOAT"
				"delay_between_locusts"	"0.2"	//Means 4 seconds to spawn all 20 locusts
			}
			"08"
			{
				"var_type"				"FIELD_INTEGER"
				"locust_damage"			"13"	//Physical damage instance on each collision
			}
			"09"
			{
				"var_type"				"FIELD_INTEGER"
				"locust_heal_threshold"	"20"	//The amount of physical damage that needs to be done to return and heal the caster
			}
			"10"
			{
				"var_type"				"FIELD_INTEGER"
				"max_locusts_on_target"	"7"	//Max counter of units locked onto one target, find another or idle if this threshold is met
			}
		}
	
		"OnSpellStart"
		{
			"RemoveModifier"
			{
				"ModifierName"	"modifier_locust_swarm"
				"Target" 		"CASTER"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_locust_swarm"
				"Target" 		"CASTER"
				"Duration"		"%duration"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Weaver.SwarmCast"
				"Target" 		"CASTER"
			}
		}
	
		"Modifiers"
		{
			"modifier_locust_swarm"
			{	
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/crypt_lord/locust_swarm.lua"
						"Function"		"LocustSwarmStart"
					}
				}
	
				"OnDeath"
				{
					"FireSound"
					{
						"EffectName"	"Hero_NyxAssassin.Death"
						"Target" 		"CASTER"
					}
					"RunScript"
					{
						"ScriptFile"	"heroes/crypt_lord/locust_swarm.lua"
						"Function"		"LocustSwarmDeath"
					}
				}
	
				"OnDestroy"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/crypt_lord/locust_swarm.lua"
						"Function"		"LocustSwarmEnd"
					}
				}
			}
	
			"modifier_locust"
			{	
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/crypt_lord/locust_swarm.lua"
						"Function"		"LocustSwarmPhysics"
					}
	
					"AttachEffect"
					{
						"EffectName"		"particles/units/heroes/hero_weaver/weaver_base_attack_bug.vpcf"
						"EffectAttachType"	"follow_origin"
						"Target"            "TARGET"
						"ControlPointEntities"
						{
							"TARGET"	"attach_origin"
							"TARGET"	"attach_origin"
							"TARGET"	"attach_origin"
							"TARGET"	"attach_origin"
						}
					}
				}
		
				"States"
				{
					"MODIFIER_STATE_INVULNERABLE"					"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"					"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_UNIT_COLLISION"				"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NOT_ON_MINIMAP"					"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_UNSELECTABLE"					"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_FLYING"							"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_DISARMED"						"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	// Crypt Lord Skiped Carapace
	// Author: Noya
	// Date: 17.1.2015.
	// Notes: The Crypt Lord forms barbed layers of chitinous armor that increases its defense and returns damage to enemy melee attackers.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	N/A	None	N/A	Personal	Self	15% damage returned, 3 bonus armor	1
	//2	N/A	N/A	None	N/A	Personal	Self	25% damage returned, 5 bonus armor	3
	//3	N/A	N/A	None	N/A	Personal	Self	35% damage returned, 7 bonus armor	5
	"crypt_lord_spiked_carapace"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"crypt_lord_spiked_carapace"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PURE"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_centaur/centaur_return.vpcf"
			"particle"	"particles/custom/creature_spiked_carapace.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"melee_damage_return"		"15 25 35 45"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"armor_bonus"				"3 5 7 9"
			}
		}
	
		"Modifiers"
		{
			"modifier_spiked_carapace"
			{
				"Passive"			"1"
				"EffectName"		"particles/custom/creature_spiked_carapace.vpcf"
				"EffectAttachType"	"follow_origin"
	
				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"	"%armor_bonus"
				}
	
				"OnAttacked"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/crypt_lord/spiked_carapace.lua"
						"Function"		"SpikedCarapace"
						"Damage"		"%attack_damage"
					}
				}
			}
		}
	}
	// Dark Ranger Black Arrow
	// Author: Noya
	// Date: 15.01.2015.
	// Notes: Adds extra damage to attacks. Units killed while under the effect of Black Arrow will turn into Dark Minions.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	None	6	60	Unit	Air, Ground, Enemy, Organic, Neutral	2 bonus damage, 215 hit point Lesser Dark Minion	1
	//2	N/A	None	6	60	Unit	Air, Ground, Enemy, Organic, Neutral	10 bonus damage, 290 hit point Dark Minion	3
	//3	N/A	None	6	60	Unit	Air, Ground, Enemy, Organic, Neutral	20 bonus damage, 405 hit point Greater Dark Minion	5
	"dark_ranger_black_arrow"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"dark_ranger_black_arrow"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST | DOTA_ABILITY_BEHAVIOR_ATTACK"
		"AbilityUnitTargetTeam" 		"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType" 		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityCastRange"				"600"
	
		"AbilityManaCost"				"10"
		"AbilityDamage"					"2 10 20 30"
	
		"precache"
		{
			"particle"				"particles/units/heroes/hero_vengeful/vengeful_magic_missle.vpcf"
			"soundfile"				"soundevents/game_sounds_heroes/game_sounds_medusa.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_FLOAT"
				"duration"					"80"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"dark_minion_health"		"215 290 405 525"		
			}
			"03"
			{
				"var_type"          		"FIELD_INTEGER"
				"dark_minion_damage"       	"10 16 18 22"
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"dark_minion_1_count"		"1 0 0 0"
			}
			"05"
			{
				"var_type"					"FIELD_INTEGER"
				"dark_minion_2_count"		"0 1 0 0"
			}
			"06"
			{
				"var_type"					"FIELD_INTEGER"
				"dark_minion_3_count"		"0 0 1 0"
			}	
			"07"
			{
				"var_type"					"FIELD_INTEGER"
				"dark_minion_4_count"		"0 0 0 1"
			}	
		}
	
		"Modifiers"
		{ 
			"modifier_black_arrow"
			{
				"Passive"		"1"
				"IsHidden"	 	"1"
				"Orb"
				{
					"Priority"			"DOTA_ORB_PRIORITY_ABILITY"
					"ProjectileName"    "particles/units/heroes/hero_vengeful/vengeful_magic_missle.vpcf"
					"CastAttack"		"1"
				}
	
				"OnOrbFire"
				{
					"SpendMana"
					{
						"Mana"    "%AbilityManaCost"
					}
				}
				
				"OnOrbImpact"
				{
					"ApplyModifier"
					{
						"ModifierName"		"modifier_black_arrow_spawn"
						"Target"			"TARGET"
					}
					"FireSound"
					{
						"EffectName"		"Hero_Medusa.MysticSnake.Target"
						"Target"			"CASTER"
					}
					"Damage"
					{
						"Type"          "DAMAGE_TYPE_PHYSICAL"
						"Damage"        "%AbilityDamage"
						"Target"		"TARGET"
					}
				}
			}
	
			"modifier_black_arrow_spawn"
			{
				"IsHidden"	"1"
				"Duration"	"0.1"
				"OnDeath"
				{
					"SpawnUnit"
					{
						"UnitName"		"npc_black_arrow_minion_1"
						"UnitCount"		"%dark_minion_1_count"
						"SpawnRadius"	"1"
						"Duration"		"%duration"
						"Target"
						{
							"Center" 	"UNIT"
							"Flags"		"DOTA_UNIT_TARGET_FLAG_DEAD"
						}
	
						"OnSpawn"
						{
							"FireSound"
							{
								"EffectName" "Hero_Medusa.MysticSnake.Return"
								"Target"			"CASTER"
							}
						}
					}
	
					"SpawnUnit"
					{
						"UnitName"		"npc_black_arrow_minion_2"
						"UnitCount"		"%dark_minion_2_count"
						"SpawnRadius"	"1"
						"Duration"		"%duration"
						"Target"
						{
							"Center" 	"UNIT"
							"Flags"		"DOTA_UNIT_TARGET_FLAG_DEAD"
						}
	
						"OnSpawn"
						{
							"FireSound"
							{
								"EffectName" 	"Hero_Medusa.MysticSnake.Target"
								"Target"		"CASTER"
							}
						}
					}
					"SpawnUnit"
					{
						"UnitName"		"npc_black_arrow_minion_3"
						"UnitCount"		"%dark_minion_3_count"
						"SpawnRadius"	"1"
						"Duration"		"%duration"
						"Target"
						{
							"Center" 	"UNIT"
							"Flags"		"DOTA_UNIT_TARGET_FLAG_DEAD"
						}	
						"OnSpawn"
						{
							"FireSound"
							{
								"EffectName" 	"Hero_Medusa.MysticSnake.Target"
								"Target"		"CASTER"
							}
						}
					}
	
					"SpawnUnit"
					{
						"UnitName"		"npc_black_arrow_minion_4"
						"UnitCount"		"%dark_minion_4_count"
						"SpawnRadius"	"1"
						"Duration"		"%duration"
						"Target"
						{
							"Center" 	"UNIT"
							"Flags"		"DOTA_UNIT_TARGET_FLAG_DEAD"
						}	
						"OnSpawn"
						{
							"FireSound"
							{
								"EffectName" 	"Hero_Medusa.MysticSnake.Target"
								"Target"		"CASTER"
							}
						}
					}
				}
			}
		}
	}
	// Dark Ranger Charm
	// Author: Noya
	// Date: 15.01.2015.
	// Notes: Takes control of a target enemy unit. Charm cannot be used on Heroes, or creeps above level 5.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	N/A	45 sec.	150	70	Unit	Air, Ground, NonHero, Enemy, Neutral, Organic	Takes Control of Unit Permanently	6
	"dark_ranger_charm"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"dark_ranger_charm"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_ATTACK"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"150.0 100.0 50.0"
	
		"AbilityManaCost"				"70 60 50"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_chen/chen_test_of_faith.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_chen.vsndevts"
		}
	
		"OnAbilityPhaseStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/dark_ranger/charm.lua"
				"Function"		"CharmLevelCheck"
			}
		}
		
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/dark_ranger/charm.lua"
				"Function"		"Charm"
			}
			
			"AttachEffect"
			{
				"Target"			"TARGET"
				"EffectName"		"particles/units/heroes/hero_chen/chen_test_of_faith.vpcf"
				"EffectAttachType"	"follow_origin"
			}
			"FireSound"
			{
				"EffectName"		"Hero_Chen.HolyPersuasionCast"
				"Target" 			"CASTER"
			}
		}
		
	}
	// Dark Ranger Life Drain
	// Author: Noya
	// Date: 18.1.2015.
	// Notes: Absorbs the life essence of a target enemy unit by taking hit points from it every second and giving them to the Dark Ranger.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	8 sec.	8 sec.	75	50	Unit	Air, Ground, Enemy, Organic, Neutral	25 hit point drain per second	1
	//2	8 sec.	8 sec.	75	50	Unit	Air, Ground, Enemy, Organic, Neutral	40 hit point drain per second	3
	//3	8 sec.	8 sec.	75	50	Unit	Air, Ground, Enemy, Organic, Neutral	55 hit point drain per second	5
	"dark_ranger_life_drain"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"dark_ranger_life_drain"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"8.0"
	
		"AbilityManaCost"				"50"
		"AbilityChannelTime"			"8"
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_pugna/pugna_life_drain.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_pugna.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"hp_drain_per_second"	"25 40 55 70"
			}
		}
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"ModifierName" 	"modifier_life_drain"
				"Target" 		"TARGET"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Pugna.LifeDrain.Target"
				"Target" 		"CASTER"
			}
		}
	
		"OnChannelFinish"
		{
			"RemoveModifier"
			{
				"ModifierName" 	"modifier_life_drain"
				"Target" 		"TARGET"
			}
		}
	
		"Modifiers"
		{
			"modifier_life_drain"
			{
				"IsDebuff"	"1"
				"OnCreated"
				{
					"AttachEffect"
					{
						"Target" 				"TARGET"
						"EffectName"			"particles/units/heroes/hero_pugna/pugna_life_drain.vpcf"
						"EffectAttachType"		"start_at_customorigin"
	
						"ControlPointEntities"
						{
							"CASTER"		"attach_hitloc"
							"TARGET"		"attach_hitloc"
						}
					
					}
				}
	
				"ThinkInterval"		"1.0"
				"OnIntervalThink"
				{
					// Health Transfer
					"Damage"
					{
						"Type"		"DAMAGE_TYPE_MAGICAL"
						"Target"	"TARGET"	
						"Damage"	"%hp_drain_per_second"
					}
	
					"Heal"
					{
						"Target" 		"CASTER"
						"HealAmount"	"%hp_drain_per_second"
					}
	
					// Looping Animation
					"ApplyModifier"
					{
						"ModifierName"	"channelling_animation"
						"Target"		"CASTER"
					}
				}
			}
	
			"channelling_animation"
			{
				"IsHidden"			"0"
				"Duration"			"0.9"
				"OverrideAnimation"	"ACT_DOTA_CAST_ABILITY_2"
			}
		}
	}
	// Dark Ranger Silence
	// Author: Noya
	// Date: 24.01.2015.
	// Notes: Stops all enemies in a target area from casting spells. The area of effect and duration increase with level.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	16 (8) sec.	15 sec.	75	90	20	Air, Ground, Enemy, Organic, Neutral	Prevents Spell Casting	1
	//2	20 (10) sec.	15 sec.	75	90	27.5	Air, Ground, Enemy, Organic, Neutral	Prevents Spell Casting	3
	//3	24 (12) sec.	15 sec.	75	90	35	Air, Ground, Enemy, Organic, Neutral	Prevents Spell Casting	5
	"dark_ranger_silence"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"dark_ranger_silence"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"900"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"15.0"
	
		"AbilityManaCost"				"75"
		
		"AOERadius"						"%radius"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_death_prophet/death_prophet_silence.vpcf"
			"particle"	"particles/units/heroes/hero_death_prophet/death_prophet_silence_impact.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_death_prophet.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"radius"			"200 275 350 425"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"hero_duration"		"8 10 12 14"
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"creep_duration"	"16 20 24 28"
			}
		}
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_silenced"
				"Target"
				{
					"Center"	"POINT"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%hero_duration"
			}
			
			"ApplyModifier"
			{
				"ModifierName"	"modifier_silenced"
				"Target"
				{
					"Center"	"POINT"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%creep_duration"
			}
	
			"FireEffect"
			{
				"EffectName"        "particles/units/heroes/hero_death_prophet/death_prophet_silence.vpcf"
				"EffectAttachType"  "world_origin"
				"TargetPoint"       "POINT"
				"ControlPoints"
				{
					"01"	"%radius 0 0"
				}
			}
	
			"FireEffect"
			{
				"EffectName"        "particles/units/heroes/hero_death_prophet/death_prophet_silence_impact.vpcf"
				"EffectAttachType"  "follow_overhead"
				"Target"
				{
					"Center"	"POINT"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				}
				"ControlPoints"
				{
					"00"	"1 0 0"
				}				
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_DeathProphet.Silence"
				"TargetPoint" 	"POINT"	// This works but its actually fired at the caster
			}				
		}
	
		//modifier_silence is a Built-In modifier, _silenced is custom
		"Modifiers"
		{
			"modifier_silenced"
			{
				"IsDebuff"			"1"
	
				"EffectName"		"particles/generic_gameplay/generic_silenced.vpcf"
				"EffectAttachType"	"follow_overhead"
	
				"States"
				{
					"MODIFIER_STATE_SILENCED"		"MODIFIER_STATE_VALUE_ENABLED"
				}			
			}
		}	
	}
	// Death Knight Animate Dead
	// Author: Noya
	// Date: 21.1.2015.
	// Notes: Raises 6 dead units in an area to fight for the Death Knight. Animated units are invulnerable.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	40 sec.	180 sec.	175	40	90	Ground, Dead	Raises Dead Units	6
	"death_knight_animate_dead"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"death_knight_animate_dead"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior" 				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_BASIC"
	
		"AbilityCastRange"				"900"
		"AbilityCastPoint"				"0.453"
	
		"AbilityCooldown" 				"180"
		"AbilityManacost" 				"175"
	
		"precache"
		{
			"particle"	"particles/custom/abaddon_death_coil_explosion.vpcf"
			"particle"	"particles/status_fx/status_effect_abaddon_borrowed_time.vpcf"
			"particle"  "particles/units/heroes/hero_skeletonking/wraith_king_reincarnate_explode.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_abaddon.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"duration"					"40 60 80"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"radius"					"900"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"max_units_resurrected"		"6 12 18"
			}		
		}
	
		"OnAbilityPhaseStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/death_knight/animate_dead.lua"
				"Function"		"AnimateDeadPrecast"
			}
		}
		
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"		"Hero_Abaddon.AphoticShield.Cast"
				"Target"			"CASTER"
			}
	
			"FireEffect"
			{
				"EffectName"        "particles/units/heroes/hero_skeletonking/wraith_king_reincarnate_explode.vpcf"
				"EffectAttachType"  "follow_origin"
				"Target"            "CASTER"
			}
	
			"RunScript"
			{
				"ScriptFile"	"heroes/death_knight/animate_dead.lua"
				"Function"		"AnimateDead"
			}		
		}
	
		"Modifiers"
		{
			"modifier_animate_dead"
			{
				"OnCreated"
				{	
					"AttachEffect"
					{
					 	"EffectName"		"particles/custom/abaddon_death_coil_explosion.vpcf"
					 	"EffectAttachType"	"follow_origin"
					 	"Target"			"TARGET"
	
					 	"ControlPointEntities"
			            {
			                "TARGET"    "attach_origin" // Control Point 0
			                "TARGET"    "attach_origin" // Control Point 1
			            }
					}
				}
	
				"StatusEffectName" 			"particles/status_fx/status_effect_abaddon_borrowed_time.vpcf"
				"StatusEffectPriority" 		"15"
	
				"States"
				{
					"MODIFIER_STATE_INVULNERABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ATTACK_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_DOMINATED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	// AbilityName
	// Author: 
	// Date: 13.1.2015.
	// Notes: A coil of death that can damage an enemy living unit or heal a friendly undead unit.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	6 sec.	75	80	Unit	Air, Ground, Organic, Not Self	Damages 100 or Heals 200 HP	1
	//2	N/A	6 sec.	75	80	Unit	Air, Ground, Organic, Not Self	Damages 200 or Heals 400 HP	3
	//3	N/A	6 sec.	75	80	Unit	Air, Ground, Organic, Not Self	Damages 300 or Heals 600 HP	5
	"death_knight_death_coil"
		{
			"BaseClass"             		"ability_datadriven"
			"AbilityTextureName"			"death_knight_death_coil"
			"MaxLevel" 						"4"
		
			"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
			"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
			"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
			
			"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
			"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_1"
			"AbilityCastPoint"				"0.452"
			  	
			"precache"
			{
				"particle" 	"particles/custom/vengeful_magic_missle.vpcf"
				"soundfile" "soundevents/game_sounds_heroes/game_sounds_abaddon.vsndevts"
			}
			
			"AbilityCastRange"				"800"
			"AbilityCooldown"				"6"
			"AbilityManaCost"				"75"
		
			"AbilitySpecial"
			{
				"01"
				{
					"var_type"				"FIELD_INTEGER"
					"projectile_speed"		"1100"
				}
				"02"
				{
					"var_type"				"FIELD_FLOAT"
					"target_damage"			"100 200 300 400"
				}
				"03"
				{
					"var_type"				"FIELD_INTEGER"
					"heal_amount"			"200 400 600 800"
				}
			}
		
			"OnAbilityPhaseStart"
			{
				"RunScript"
				{
					"ScriptFile"	"heroes/death_knight/death_coil.lua"
					"Function"		"DeathCoilPrecast"
				}
			}
		
			"OnSpellStart"
			{
				"TrackingProjectile"
				{
					"Target"			"TARGET"
					"EffectName"		"particles/custom/vengeful_magic_missle.vpcf"
					"Dodgeable"			"1"
					"ProvidesVision"	"0"
					"MoveSpeed"			"%projectile_speed"
					"SourceAttachment"	"DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
				}
	
				"FireSound"
				{
					"Target"		"CASTER"
					"EffectName"	"Hero_Abaddon.DeathCoil.Cast"
				}
			}
	
			"OnProjectileHitUnit"
			{
				"RunScript"
				{
					"ScriptFile"	"heroes/death_knight/death_coil.lua"
					"Function"		"DeathCoil"
				}
	
				"FireSound"
				{
					"Target"		"CASTER"
					"EffectName"	"Hero_Abaddon.DeathCoil.Target"
				}
			}
			
		}
	// Death Knight Death Pact
	// Author: Noya
	// Date: 21.1.2015.
	// Notes: Kills a target friendly unit, giving a percentage of its hit points to the Death Knight.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	15 sec.	50	80	Unit	Air, Ground, Player, Non Hero	100% conversion	1
	//2	N/A	15 sec.	50	80	Unit	Air, Ground, Player, Non Hero	200% conversion	3
	//3	N/A	15 sec.	50	80	Unit	Air, Ground, Player, Non Hero	300% conversion	5
	"death_knight_death_pact"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"death_knight_death_pact"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
		"AbilityUnitTargetFlags" 		"DOTA_UNIT_TARGET_FLAG_INVULNERABLE"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.452"
		"AbilityCooldown"				"15"
	
		"AbilityManaCost"				"50"
		
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_clinkz/clinkz_death_pact.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_clinkz.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"conversion_rate"	"100 200 300 400"
			}
		}
	
		"OnAbilityPhaseStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/death_knight/death_pact.lua"
				"Function"		"DeathPactPrecast"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Clinkz.DeathPact.Cast"
				"Target" 		"TARGET"
			}
	
			"FireEffect"
			{
				"EffectName"        "particles/units/heroes/hero_clinkz/clinkz_death_pact.vpcf"
				"EffectAttachType"  "follow_origin"
				"Target"            "TARGET"
				"ControlPointEntities"
				{
					"TARGET"	"attach_origin"
					"CASTER"	"attach_origin"
				}
			}
				
			"RunScript"
			{
				"ScriptFile"	"heroes/death_knight/death_pact.lua"
				"Function"		"DeathPact"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Clinkz.DeathPact"
				"Target" 		"TARGET"
			}
			
		}
	}
	// AbilityName
	// Author: 
	// Date: 13.1.2015.
	// Notes: Increases the movement speed and life regeneration rate of nearby friendly units.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self	+10% movement, +0.5 HP/sec.	1
	//2	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self	+20% movement, +1 HP/sec.	3
	//3	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self	+30% movement, +1.5 HP/sec.	5
	"death_knight_unholy_aura"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"death_knight_unholy_aura"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	
		"AbilityCastRange"				"900"
	
		"precache"
		{
			"particle"	"particles/custom/doom_bringer_doom.vpcf"
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"move_speed_bonus"		"10 20 30 40"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"health_regen_bonus"	"0.5 1 1.5 2.0"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"900"
			}
		}
	
		"Modifiers"
		{
			"modifier_unholy_aura"
			{
				"EffectName"		"particles/custom/doom_bringer_doom.vpcf"
				"EffectAttachType"  "follow_origin"
				
				"Passive" 			"1"
				"IsHidden" 			"1"
				"IsBuff"			"1"
				"Aura" 				"modifier_unholy_aura_buff"
				"Aura_Radius" 		"%radius"
				"Aura_Teams" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
				"Aura_Types" 		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
			}
	
			"modifier_unholy_aura_buff"
			{
				"Properties"
				{
					"MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"		"%health_regen_bonus"
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%move_speed_bonus"
				}
			}
		}
	}
	// AbilityName
	// Author: 
	// Date: 13.1.2015.
	// Notes: Transforms the Demon Hunter into a powerful demon with a ranged attack (60 range) and 500 bonus hit points.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	60 sec.	180 sec.	150	N/A	N/A	Self	+500 HP, 3 HP regenerated/sec	6
	"demon_hunter_demon_form"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"demon_hunter_demon_form"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCooldown"				"180"
	
		"AbilityManaCost"				"150"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"duration"				"60 90 120"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_health"			"500 600 700"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_health_regen"	"3 4 5"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_range"			"422"
			}
			"05"
			{
				"var_type"				"FIELD_INTEGER"
				"range_tooltip"			"600"
			}
		}
	
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_terrorblade.vsndevts"
			"particle"  "particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis.vpcf"
			"particle"	"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis_transform.vpcf"
			"particle"	"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis_base_attack.vpcf"
			"particle"	"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis_ambient.vpcf"
			"model"		"models/heroes/terrorblade/demon.vmdl"
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"		"Hero_Terrorblade.Metamorphosis"
				"Target"			"CASTER"
			}
			"FireEffect"
			{
				"EffectName"		"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis_transform.vpcf"
				"EffectAttachType"	"follow_origin"
				"Target"			"CASTER"
			}
			"ApplyModifier"
			{
				"ModifierName"		"modifier_demon_form"
				"Target"			"CASTER"
			}
		}
	
		"Modifiers"
		{
			"modifier_demon_form"
			{
				"Duration"	"%duration"
				
				"EffectName" 		"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis.vpcf"
				"EffectAttachType"  "follow_origin"
	
				"AllowsIllusionDuplicate"	"1"
	
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACK_RANGE_BONUS"			"%bonus_range"
					"MODIFIER_PROPERTY_EXTRA_HEALTH_BONUS" 			"%bonus_health"		
					"MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT" 	"%bonus_health_regen"				
				}
	
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"			"heroes/demon_hunter/demon_form.lua"
						"Function"				"ModelSwapStart"
						"model"					"models/heroes/terrorblade/demon.vmdl"
						"projectile_model"		"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis_base_attack.vpcf"
					}
	
					"RunScript"
					{
						"ScriptFile"		"heroes/demon_hunter/demon_form.lua"
						"Function"			"HideWearables"
					}
	
					"AttachEffect"
					{
						"EffectName" 		"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis_ambient.vpcf"
						"EffectAttachType"	"follow_origin"
						"Target"			"TARGET"
					}
				}
	
				"OnDestroy"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/demon_hunter/demon_form.lua"
						"Function"		"ModelSwapEnd"
					}
	
					"RunScript"
					{
						"ScriptFile"	"heroes/demon_hunter/demon_form.lua"
						"Function"		"ShowWearables"
					}
				}
			}
		}
	}
	// Demon Hunter Evasion
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: Gives the Demon Hunter a chance to avoid attacks.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	N/A	None	N/A	N/A	N/A	10% chance opponent misses	1
	//2	N/A	N/A	None	N/A	N/A	N/A	20% chance opponent misses	3
	//3	N/A	N/A	None	N/A	N/A	N/A	30% chance opponent misses	5
	"demon_hunter_evasion"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"demon_hunter_evasion"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"evasion"		"10 20 30 40"
			}
		}
	
		"Modifiers"
		{
			"evasion"
			{
				"Passive"	"1"
				"Properties"
				{
					"MODIFIER_PROPERTY_EVASION_CONSTANT"	"%evasion"
				}
			}
		}
	}
	// Demon Hunter Immolation
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: Engulfs the Demon Hunter in flames, causing damage to nearby enemy land units. Drains mana until deactivated.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	N/A	35 + 7/sec	N/A	16	Ground, Enemy, Neutral, Organic	10 damage/sec	1
	//2	N/A	N/A	35 + 7/sec	N/A	16	Ground, Enemy, Neutral, Organic	15 damage/sec	3
	//3	N/A	N/A	35 + 7/sec	N/A	16	Ground, Enemy, Neutral, Organic	20 damage/sec	5
	"demon_hunter_immolation"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"demon_hunter_immolation"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_TOGGLE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityCastRange"				"160"
	
		"AbilityManaCost"				"35"
	
		"precache"
		{
			"particle" 	"soundevents/game_sounds_heroes/game_sounds_ember_spirit.vsndevts"
			"soundfile" "particles/units/heroes/hero_ember_spirit/ember_spirit_flameguard.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"damage_per_second"		"20 25 30 40"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"mana_cost_per_second"	"5"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"160"
			}
		}
	
		"OnToggleOn"
		{
			"ApplyModifier"
			{
				"Target"			"CASTER"
				"ModifierName"		"modifier_immolation"
			}
			"FireSound"
			{
				"EffectName"		"Hero_EmberSpirit.FlameGuard.Cast"
				"Target"			"CASTER"
			}
		}
	
		"OnToggleOff"
		{
			"RemoveModifier"
			{
				"Target"			"CASTER"
				"ModifierName"		"modifier_immolation"
			}
		}
	
		"Modifiers"
		{
			"modifier_immolation"
			{	
				"IsPassive"		"1"
				"IsBuff"		"1"
				"IsPurgable"	"0"
				
	
				"OnCreated"
				{
					"AttachEffect"
					{
						"Target"				"TARGET"
						"EffectName"			"particles/units/heroes/hero_ember_spirit/ember_spirit_flameguard.vpcf"
						"EffectAttachType"		"start_at_customorigin"
						"ControlPointEntities"
						{
							"TARGET"			"attach_origin"
							"TARGET"			"attach_origin"
						}
					}
				}
				
				"ThinkInterval"		"1"
				"OnIntervalThink"
				{
					"RunScript"
	    			{
				        "ScriptFile"    "heroes/demon_hunter/immolation.lua"
				        "Function"      "Immolation"
						"Target"
						{
							"Center"	"CASTER"
							"Radius"	"%radius"
							"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types"		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
						}
					}
				}
			}
		}
	}
	// Demon Hunter Mana Burn
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: Sends a bolt of negative energy that burns a target enemy unit's mana. Burned mana combusts, dealing damage to the target equal to the amount of mana burned.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	7 sec.	50	30	Unit	Air, Ground, Enemy, Neutral	Burns 50 mana	1
	//2	N/A	6 sec.	50	30	Unit	Air, Ground, Enemy, Neutral	Burns 100 mana	3
	//3	N/A	5 sec.	50	30	Unit	Air, Ground, Enemy, Neutral	Burns 150 mana	5
	"demon_hunter_mana_burn"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"demon_hunter_mana_burn"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_4"
	
		"AbilityCastRange"				"300"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"7.0 6.0 5.0 4.0"
	
		"AbilityManaCost"				"50"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_nyx_assassin/nyx_assassin_mana_burn.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_nyx_assassin.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"mana_burn"			"50 100 150 200"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"damage_per_mana"	"1"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_NyxAssassin.ManaBurn.Target"
				"Target" 		"TARGET"
			}
			
			"FireEffect"
			{
				"Target"			"TARGET"
				"EffectName"		"particles/units/heroes/hero_nyx_assassin/nyx_assassin_mana_burn.vpcf"
				"EffectAttachType"	"follow_origin"
			}
	
			"RunScript"
			{
				"ScriptFile"    "heroes/demon_hunter/mana_burn.lua"
				"Function"      "ManaBurn"
			}
		}
	
	}
	// Dread Lord Carrion Swarm
	// Author: Noya
	// Date: 17.01.2015.
	// Notes: Sends a horde of bats to damage enemies.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	10 sec.	110	70	15	Air, Ground	75 damage per unit, max 300	1
	//2	N/A	10 sec.	110	70	15	Air, Ground	125 damage per unit, max 600	3
	//3	N/A	10 sec.	110	70	15	Air, Ground	200 damage per unit, max 1000	5
	
	// NOTE: No max damage restriction for now.
	"dread_lord_carrion_swarm"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"dread_lord_carrion_swarm"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"10.0"
	
		"AbilityManaCost"				"110"
		"AbilityDamage"					"75 125 200 275"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_death_prophet/death_prophet_carrion_swarm.vpcf"	//Can't attach the bats
			"particle"	"particles/econ/items/death_prophet/death_prophet_acherontia/death_prophet_acher_swarm.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_death_prophet.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"start_radius"			"150"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"end_radius"			"300"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"range"					"700"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"speed"					"1100"
			}
		}
	
		"OnSpellStart"
		{
			"LinearProjectile"
			{
			    "Target"		 	"POINT"
			    "EffectName"     	"particles/econ/items/death_prophet/death_prophet_acherontia/death_prophet_acher_swarm.vpcf"
			    "MoveSpeed"      	"%speed"
			    "StartRadius"    	"%start_radius"
			    "EndRadius"      	"%end_radius"
			    "StartPosition"  	"attach_attack1"
			    "FixedDistance"  	"%range"
			    "TargetTeams"    	"DOTA_UNIT_TARGET_TEAM_ENEMY"
			    "TargetTypes"    	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
			    "HasFrontalCone" 	"1"
			    "ProvidesVision" 	"0"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_DeathProphet.CarrionSwarm"
				"Target"		"CASTER"
			}
		}
	
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"	"0"
			"FireSound"
	        {
	        	"EffectName" 	   	"Hero_DeathProphet.CarrionSwarm.Damage"
	            "Target" 			"TARGET"
	        }
	
	        "Damage"
	        {
	        	"Target"		 "TARGET"
	        	"Type"			 "DAMAGE_TYPE_MAGICAL"
	        	"Damage"		 "%AbilityDamage"
	        }
		}
	}
	// Dread Lord Inferno
	// Author: Noya
	// Date: 17.1.2015.
	// Notes: Calls an Infernal down from the sky, dealing 50 damage and stunning enemy land units for 4 seconds in an area. The Infernal lasts 180 seconds.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	N/A	180 sec.	175	90	25	Ground, Structure, Debris, Enemy	Creates an Infernal, 4 (2) second stun, 50 damage	6
	"dread_lord_inferno"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"dread_lord_inferno"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_1"
	
		"AbilityCastRange"				"900"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"180"
	
		"AbilityManaCost"				"175"
		"AbilityDamage"					"50"
	
		"AOERadius"						"250"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"250"
			}
			"02"
			{	
				"var_type"				"FIELD_FLOAT"
				"infernal_duration"		"180"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"stun_hero_duration"	"2"
			}
			"04"
			{
				"var_type"				"FIELD_FLOAT"
				"stun_creep_duration"	"4"
			}
			"05"
			{
				"var_type"					"FIELD_INTEGER"
				"inferno_1_count"		"1 0 0"
			}
			"06"
			{
				"var_type"					"FIELD_INTEGER"
				"inferno_2_count"		"0 1 0"
			}	
			"07"
			{
				"var_type"					"FIELD_INTEGER"
				"inferno_3_count"		"0 0 1"
			}
		}
	
		"precache"
		{
			"particle"	"particles/custom/warlock_rain_of_chaos_start.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_warlock.vsndevts"
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"			"Hero_Warlock.RainOfChaos_buildup"
				"Target"				"CASTER"
			}
	
			"SpawnUnit"
			{
				"Target"            	"POINT"
				"UnitName"              "npc_dread_lord_inferno"
				"UnitCount"             "%inferno_1_count"
				"Duration"				"180"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"    "heroes/dread_lord/inferno.lua"
	        			"Function"      "RenderInferno"
					}
	
					"FireEffect"
					{
						"EffectName"        "particles/custom/warlock_rain_of_chaos_start.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
					}	
				}
			}
	
			"SpawnUnit"
			{
				"Target"            	"POINT"
				"UnitName"              "npc_dread_lord_inferno2"
				"UnitCount"             "%inferno_2_count"
				"Duration"				"180"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"    "heroes/dread_lord/inferno.lua"
	        			"Function"      "RenderInferno"
					}
	
					"FireEffect"
					{
						"EffectName"        "particles/custom/warlock_rain_of_chaos_start.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
					}	
				}
			}
	
			"SpawnUnit"
			{
				"Target"            	"POINT"
				"UnitName"              "npc_dread_lord_inferno3"
				"UnitCount"             "%inferno_3_count"
				"Duration"				"180"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"    "heroes/dread_lord/inferno.lua"
	        			"Function"      "RenderInferno"
					}
	
					"FireEffect"
					{
						"EffectName"        "particles/custom/warlock_rain_of_chaos_start.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
					}	
				}
			}
	
			"DestroyTrees"
			{
				"Target"	"POINT"
				"Radius"	"%radius"
			}
	
			"ApplyModifier"
			{
				"ModifierName"    "modifier_inferno_stun"
				"Target"
				{
					"Center"	"POINT"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%stun_hero_duration"
			}
	
			"ApplyModifier"
			{
				"ModifierName"    "modifier_inferno_stun"
				"Target"
				{
					"Center"	"POINT"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
				}
				"Duration"		"%stun_creep_duration"
			}
	
			"Damage"
			{
				"Type" 		"DAMAGE_TYPE_MAGICAL"
				"Damage" 	"%AbilityDamage"
				"Target"
				{
					"Center"	"POINT"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
				}
			}
		}
	
		"Modifiers"
		{
			"modifier_inferno_stun"
			{
				"IsDebuff"	"1"
				"States"
				{
					"MODIFIER_STATE_STUNNED" "MODIFIER_STATE_VALUE_ENABLED"			
				}
				"OverrideAnimation"	"ACT_DOTA_DISABLED"
				"EffectName"		"particles/generic_gameplay/generic_stunned.vpcf"
				"EffectAttachType"	"follow_overhead"
			}
		}
	}
	
	// Ability for the Infernal Unit
	"dread_lord_inferno_immolation"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"dread_lord_inferno_immolation"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityCastRange"				"220"
	
		"precache"
		{
			"particle"	"particles/items2_fx/radiance.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"radius"		"220"
			}
			"02"
			{
				"var_type"		"FIELD_INTEGER"
				"dps"			"10"
			}
		}
	
		"Modifiers"
		{
			"modifier_inferno_immolation"
	   		{
	    		"Passive" 			"1"
	    		"IsHidden" 			"1"
	
	    		"States"
				{
					"MODIFIER_STATE_DOMINATED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
	
	    		"Aura" 				"modifier_inferno_immolation_burn"
	    		"Aura_Radius" 		"%radius"
	    		"Aura_Teams" 		"DOTA_UNIT_TARGET_TEAM_ENEMY"
	    		"Aura_Types" 		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	
	            "EffectName"		"particles/items2_fx/radiance.vpcf"
				"EffectAttachType" 	"attach_hitloc"
	   		}
			
			"modifier_inferno_immolation_burn"
	   		{
	   			"ThinkInterval"		"1"
	   			"OnIntervalThink"    	
	   			{
	   				"Damage"
					{		
						"Type" 		"DAMAGE_TYPE_MAGICAL"
						"Damage" 	"%dps"
						"Target"	"TARGET"
					}
				}
		    }
		}
	}
	// Dread Lord Sleep
	// Author: Noya
	// Date: 17.01.2015.
	// Notes: Puts a target enemy unit to sleep. A sleeping unit can be awoken by attacking it.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	20 (5) sec.	6 sec.	100	80	Unit	Air, Ground, Enemy, Organic	Unit put to sleep	1
	//2	40 (10) sec.	6 sec.	75	80	Unit	Air, Ground, Enemy, Organic	Unit put to sleep	3
	//3	60 (15) sec.	6 sec.	50	80	Unit	Air, Ground, Enemy, Organic	Unit put to sleep	5
	"dread_lord_sleep"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"dread_lord_sleep"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"8.0"
	
		"AbilityManaCost"				"100"
		"AbilityDamage"					"75 130 200 270"
	
		"precache"
		{
			"particle"	"particles/newplayer_fx/npx_sleeping.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_bane.vsndevts"
		}
			
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"hero_duration"		"5 10 15 20"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"creep_duration"	"20 40 60 80"
			}
		}
			
		"OnSpellStart"
		{
			"FireSound"				
			{
				"EffectName"	"Hero_Bane.Nightmare" 
				"Target"		"TARGET"
			}
	
			"ApplyModifier"
			{
				"ModifierName"    "modifier_sleep"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%hero_duration"
			}
	
			"ApplyModifier"
			{
				"ModifierName"    "modifier_sleep"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%creep_duration"
			}
		}
		
		"Modifiers"
		{
			"modifier_sleep"
			{
				"IsDebuff"	"1"
	
				"EffectName"		"particles/newplayer_fx/npx_sleeping.vpcf"
				"EffectAttachType" "follow_overhead"
	
				"States"
				{
					"MODIFIER_STATE_STUNNED"				"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NIGHTMARED"				"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_LOW_ATTACK_PRIORITY" 	"MODIFIER_STATE_VALUE_ENABLED"
				}
	
				"OverrideAnimation"		"ACT_DOTA_DISABLED"
	
				"OnTakeDamage"
				{
					"RemoveModifier"
					{
						"Target"		"UNIT"
						"ModifierName"	"modifier_sleep"
					}					
				}			
			}
		}		
	}
	// Dread Lord Vampiric Aura
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: Nearby friendly melee units gain hit points when they hit a unit.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self, Organic	Gains 15% of Attack Damage	1
	//2	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self, Organic	Gains 30% of Attack Damage	3
	//3	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self, Organic	Gains 45% of Attack Damage	5
	"dread_lord_vampiric_aura"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"dread_lord_vampiric_aura"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityCastRange"				"900"
	
		"precache"
		{
			"particle"	"particles/items_fx/aura_vlads.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"lifesteal"		"15 30 45 60"
			}
			"02"
			{
				"var_type"		"FIELD_INTEGER"
				"radius"		"900"
			}
		}
	
		"Modifiers"
		{
			"modifier_vampiric_aura"
	   		{
	    		"Passive" 			"1"
	    		"IsHidden" 			"1"
	
	    		"Aura" 				"modifier_vampiric_aura_buff"
	    		"Aura_Radius" 		"%radius"
	    		"Aura_Teams" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
	    		"Aura_Types" 		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	    		"Aura_Flags" 		"DOTA_UNIT_TARGET_FLAG_MELEE_ONLY"
	
	            "EffectName"		"particles/items_fx/aura_vlads.vpcf"
				"EffectAttachType" 	"follow_origin"
	   		}
			
			"modifier_vampiric_aura_buff"
	   		{	
	   			"OnAttackLanded"    	
	   			{
	   				"RunScript"
					{
						"ScriptFile"	"heroes/dread_lord/vampiric_aura.lua"
						"Function"		"VampiricAuraApply"
					}
				}
		    }
	
		    "modifier_vampiric_aura_lifesteal"
		    {
		    	"IsHidden"		"1"
		    	"OnDealDamage"
				{
					"Lifesteal"
					{
						"Target" 				"ATTACKER"
						"LifestealPercent"		"%lifesteal"
					}
				}
			}
		}
	}
	"dummy_passive"
	{
		"BaseClass" 		"ability_datadriven"
		"AbilityBehavior" 	"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"Modifiers"
		{
			"dummy_modifier"
			{
				"Passive"	"1"
				"States"
				{
					"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_TEAM_MOVE_TO"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_TEAM_SELECT"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_COMMAND_RESTRICTED"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ATTACK_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_INVULNERABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					//"MODIFIER_STATE_FLYING"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NOT_ON_MINIMAP"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_UNSELECTABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_OUT_OF_GAME"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"		   "MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	
	"dummy_passive_vulnerable"
	{
		"BaseClass" 		"ability_datadriven"
		"AbilityBehavior" 	"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"Modifiers"
		{
			"dummy_modifier"
			{
				"Passive"	"1"
				"States"
				{
					"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_TEAM_MOVE_TO"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_TEAM_SELECT"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_COMMAND_RESTRICTED"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ATTACK_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_MAGIC_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NOT_ON_MINIMAP"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_UNSELECTABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"		   "MODIFIER_STATE_VALUE_ENABLED"	
				}
			}
		}
	}
	
	"dummy_passive_fly"
	{
		"BaseClass" 		"ability_datadriven"
		"AbilityBehavior" 	"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"Modifiers"
		{
			"dummy_modifier"
			{
				"Passive"	"1"
				"States"
				{
					"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_TEAM_MOVE_TO"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_TEAM_SELECT"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_COMMAND_RESTRICTED"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ATTACK_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_INVULNERABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_FLYING"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NOT_ON_MINIMAP"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_UNSELECTABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_OUT_OF_GAME"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"		   "MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	
	"dummy_empty1"
	{
		"BaseClass" 		"ability_datadriven"
		"AbilityBehavior" 	"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	}
	"dummy_empty2"
	{
		"BaseClass" 		"ability_datadriven"
		"AbilityBehavior" 	"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	}
	"dummy_empty3"
	{
		"BaseClass" 		"ability_datadriven"
		"AbilityBehavior" 	"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	}
	"dummy_empty4"
	{
		"BaseClass" 		"ability_datadriven"
		"AbilityBehavior" 	"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	}
	// Far Seer Chain Lightning
	// Author: Noya
	// Date: 17.1.2015.
	// Notes: Hurls a bolt of damaging lightning at a target enemy that jumps to nearby enemies. Each jump deals less damage.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	9 sec.	120	70	50	Air, Ground, Enemy, Neutral	85 damage, jumps 4 times	1
	//2	N/A	9 sec.	120	70	50	Air, Ground, Enemy, Neutral	125 damage, jumps 6 times	3
	//3	N/A	9 sec.	120	70	50	Air, Ground, Enemy, Neutral	180 damage, jumps 8 times	5
	"far_seer_chain_lightning"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"far_seer_chain_lightning"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.2"
		"AbilityCooldown"				"9.0"
	
		"AbilityManaCost"				"120"
	
		"precache"
		{
			"particle" 	"particles/items_fx/chain_lightning.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_zuus.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"lightning_damage"		"85 125 180 250"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"lightning_bounces"		"4 6 8 10"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"bounce_range"			"500"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"lightning_decay"		"20"
			}
			"05"
			{
				"var_type"				"FIELD_FLOAT"
				"time_between_bounces"	"0.2"
			}
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/far_seer/chain_lightning.lua"
				"Function"		"ChainLightning"
			}
		}
	}
	// Far Seer Earthquake
	// Author: Noya
	// Date: 26.01.2015.
	// Notes: Makes the ground tremble and break, causing 50 damage per second to buildings and slowing units by 75% within area of effect. Lasts 25 seconds.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	25 sec.	90 sec.	150	100	25	Ground, Structures	50 damage/sec to buildings, slows units 75%	6
	"far_seer_earthquake"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"far_seer_earthquake"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_BUILDING"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_SPAWN"
	
		"AbilityCastRange"				"1000"
		"AbilityCastPoint"				"0.5"
		"AbilityCooldown"				"90.0"
	
		"AbilityManaCost"				"150"
		"AbilityChannelTime"			"25.0"
	
		"AOERadius"						"%radius"
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_leshrac/leshrac_split_earth.vpcf"
			"particle"	"particles/units/heroes/hero_warlock/warlock_rain_of_chaos_explosion.vpcf"
			"particle"	"particles/units/heroes/hero_earthshaker/temp_eruption_dirt.vpcf"
			"particle"	"particles/dire_fx/dire_lava_falling_rocks.vpcf"
			"particle"	"particles/units/heroes/hero_earthshaker/earthshaker_echoslam_start_fallback_mid.vpcf"
			"particle"	"particles/econ/items/earthshaker/egteam_set/hero_earthshaker_egset/earthshaker_echoslam_start_egset.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_leshrac.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"duration"					"25"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"building_damage_per_sec"	"50 75 100"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"radius"					"250 300 350"
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"movement_speed_slow_pct"	"-75"
			}
			"05"
			{
				"var_type"					"FIELD_FLOAT"
				"wave_interval"				"1.0"
			}
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/far_seer/earthquake.lua"
				"Function"		"EarthquakeStart"
				"Target"		"POINT"
			}
	
			"DestroyTrees"
			{
				"Target" 		"POINT"
				"Radius"		"%radius"
			}		
	
			// Animation needs to start half a second later to sync with the damage
			"DelayedAction"
			{
				"Delay"     "0.5"
				"Action"    
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_earthquake_channelling"
						"Target" 		"CASTER"
					}
				}
			}	
		}
	
		"OnChannelFinish"
	    {
	    	"RunScript"
	    	{
	    		"ScriptFile"	"heroes/far_seer/earthquake.lua"
				"Function"		"EarthquakeEnd"
	    	} 
	
	    	"RemoveModifier"
			{
				"ModifierName"	"modifier_earthquake_channelling"
				"Target" 		"CASTER"
			}  			
	    }
	
	    "Modifiers"
	    {
	        "modifier_earthquake_channelling"
	        {
	        	"IsHidden"			"1"
	            "ThinkInterval"		"1.0"
	            "OverrideAnimation"     "ACT_DOTA_KINETIC_FIELD"
	            "OnIntervalThink"
	         	{
	 				"ApplyModifier"
	         		{
	         			"ModifierName"	"modifier_channeling"
	         			"Target" 		"CASTER"
	         			"Duration"		"0.9"
	         		}    		
				}
			}
	
			"modifier_channeling"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_KINETIC_FIELD"
			}
	
			"modifier_earthquake_thinker"
			{
				"Aura"          "modifier_eartquake_slow"
				"Aura_Radius"   "%radius"
				"Aura_Teams"    "DOTA_UNIT_TARGET_TEAM_ENEMY"
				"Aura_Types"    "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"		
	
				"OnCreated"
				{
					"FireSound"
					{
						"EffectName"	"Hero_Leshrac.Split_Earth"
						"Target" 		"TARGET"
					}
	
					"AttachEffect"
					{
						"EffectName"        "particles/econ/items/earthshaker/egteam_set/hero_earthshaker_egset/earthshaker_echoslam_start_egset.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
					}
					
	
					"AttachEffect"
					{
						"Target"			"TARGET"
						"EffectAttachType" 	"follow_origin"
						"EffectName"		"particles/units/heroes/hero_earth_spirit/espirit_spawn.vpcf"
						"ControlPointEntities"
						{
							"TARGET"	"attach_origin"
							"TARGET"	"attach_origin"
						}
					}
	
					"AttachEffect"
					{
						"Target"			"TARGET"
						"EffectAttachType" 	"follow_origin"
						"EffectName"		"particles/dire_fx/dire_lava_falling_rocks.vpcf"
					}
	
					"AttachEffect"
					{
						"Target"			"TARGET"
						"EffectAttachType" 	"follow_origin"
						"EffectName"		"particles/units/heroes/hero_leshrac/leshrac_pulse_nova.vpcf"
					}
				}
	
				"ThinkInterval"  "%wave_interval"
				"OnIntervalThink"
				{
					// Custom Building Damage
					"RunScript"
					{
						"ScriptFile"	"buildings/damage.lua"
						"Function"		"DoBuildingDamage"
						"Target"
						{
							"Center"  	"TARGET"
							"Radius" 	"%radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types" 	"DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
							"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
						}
						"Damage"		"%building_damage_per_sec"
					}
	
					"FireSound"
					{
						"EffectName"	"Hero_Leshrac.Split_Earth"
						"Target" 		"TARGET"
					}
	
					"FireEffect"
					{
						"EffectName"		"particles/units/heroes/hero_warlock/warlock_rain_of_chaos_explosion.vpcf"
						"EffectAttachType" 	"follow_origin"
						"Target" 			"TARGET"
					}
					"FireEffect"
					{
						"EffectName"		"particles/units/heroes/hero_earthshaker/temp_eruption_dirt.vpcf"
						"EffectAttachType" 	"follow_origin"
						"Target" 			"TARGET"
					}
					"AttachEffect"
					{
						"Target"	"TARGET"
						"EffectAttachType" "follow_origin"
						"EffectName"	"particles/units/heroes/hero_leshrac/leshrac_split_earth.vpcf"
						"ControlPoints"
						{
							"01"		"%radius 50 50"
						}
					}
	
					"AttachEffect"
					{
						"Target"			"TARGET"
						"EffectAttachType" 	"follow_origin"
						"EffectName"		"particles/units/heroes/hero_leshrac/leshrac_pulse_nova.vpcf"
						"ControlPoints"
						{
							"01"	"%radius 0 %radius"
						}
					}
	
					"AttachEffect"
					{
						"Target"			"TARGET"
						"EffectAttachType" 	"follow_origin"
						"EffectName"		"particles/units/heroes/hero_earthshaker/earthshaker_echoslam_start_fallback_mid.vpcf"
						"ControlPoints"
						{
							"01"	"1 0 0"
						}		
					}
				}
			}
	
			"modifier_eartquake_slow"
			{
				"IsDebuff"		"1"
				"Properties"
				{
				    "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%movement_speed_slow_pct" 
				}		
			}
		}
	}
	// Far Seer Far Sight
	// Author: Noya
	// Date: 24.1.2015.
	// Notes: Reveals the area of the map that is cast upon. Also reveals invisible units.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	8 sec.	N/A	75	Unlimited	60	N/A	Reveals Map	1
	//2	8 sec.	N/A	60	Unlimited	180	N/A	Reveals Map	3
	//3	8 sec.	N/A	50	Unlimited	400	N/A	Reveals Map	5
	"far_seer_far_sight"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"far_seer_far_sight"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"0.0"
	
		"AbilityManaCost"				"75 60 50 0"
	
		"precache"
		{
			"particle" 	"particles/items_fx/dust_of_appearance.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_magnataur.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"reveal_radius"	"600 1200 2000 4000"
			}
			"02"
			{
				"var_type"		"FIELD_INTEGER"
				"duration"		"8"
			}
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/far_seer/far_sight.lua"
				"Function"		"FarSight"
				"Target"		"POINT"
			}
	
			"CreateThinker"
			{
				"ModifierName"	"modifier_far_sight"
				"Target" 		"POINT"
			}
		}
	
		"Modifiers"
		{
			"modifier_far_sight"
			{	
				"IsHidden"			"1"
				"Duration"			"%duration"
				"Aura"          	"modifier_far_sight_vision"
				"Aura_Radius"   	"%reveal_radius"
				"Aura_Teams"    	"DOTA_UNIT_TARGET_TEAM_ENEMY"
				"Aura_Types"    	"DOTA_UNIT_TARGET_ALL"
			}
	
			"modifier_far_sight_vision"
			{
				"States"
				{
					"MODIFIER_STATE_INVISIBLE"		"MODIFIER_STATE_VALUE_DISABLED"
				}
			}
		}
		
	}
	// Far Seer Feral Spirit
	// Author: Noya
	// Date: 25.01.2015.
	// Notes: Summons Spirit Wolves to fight enemies for a limited time.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	60 sec.	30 sec.	75	N/A	N/A	N/A	Summons Two Spirit Wolves	1
	//2	60 sec.	25 sec.	75	N/A	N/A	N/A	Summons Two Dire Wolves	3
	//3	60 sec.	25 sec.	75	N/A	N/A	N/A	Summons Two Shadow Wolves	5
	"far_seer_feral_spirit"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"far_seer_feral_spirit"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"30.0 25.0 25.0 20.0"
	
		"AbilityManaCost"				"75"
		"AbilityDamage"					"75 130 200 250"
	
		"precache"
		{
			"soundfile"		"soundevents/game_sounds_heroes/game_sounds_lycan.vsndevts"		
			"particle"		"particles/units/heroes/hero_lycan/lycan_summon_wolves_cast.vpcf"		
			"particle"		"particles/units/heroes/hero_lycan/lycan_summon_wolves_spawn.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"wolf_duration"				"60"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"wolf_damage"				"11 16 21 27"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"wolf_hp"					"200 300 500 650"
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"wolf_1_count"				"2 0 0 0"
			}
			"05"
			{
				"var_type"					"FIELD_INTEGER"
				"wolf_2_count"				"0 2 0 0"
			}
			"06"
			{
				"var_type"					"FIELD_INTEGER"
				"wolf_3_count"				"0 0 2 0"
			}
			"06"
			{
				"var_type"					"FIELD_INTEGER"
				"wolf_4_count"				"0 0 0 2"
			}
			"07"
			{
				"var_type"					"FIELD_INTEGER"
				"spawn_distance"			"150"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Lycan.SummonWolves"
				"Target"		"CASTER"
			}
	
			"AttachEffect"
			{
				"EffectName"        "particles/units/heroes/hero_lycan/lycan_summon_wolves_cast.vpcf"
				"EffectAttachType"  "start_at_customorigin"
				"Target"            "CASTER"
				"ControlPointEntities"
				{
					"CASTER"	"attach_attack1"
				}
			}
			
			"RunScript"
			{
				"ScriptFile"	"heroes/far_seer/feral_spirit.lua"
				"Function"		"KillWolves"
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_far_seer_spirit_wolf"
				"Target"
				{
					"Center"		    "CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/far_seer/feral_spirit.lua"
						"Function"      "GetSummonPoints"
						"Target"		"CASTER"
						"Count"			"2"
						"distance"		"%spawn_distance"
					}
				}
				
				"Duration"		"%wolf_duration"
				"UnitCount"		"%wolf_1_count / 2"
				"UnitLimit"		"2"
				"GrantsGold"	"1"
				"GrantsXP"		"1"
				"SpawnRadius"	"10"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/far_seer/feral_spirit.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
			
					"ApplyModifier"
					{
						"ModifierName"	"modifier_feral_spirit"
						"Target" 		"TARGET"
						"Duration"		"%duration"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_far_seer_dire_wolf"
				"Target"
				{
					"Center"		    "CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/far_seer/feral_spirit.lua"
						"Function"      "GetSummonPoints"
						"Target"		"CASTER"
						"Count"			"2"
						"distance"		"%spawn_distance"
					}
				}
				
				"Duration"		"%wolf_duration"
				"UnitCount"		"%wolf_2_count / 2"
				"UnitLimit"		"2"
				"GrantsGold"	"1"
				"GrantsXP"		"1"
				"SpawnRadius"	"10"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/far_seer/feral_spirit.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
			
					"ApplyModifier"
					{
						"ModifierName"	"modifier_feral_spirit"
						"Target" 		"TARGET"
						"Duration"		"%duration"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_far_seer_shadow_wolf"
				"Target"
				{
					"Center"		    "CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/far_seer/feral_spirit.lua"
						"Function"      "GetSummonPoints"
						"Target"		"CASTER"
						"Count"			"2"
						"distance"		"%spawn_distance"
					}
				}
				
				"Duration"		"%wolf_duration"
				"UnitCount"		"%wolf_3_count / 2"
				"UnitLimit"		"2"
				"GrantsGold"	"1"
				"GrantsXP"		"1"
				"SpawnRadius"	"10"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/far_seer/feral_spirit.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
			
					"ApplyModifier"
					{
						"ModifierName"	"modifier_feral_spirit"
						"Target" 		"TARGET"
						"Duration"		"%duration"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_far_seer_calamity_wolf"
				"Target"
				{
					"Center"		    "CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/far_seer/feral_spirit.lua"
						"Function"      "GetSummonPoints"
						"Target"		"CASTER"
						"Count"			"2"
						"distance"		"%spawn_distance"
					}
				}
				
				"Duration"		"%wolf_duration"
				"UnitCount"		"%wolf_4_count / 2"
				"UnitLimit"		"2"
				"GrantsGold"	"1"
				"GrantsXP"		"1"
				"SpawnRadius"	"10"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/far_seer/feral_spirit.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
			
					"ApplyModifier"
					{
						"ModifierName"	"modifier_feral_spirit"
						"Target" 		"TARGET"
						"Duration"		"%duration"
					}
				}
			}
		}
	
		"Modifiers"
		{
			"modifier_feral_spirit"
			{
				"Passive"			"0"
				"IsHidden"			"1"
				"IsDebuff"			"0"
			
				"OnCreated"
				{
					"FireEffect"
					{
						"EffectName"        "particles/units/heroes/hero_lycan/lycan_summon_wolves_spawn.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
					}			
				}			
			}
		}
	}
	
	
	// Fire Lord Incinerate
	// Author: Noya
	// Date: 05.02.2015.
	// Notes: Each attack made is enchanced with living flames that cling to the target. 
	//These flames add a small amount of damage on the first attack, twice as much on the second attack, three times as much on the third attack, etc. 
	//If the unit dies while under this effect, it is incinerated, causing significant damage to all nearby hostile units.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	None	6 per attack	N/A	N/A	Enemy, Organic, Neutral	1 bonus damage, 30 incineration damage	1
	//2	N/A	None	6 per attack	N/A	N/A	Enemy, Organic, Neutral	2 bonus damage, 45 incineration damage	3
	//3	N/A	None	6 per attack	N/A	N/A	Enemy, Organic, Neutral	3 bonus damage, 60 incineration damage	5
	"firelord_incinerate"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"firelord_incinerate"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST | DOTA_ABILITY_BEHAVIOR_ATTACK"
		"AbilityUnitTargetTeam" 		"DOTA_UNIT_TARGET_TEAM_ENEMY"
	    "AbilityUnitTargetType" 		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"
	
		"AbilityCastRange"				"600"
		"AbilityCastPoint"				"0.0"
		"AbilityCooldown"				"0.0"
	
		"AbilityManaCost"				"6"
	
		"precache"
		{
			"particle" 	"particles/custom/ogre_magi_fireblast.vpcf"
			"particle"  "particles/econ/items/shadow_fiend/sf_fire_arcana/sf_fire_arcana_base_attack.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_nevermore.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"						"FIELD_FLOAT"
				"bonus_reset_time"				"6"
			}
			"02"
			{
				"var_type"						"FIELD_INTEGER"
				"damage_per_stack"				"1 2 3 4"
			}
			"03"
			{
				"var_type"						"FIELD_INTEGER"
				"incineration_damage"			"30 45 60 75"
			}
			"04"
			{
				"var_type"						"FIELD_INTEGER"
				"incineration_radius"			"100"
			}
		}
	
		"Modifiers"
		{
			"modifier_incinerate_orb"
			{	
				"Passive"						"1"
				"IsHidden"						"1"
			
				"Orb"
	            {
	                "Priority"  		"DOTA_ORB_PRIORITY_ABILITY"
	                "ProjectileName" 	"particles/econ/items/shadow_fiend/sf_fire_arcana/sf_fire_arcana_base_attack.vpcf"
	                "CastAttack"    	"1" 
	            }
	
	            "OnOrbFire"
	            {
	                "SpendMana"
	                {
	                    "Mana" "%AbilityManaCost"
	                }
	            }
	
	            "OnOrbImpact"
	            {
	               	"RunScript"
					{
						"ScriptFile"	"heroes/firelord/incinerate.lua"
						"Function"		"IncinerateAttack"
					}
	
	               	"FireSound"
	              	{
	                   "EffectName" 	"Hero_Nevermore.Raze_Flames"
	                   "Target" 		"TARGET"
	               	}
	          	}
			}
	
			"modifier_incinerate_stack"
			{
				"IsDebuff"	"1"
	
				"OnDeath"
				{
					"FireEffect"
					{
						"EffectName"        "particles/custom/ogre_magi_fireblast.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"
					    {
					       "Center" "UNIT"
					       "Flags"	"DOTA_UNIT_TARGET_FLAG_DEAD"
					   	}
					}
	
					"Damage"
					{
						"Target"
						{
							"Center"  	"TARGET"
							"Radius" 	"%incineration_radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
							"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
						}
						"Type"			"DAMAGE_TYPE_MAGICAL"
						"Damage"		"%incineration_damage"
					}
				}
			}
		}
	}
	// Firelord Soul Burn
	// Author: Noya
	// Date: 05.02.2015.
	// Notes: Wreaths an enemy unit in magical flames which cause damage over time, prevent the casting of spells, and reduce attack damage by 50%.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	14 (6) sec.	12 sec.	85	70	N/A	Air, Ground, Enemy, Organic, Neutral	100 damage over 14 seconds.	1
	//2	16 (7) sec.	12 sec.	85	70	N/A	Air, Ground, Enemy, Organic, Neutral	225 damage over 16 seconds.	3
	//3	18 (8) sec.	12 sec.	85	70	N/A	Air, Ground, Enemy, Organic, Neutral	375 damage over 18 seconds.	5
	"firelord_soul_burn"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"firelord_soul_burn"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_RAZE_3"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"12.0"
	
		"AbilityManaCost"				"85"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_axe/axe_battle_hunger.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_nevermore.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"damage_per_second"	"7 14 21 28"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"hero_duration"		"6 7 8 9"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"creep_duration"	"14 16 18 20"
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"damage_reduction"	"-50"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Nevermore.Shadowraze"
				"Target" 		"TARGET"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_soul_burn"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%hero_duration"
			}
			
			"ApplyModifier"
			{
				"ModifierName"	"modifier_soul_burn"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%creep_duration"
			}
		}
	
		"Modifiers"
		{
			"modifier_soul_burn"
			{
				"IsDebuff"			"1"
		
				"EffectName"		"particles/units/heroes/hero_axe/axe_battle_hunger.vpcf"
				"EffectAttachType"	"follow_overhead"
		
				"ThinkInterval"  "1.0"
				"OnIntervalThink"
				{
					"Damage"
					{
						"Target"		"TARGET"
						"Type"			"DAMAGE_TYPE_MAGICAL"
						"Damage"		"%damage_per_second"
					}
				}
	
				"Properties"
				{
					"MODIFIER_PROPERTY_PREATTACK_BONUS_DAMAGE"	"%damage_reduction"
				}
	
				"States"
				{
					"MODIFIER_STATE_SILENCED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	// Firelord Summon Lava Spawn
	// Author: Noya
	// Date: 05.02.2015.
	// Notes: Summons a Lava Spawn, a resilient and deadly fire creature. As a Lava Spawn deals damage, it consumes the flesh of its target, eventually splitting into two healthy Lava Spawns.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	70 sec.	32 sec.	150	N/A	20	Air, Ground, Enemy, Neutral, Ward	425 hit points, 11-27 damage	1
	//2	70 sec.	32 sec.	150	N/A	20	Air, Ground, Enemy, Neutral, Ward	550 hit points, 21-45 damage	3
	//3	70 sec.	32 sec.	150	N/A	20	Air, Ground, Enemy, Neutral, Ward	700 hit points, 32-56 damage	5
	"firelord_summon_lava_spawn"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"firelord_summon_lava_spawn"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCastAnimation"			"ACT_DOTA_RAZE_2"
	
		"AbilityCastPoint"				"0.5"
		"AbilityCooldown"				"32.0"
	
		"AbilityManaCost"				"150"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_invoker/invoker_forged_spirit_projectile.vpcf"
			"particle"  "particles/econ/items/shadow_fiend/sf_fire_arcana/sf_fire_arcana_shadowraze.vpcf"
			"particle"  "particles/units/heroes/hero_invoker/invoker_forge_spirit_death.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_invoker.vsndevts"
			"model"		"models/items/invoker/forge_spirit/cadenza_spirit/cadenza_spirit.vmdl"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"lava_spawn_duration"		"70"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"attacks_to_split"			"15"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"lava_spawn_damage"			"19 33 44 54"
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"lava_spawn_hp"				"425 550 700 850"
			}
			"05"
			{
				"var_type"					"FIELD_INTEGER"
				"lava_spawn_1_count"		"1 0 0 0"
			}
			"06"
			{
				"var_type"					"FIELD_INTEGER"
				"lava_spawn_2_count"		"0 1 0 0"
			}
			"07"
			{
				"var_type"					"FIELD_INTEGER"
				"lava_spawn_3_count"		"0 0 1 0"
			}
			"08"
			{
				"var_type"					"FIELD_INTEGER"
				"lava_spawn_4_count"		"0 0 0 1"
			}
			"09"
			{
				"var_type"					"FIELD_INTEGER"
				"spawn_distance"			"250"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Invoker.ForgeSpirit"
				"Target"		"CASTER"
			}		
	
			"SpawnUnit"
			{
				"UnitName"		"firelord_lava_spawn1"
				"Target"
				{
					"Center"		    "CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/firelord/summon_lava_spawn.lua"
						"Function"      "GetSummonPoints"
						"Target"		"CASTER"
						"Count"			"1"
						"distance"		"%spawn_distance"
					}
				}
				
				"Duration"		"%lava_spawn_duration"
				"UnitCount"		"%lava_spawn_1_count"
				"GrantsGold"	"1"
				"GrantsXP"		"1"
				"SpawnRadius"	"10"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/firelord/summon_lava_spawn.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
			
					"ApplyModifier"
					{
						"ModifierName"	"modifier_lava_spawn"
						"Target" 		"TARGET"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_lava_spawn_replicate"
						"Target" 		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"firelord_lava_spawn2"
				"Target"
				{
					"Center"		    "CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/firelord/summon_lava_spawn.lua"
						"Function"      "GetSummonPoints"
						"Target"		"CASTER"
						"Count"			"1"
						"distance"		"%spawn_distance"
					}
				}
				
				"Duration"		"%lava_spawn_duration"
				"UnitCount"		"%lava_spawn_2_count"
				"GrantsGold"	"1"
				"GrantsXP"		"1"
				"SpawnRadius"	"10"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/firelord/summon_lava_spawn.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
			
					"ApplyModifier"
					{
						"ModifierName"	"modifier_lava_spawn"
						"Target" 		"TARGET"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_lava_spawn_replicate"
						"Target" 		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"firelord_lava_spawn3"
				"Target"
				{
					"Center"		    "CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/firelord/summon_lava_spawn.lua"
						"Function"      "GetSummonPoints"
						"Target"		"CASTER"
						"Count"			"1"
						"distance"		"%spawn_distance"
					}
				}
				
				"Duration"		"%lava_spawn_duration"
				"UnitCount"		"%lava_spawn_3_count"
				"GrantsGold"	"1"
				"GrantsXP"		"1"
				"SpawnRadius"	"10"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/firelord/summon_lava_spawn.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
			
					"ApplyModifier"
					{
						"ModifierName"	"modifier_lava_spawn"
						"Target" 		"TARGET"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_lava_spawn_replicate"
						"Target" 		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"firelord_lava_spawn4"
				"Target"
				{
					"Center"		    "CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/firelord/summon_lava_spawn.lua"
						"Function"      "GetSummonPoints"
						"Target"		"CASTER"
						"Count"			"1"
						"distance"		"%spawn_distance"
					}
				}
				
				"Duration"		"%lava_spawn_duration"
				"UnitCount"		"%lava_spawn_4_count"
				"GrantsGold"	"1"
				"GrantsXP"		"1"
				"SpawnRadius"	"10"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/firelord/summon_lava_spawn.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
			
					"ApplyModifier"
					{
						"ModifierName"	"modifier_lava_spawn"
						"Target" 		"TARGET"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_lava_spawn_replicate"
						"Target" 		"TARGET"
					}
				}
			}
		}
	
		"Modifiers"
		{
			"modifier_lava_spawn"
			{
				"IsHidden"			"1"
	
				"States"
				{
					"MODIFIER_STATE_DOMINATED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			
				"EffectName"		"particles/units/heroes/hero_invoker/invoker_forge_spirit_ambient.vpcf"
				"EffectAttachType"	"follow_origin"
	
				"OnDeath"
				{
					"AttachEffect"
					{
						"EffectName"        "particles/units/heroes/hero_invoker/invoker_forge_spirit_death.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"
					    {
					       "Center" "UNIT"
					       "Flags"	"DOTA_UNIT_TARGET_FLAG_DEAD"
					   	}
					   	"ControlPoints"
					   	{
					   		"03"	"1 0 0"
					   	}
					}
				}
			}
	
			"modifier_lava_spawn_replicate"
			{
				"IsHidden"	"1"
				"OnAttackLanded"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/firelord/summon_lava_spawn.lua"
						"Function"		"LavaSpawnAttackCounter"
					}
				}
			}
		}
	}
	// Fire Lord Volcano
	// Author: Noya
	// Date: 05.02.2015.
	// Notes: Causes the ground to erupt into a massive Volcano. Every 5 seconds, a wave of molten rocks is hurled from the Volcano at nearby ground units and buildings, 
	// causing 100 damage to each target and stunning it for 2 seconds. Buildings take 2 times more damage from molten rocks than units do.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	35 sec.	180 sec.	200	80	50	Ground, Building, Not Self, Tree, Debris	Creates Volcano	6
	
	// Extra notes: Stuns all friendly units except for the hero channelling.
	// Transforms the terrain.
	"firelord_volcano"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"firelord_volcano"
		"MaxLevel" 						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_BUILDING"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"1.67"	
		"AbilityCooldown"				"180.0"
		"AbilityManaCost"				"200"
	
		"AOERadius"     				"%radius"
		"AbilityChannelTime"			"35.0"
		
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_nevermore.vsndevts"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_ember_spirit.vsndevts"
			"particle"	"particles/custom/sf_fire_arcana_wings.vpcf"
			"particle"  "particles/custom/warlock_rain_of_chaos_explosion.vpcf"
			"particle"  "particles/custom/sf_fire_arcana_base_attack_impact.vpcf"
			"particle"	"particles/custom/custom_stunned.vpcf"
			"particle"  "models/particle/soil_rupture.vmdl"
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"500"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"wave_interval"			"5.0"
			}		
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"wave_damage"			"100 135 170"	//buildings take *2
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"stun_duration"			"2"
			}
		}
	
		"OnAbilityPhaseStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_volcano_channelling"
				"Target" 		"CASTER"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Nevermore.RequiemOfSoulsCast"
				"Target" 		"CASTER"
			}
	
			"DelayedAction"
			{
				"Delay"     "2.6"
				"Action"    
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_volcano_channeling_idle"
						"Target" 		"CASTER"
					}
				}
			}
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/firelord/volcano.lua"
				"Function"		"VolcanoStart"
				"Target"		"POINT"
			}
	
			"DestroyTrees"
			{
				"Target" 		"POINT"
				"Radius"		"%radius"
			}
		
			"FireSound"
			{
				"EffectName"	"Hero_EmberSpirit.FlameGuard.Loop"
				"Target" 		"CASTER"
			}
	    }
	
	    "OnChannelFinish"
	    {
	    	"RunScript"
	    	{
	    		"ScriptFile"	"heroes/firelord/volcano.lua"
				"Function"		"VolcanoEnd"
	    	} 
	
	    	"RemoveModifier"
			{
				"ModifierName"	"modifier_volcano_channelling"
				"Target" 		"CASTER"
			} 
	
			"RemoveModifier"
			{
				"ModifierName"	"modifier_volcano_channeling_idle"
				"Target" 		"CASTER"
			}
	    }
	    
	    "Modifiers"
	    {
	        "modifier_volcano_channelling"
	        {
	        	"OverrideAnimation"		"ACT_DOTA_CAST_ABILITY_6"
	        	"IsHidden"				"1"
	
				// Every 5 seconds, one wave is launched, then an idle channeling animation
	           	"ThinkInterval"			"5"
	            "OnIntervalThink"
	        	{
	        		"ApplyModifier"
	         		{
	         			"ModifierName"	"modifier_channeling"
	        			"Target" 		"CASTER"
	        			"Duration"		"2.46" //74 frames
	        		}
				}
			}
	
			"modifier_channeling"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_6"
			}
	
			"modifier_volcano_channeling_idle"
			{
				"OverrideAnimation"		"ACT_DOTA_TELEPORT"
	        	"IsHidden"				"1"
	
				// Every 5 seconds after a 2.6 delay, make an idle channeling animation
	           	"ThinkInterval"			"5"
	            "OnIntervalThink"
	        	{
	        		// First after finishing ACT_DOTA_CAST_ABILITY_6	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_channeling_idle"
						"Target" 		"CASTER"
						"Duration"		"2.33" //67 frames
					}
				}
			}	
	
			"modifier_channeling_idle"
			{
				"IsHidden"				"0"
				"OverrideAnimation"     "ACT_DOTA_TELEPORT"
			}
	
			"modifier_volcano_thinker"
			{
				"States"
				{
					//"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_TEAM_MOVE_TO"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_TEAM_SELECT"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_COMMAND_RESTRICTED"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ATTACK_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_MAGIC_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NOT_ON_MINIMAP"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_UNSELECTABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"		   "MODIFIER_STATE_VALUE_ENABLED"	
				}
	
				"EffectName"		"particles/custom/sf_fire_arcana_wings.vpcf"
				"EffectAttachType"	"follow_origin"
				"Target"			"TARGET"
				"ControlPointEntities"
				{
					"TARGET"	"attach_origin"
					"TARGET"	"attach_origin"
				}
	
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/firelord/volcano.lua"
						"Function"		"VolcanoKnockback"
						"Target"
						{
							"Center"  	"TARGET"
							"Radius" 	"%radius / 2"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_BOTH"
							"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC" //Exclude self in the code
						}
					}
	
					"FireEffect"
					{
						"EffectName"        "particles/custom/warlock_rain_of_chaos_explosion.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
					}
	
					"FireSound"
					{
						"EffectName"	"Hero_Nevermore.RequiemOfSouls"
						"Target"		"CASTER"
					}
	
					"DelayedAction"
					{
						"Delay"     "0.5"
						"Action"    
						{
							"RunScript"
							{
								"ScriptFile"	"heroes/firelord/volcano.lua"
								"Function"		"VolcanoWave"
								"Target"
								{
									"Center"  	"TARGET"
									"Radius" 	"%radius"
									"Teams" 	"DOTA_UNIT_TARGET_TEAM_BOTH"
									"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_BUILDING"
									"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
								}
							}
						}
					}
				}
	
				"ThinkInterval"  "%wave_interval"
				"OnIntervalThink"
				{
					"FireEffect"
					{
						"EffectName"        "particles/custom/warlock_rain_of_chaos_explosion.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
					}
	
					"FireSound"
					{
						"EffectName"	"Hero_Nevermore.RequiemOfSouls"
						"Target"		"CASTER"
					}
	
					"DelayedAction"
					{
						"Delay"     "0.5"
						"Action"    
						{
							"RunScript"
							{
								"ScriptFile"	"heroes/firelord/volcano.lua"
								"Function"		"VolcanoWave"
								"Target"
								{
									"Center"  	"TARGET"
									"Radius" 	"%radius"
									"Teams" 	"DOTA_UNIT_TARGET_TEAM_BOTH"
									"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_BUILDING"
									"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
								}
							}
						}
					}
				}			
			}
	
			"modifier_volcano_stun"
			{
				"IsDebuff"			"1"
			
				"EffectName"        "particles/custom/sf_fire_arcana_base_attack_impact.vpcf"
				"EffectAttachType"  "follow_origin"
			
				"OnCreated"
				{
					"FireSound"
					{
						"EffectName"	"Hero_Nevermore.RequiemOfSouls.Damage"
						"Target" 		"TARGET"
					}
				}
	
				"States"
				{
					"MODIFIER_STATE_STUNNED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
				"OverrideAnimation"     "ACT_DOTA_DISABLED"
			}
		}	
	}
	// AbilityName
	// Author: 
	// Date: 13.1.2015.
	// Notes: Causes roots to burst from the ground, immobilizing and damaging a target enemy.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	9 (3) sec.	8 sec.	75	80	Unit	Ground, Enemy, Neutral	Deals 15 damage/sec	1
	//2	24 (4) sec.	8 sec.	75	80	Unit	Ground, Enemy, Neutral	Deals 15 damage/sec	3
	//3	36 (5) sec.	8 sec.	75	80	Unit	Ground, Enemy, Neutral	Deals 25 damage/sec	5
	"keeper_entangling_roots"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"keeper_entangling_roots"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_1"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.4"
		"AbilityCooldown"				"8.0"
	
		"AbilityManaCost"				"75"
	
		"precache"
		{
			"particle"				"particles/econ/items/lone_druid/lone_druid_cauldron/lone_druid_bear_entangle_body_cauldron.vpcf"
			"particle"				"particles/econ/items/lone_druid/lone_druid_cauldron/lone_druid_bear_entangle_cauldron.vpcf"
			"particle"				"particles/units/heroes/hero_lone_druid/lone_druid_bear_entangle_body.vpcf"
			"soundfile"				"soundevents/game_sounds_heroes/game_sounds_treant.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"damage_per_second"		"15 15 25 35"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"hero_duration"			"3 4 5 6"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"creep_duration"		"9 24 36 48"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"		"Hero_Treant.Overgrowth.Cast"
				"Target" 			"TARGET"
			}	
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_entangling_roots"
				"Target"
				{
					"Center"	"TARGET"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%hero_duration"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_entangling_roots"
				"Target"
				{
					"Center"	"TARGET"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%creep_duration"
			}
		}
	
		"Modifiers"
		{
			"modifier_entangling_roots"
			{
				"IsDebuff"		"1"
				"States"
				{
					"MODIFIER_STATE_ROOTED"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_DISARMED"	"MODIFIER_STATE_VALUE_ENABLED"
				}
	
				"OnCreated"
				{
					"AttachEffect"
					{
						"Target" 			"TARGET"
						"EffectName"		"particles/units/heroes/hero_lone_druid/lone_druid_bear_entangle_body.vpcf"
						"EffectAttachType" 	"attach_hitloc"
					}
					"AttachEffect"
					{
						"Target" 			"TARGET"
						"EffectName"		"particles/econ/items/lone_druid/lone_druid_cauldron/lone_druid_bear_entangle_body_cauldron.vpcf"
						"EffectAttachType" 	"attach_hitloc"
					}
					"AttachEffect"
					{
						"Target" 			"TARGET"
						"EffectName"		"particles/econ/items/lone_druid/lone_druid_cauldron/lone_druid_bear_entangle_cauldron.vpcf"
						"EffectAttachType" 	"attach_hitloc"
					}			
				}
	
				"ThinkInterval"	"1"
				"OnIntervalThink"
				{
					"Damage"
					{
						"Target"		 "TARGET"
						"Type"			 "DAMAGE_TYPE_MAGICAL"
						"Damage"		 "%damage_per_second"
					}
				}
			}
		}
	}
	// Keeper Force of Nature
	// Author: Noya
	// Date: 25.01.2015.
	// Notes: Converts an area of trees into Treants. Treants can attack land units.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	60 sec.	20 sec.	125	80	15	Trees	Raises 2 Treants	1
	//2	60 sec.	20 sec.	125	80	22.5	Trees	Raises 3 Treants	3
	//3	60 sec.	20 sec.	125	80	30	Trees	Raises 4 Treants	5
	"keeper_force_of_nature"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"keeper_force_of_nature"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_3"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.4"
		"AbilityCooldown"				"20.0"
	
		"AbilityManaCost"				"125"
	
		"AOERadius"						"%radius"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_furion/furion_force_of_nature_cast.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_furion.vsndevts"
			"model"		"models/items/furion/treant/father_treant/father_treant.vmdl"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"treant_count"	"2 3 4 5"
			}
			"02"
			{
				"var_type"		"FIELD_FLOAT"
				"duration"		"60.0"
			}
			"03"
			{
				"var_type"		"FIELD_INTEGER"
				"radius"		"150 225 300 375"
			}
		}
	
		//"OnAbilityPhaseStart"
		//{
		//	"RunScript"
		//	{
		//		"ScriptFile"	"heroes/keeper/force_of_nature.lua"
		//		"Function"		"CheckTrees"
		//		"Target"		"POINT"
		//	}
		//}
	
		"OnSpellStart"
		{		
			//"RunScript"
			//{
			//	"ScriptFile"	"heroes/keeper/force_of_nature.lua"
			//	"Function"		"ForceOfNature"
			//	"Target"		"POINT"
			//}
	
			//"DestroyTrees"
			//{
			//	"Target" 		"POINT"
			//	"Radius"		"%radius"
			//}
	
			//"FireSound"
			//{
			//	"EffectName"	"Hero_Furion.ForceOfNature"
			//	"Target" 		"CASTER"
			//}	
	
	
			"SpawnUnit"
			{
				"UnitName"		"npc_treant"
				"UnitCount"		"%treant_count"
				"SpawnRadius"	"100"
				"Duration"		"%duration"
				"Target"		"CASTER"
				"GrantsGold" 	"1"
		        "GrantsXP" 		"1"
				"OnSpawn"
				{
					//"AttachEffect"
					//{
					//	"EffectName"		"particles/units/heroes/hero_morphling/morphling_replicate_finish.vpcf"
					//	"EffectAttachType"	"follow_origin"
					//	"Target"			"TARGET"
					//}
					"FireSound"
					{
						"EffectName" 		"Hero_Furion.ForceOfNature"
						"Target"			"CASTER"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_summoned"
						"Target" 		"TARGET"
					}
				}
			}
		}
	
		"Modifiers"
		{
			"modifier_summoned"
			{
				"IsHidden"			"1"
		
				"States"
				{
					"MODIFIER_STATE_DOMINATED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"mechanics.lua"
						"Function"		"SetNoCorpse"
					}
				}
			}
		}
	}
	// Keeper Thorns Aura
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: An aura that gives friendly units around the Keeper of the Grove a damage shield, which wounds enemy melee attackers.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self	Reflects 10% of melee damage	1
	//2	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self	Reflects 20% of melee damage	3
	//3	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self	Reflects 30% of melee damage	5
	"keeper_thorns_aura"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"keeper_thorns_aura"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PURE"
	
		"AbilityCastRange"				"900"
	
		"precache"
		{
			"particle"				"particles/units/heroes/hero_omniknight/omniknight_degen_aura_b.vpcf"
			"particle"				"particles/custom/aura_thorns.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"melee_damage_return"	"10 20 30 40"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"900"
			}
		}
	
		"Modifiers"
		{
			"modifiers_thorns_aura"
			{
				"IsHidden" 			"1"
				"Passive" 			"1"
	
				"Aura" 				"modifiers_thorns_aura_buff"
				"Aura_Radius" 		"%radius"
				"Aura_Teams" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
				"Aura_Types" 		"DOTA_UNIT_TARGET_ALL"
	
				"EffectName"		"particles/custom/aura_thorns.vpcf"
				"EffectAttachType"	"follow_origin"
			}
	
			"modifiers_thorns_aura_buff"
			{
				"IsBuff"				"1"
				
				"OnAttacked"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/keeper/thorns_aura.lua"
						"Function"		"ThornsAura"
						"Damage"		"%attack_damage"
					}
				}	
			}
		}
	}
	// Keeper of the Grove Tranquility
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: Causes a rain of healing energy to pour down in a large area, healing friendly allied units for 20 hit points per second.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	30 sec.	60 sec.	125	N/A	90	Air, Ground, Friend, Self	Heals 20 HP/sec	6
	"keeper_tranquility"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"keeper_tranquility"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior" 				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"60"
		"AbilityChannelTime" 			"30"
	
		"AbilityManaCost"				"125"
	
		"precache"
		{
			"particle"				"particles/units/heroes/hero_luna/luna_eclipse.vpcf"
			"particle"				"particles/neutral_fx/troll_heal.vpcf"
			"particle"				"particles/units/heroes/hero_huskar/huskar_inner_vitality.vpcf"
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"duration" 			"30"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"heal_per_second"	"20 30 40"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"radius"			"900"
			}
		}		
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"Target"			"CASTER"
				"ModifierName"		"modifier_tranquility_aura"
			}	
		}
	
		"OnChannelFinish"
		{
			"RemoveModifier"
			{
				"Target"			"CASTER"
				"ModifierName"		"modifier_tranquility_aura"
			}	
	
		}
	
		"Modifiers"
		{
			"modifier_tranquility_aura"
			{
				"IsHidden" 			"1"
	
				"Aura" 				"modifier_tranquility_aura_effect"
				"Aura_Radius" 		"%radius"
				"Aura_Teams" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
				"Aura_Types" 		"DOTA_UNIT_TARGET_ALL"
	
				"EffectName"		"particles/units/heroes/hero_huskar/huskar_inner_vitality.vpcf"
				"EffectAttachType"	"follow_origin"
	
				"OnCreated"
				{
					"AttachEffect"
					{
						"Target" 			"CASTER"
						"EffectName"		"particles/units/heroes/hero_luna/luna_eclipse.vpcf"
						"EffectAttachType"	"follow_origin"
						"ControlPoints"
						{
							"01"		"%radius 0 0"
						}
					}
	
					"FireSound"
					{
						"Target" 		"CASTER"
						"EffectName" 	"leshrac_lesh_respawn_09"
					}
	
				}
	
				// Just for looping sound and animation
				"ThinkInterval"		"2"
				"OnIntervalThink"
				{
					"FireSound"
					{
						"Target"		"CASTER"
						"EffectName" 	"n_creep_ForestTrollHighPriest.Heal"
					}
	
					"ApplyModifier"
					{
						"Target"		"CASTER"
						"ModifierName" 	"modifier_tranquility_animation"
					}
				}
			}
	
			"modifier_tranquility_aura_effect"
			{
				"Properties"
				{
					"MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT" 	"%heal_per_second"
				}
	
				"ThinkInterval"		"1"
				"OnIntervalThink"
				{
					"AttachEffect"
					{
						"Target"			"TARGET"
						"EffectName"		"particles/neutral_fx/troll_heal.vpcf"
						"EffectAttachType"	"follow_origin"
					}
				}
			}
	
			"modifier_tranquility_animation"
			{
				"Duration"				"1.9"
				"OverrideAnimation"		"ACT_DOTA_CAST_ABILITY_2"
			}
		}
	}
	// Lich Dark Ritual, Warcraft version
	// Author: Noya
	// Date: 20.01.2015.
	// Notes: Sacrifices a target friendly unit to convert its hit points into mana for the Lich.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	15 sec.	25	80	Unit	Air, Ground, Player, Non Hero	33% HP to mana	1
	//2	N/A	15 sec.	25	80	Unit	Air, Ground, Player, Non Hero	66% HP to mana	3
	//3	N/A	15 sec.	25	80	Unit	Air, Ground, Player, Non Hero	100% HP to mana	5
	"lich_dark_ritual_warcraft"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"lich_dark_ritual_warcraft"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_3"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.4"
		"AbilityCooldown"				"15.0"
	
		"AbilityManaCost"				"25"
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_lich/lich_dark_ritual.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_lich.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"health_conversion"		"33 66 100 133"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Ability.DarkRitual"
				"Target" 		"CASTER"
			}
	
			"FireEffect"
			{
				"EffectName"		"particles/units/heroes/hero_lich/lich_dark_ritual.vpcf"
				"EffectAttachType" 	"follow_origin"
				"Target" 			"TARGET"
				"ControlPointEntities"
				{
					"TARGET"	"attach_hitloc"
					"CASTER"	"attach_hitloc"
				}
			}
	
			"RunScript"
		    {
		        "ScriptFile"    "heroes/lich/dark_ritual.lua"
		        "Function"      "DarkRitual"
		    }
		}
	}
	// Lich Death and Decay
	// Author: Noya
	// Date: 29.01.2015.
	// Notes: Damages everything in its area of effect by 4% of its base hit points per second.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	35 sec.	150 sec.	250	100	30	Air, Ground, Wards, Buildings, Trees	Damage to 4% of base HP/sec	6
	"lich_death_and_decay"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"lich_death_and_decay"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_BUILDING"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityCastRange"				"1000"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"150.0"
	
		"AbilityManaCost"				"250"
		
		"AOERadius"     				"%radius"
		"AbilityChannelTime"			"35.0"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_enigma/enigma_blackhole.vpcf"
			"particle"  "particles/custom/enigma_midnight_pulse.vpcf"
			"particle"  "particles/custom/enigma_malefice.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_lich.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"						"FIELD_INTEGER"
				"health_percent_damage_per_sec"	"4 5 6"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"radius"			"300 350 400"
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"duration"			"35.0"
			}	
			"04"
			{
				"var_type"			"FIELD_FLOAT"
				"wave_interval"		"1.0"
			}
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/lich/death_and_decay.lua"
				"Function"		"DeathAndDecayStart"
				"Target"		"POINT"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_death_and_decay_channelling"
				"Target" 		"CASTER"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Lich.ChainFrostLoop"
				"Target" 		"CASTER"
			}
	
			"DestroyTrees"
			{
				"Target" 		"POINT"
				"Radius"		"%radius"
			}
	    }
	
	    "OnChannelFinish"
	    {
	    	"RunScript"
	    	{
	    		"ScriptFile"	"heroes/lich/death_and_decay.lua"
				"Function"		"DeathAndDecayEnd"
	    	} 
	
	    	"RemoveModifier"
			{
				"ModifierName"	"modifier_death_and_decay_channelling"
				"Target" 		"CASTER"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Lich.ChainFrostImpact.LF"
				"Target" 		"CASTER"
			}
	    }
	    
	    "Modifiers"
	    {
	        "modifier_death_and_decay_channelling"
	        {
	        	"IsHidden"			"1"
	            "ThinkInterval"		"1.0"
	            "OnIntervalThink"
	         	{
	         		"ApplyModifier"
	         		{
	         			"ModifierName"	"modifier_channeling"
	         			"Target" 		"CASTER"
	         			"Duration"		"0.9"
	         		}
				}
			}
	
			"modifier_channeling"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_SPAWN"
			}
	
			"modifier_death_and_decay_thinker"
			{
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"        "particles/units/heroes/hero_enigma/enigma_blackhole_n.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
						"ControlPointEntities"
						{
							"TARGET"	"attach_origin"
							"TARGET"	"attach_origin"
						}
					}
	
					"AttachEffect"
					{
						"EffectName"        "particles/custom/enigma_midnight_pulse.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
						"ControlPoints"
						{
							"01"	"%radius 0 0"
						}
					}
				}
	
				"ThinkInterval"  "%wave_interval"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/lich/death_and_decay.lua"
						"Function"		"DeathAndDecayDamage"
						"Target"
						{
							"Center"  	"TARGET"
							"Radius" 	"%radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_BOTH"
							"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
							"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
						}
					}
				}		
			}
		}
	}
	// Lich Frost Armor
	// Author: Noya
	// Date: 20.01.2015.
	// Notes: Creates a shield of frost around a target friendly unit. The shield adds armor and slows melee units that attack it.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	45 sec.	2 sec.	40	80	Unit	Air, Ground, Friend, Self	Adds 3 armor, 5 seconds of cold	1
	//2	45 sec.	2 sec.	40	80	Unit	Air, Ground, Friend, Self	Adds 5 armor, 5 seconds of cold	3
	//3	45 sec.	2 sec.	40	80	Unit	Air, Ground, Friend, Self	Adds 7 armor, 5 seconds of cold	5
	"lich_frost_armor_warcraft"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"lich_frost_armor_warcraft"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.4"
		"AbilityCooldown"				"2.0"
	
		"AbilityManaCost"				"40"
		"AbilityDuration"				"45"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"armor_bonus"			"3 5 7 9"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"slow_duration"			"5.0"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"slow_movement_speed"	"-50"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"slow_attack_speed"		"-25"
			}
	
			// Extra values to control the Autocast AI
			"05"
			{
				"var_type"				"FIELD_INTEGER"
				"autocast_radius"		"900"
			}
		}
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_lich/lich_frost_armor.vpcf"
			"particle"	"particles/status_fx/status_effect_frost_armor.vpcf"
			"particle"	"particles/status_fx/status_effect_frost.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_lich.vsndevts"
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Lich.FrostArmor"
				"Target"		"TARGET"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_frost_armor"
				"Target"		"TARGET"
				"Duration"		"%AbilityDuration"
			}
		}
	
		"Modifiers"
		{
			"modifier_frost_armor"
			{
				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"	"%armor_bonus"
				}
	
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"    "heroes/lich/frost_armor.lua"
				        "Function"      "FrostArmorParticle"	
				    }
				}
	
				"OnDestroy"
				{
					"RunScript"
					{
						"ScriptFile"    "heroes/lich/frost_armor.lua"
				        "Function"      "EndFrostArmorParticle"	
				    }
				}
	
				"StatusEffectName"		"particles/status_fx/status_effect_frost_armor.vpcf"
				"StatusEffectPriority"	"10"
	
				//Frost Armor only slows units that attack the unit with a Melee attack.
				"OnAttacked"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_frost_armor_slow"
						"Target"
						{
							"Center"	"ATTACKER"
							"Flags"     "DOTA_UNIT_TARGET_FLAG_MELEE_ONLY"
						}
						"Duration"		"%slow_duration"
					}
	
					"FireSound"
					{
						"EffectName"	"Hero_Lich.FrostArmorDamage"
						"Target"		"TARGET"
					}
				}
			}
	
			"modifier_frost_armor_slow"
			{
				"IsDebuff"	"1"
	
				"StatusEffectName"		"particles/status_fx/status_effect_frost.vpcf"
				"StatusEffectPriority"	"10"
	
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"	"%slow_attack_speed"
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"	"%slow_movement_speed"
				}
			}
	
			"modifier_frost_armor_autocast_aura"
			{
				"Passive"	"1"
				"IsHidden"	"1"
	
				"Aura" 				"modifier_frost_armor_autocast_attacked"
				"Aura_Radius" 		"%autocast_radius"
				"Aura_Teams" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
				"Aura_Types" 		"DOTA_UNIT_TARGET_HERO"
			}
	
			"modifier_frost_armor_autocast_attacked"
			{
				"IsHidden"	"1"
				"OnAttacked"
				{
					"RunScript"
				    {
				        "ScriptFile"    "heroes/lich/frost_armor.lua"
				        "Function"      "FrostArmorAutocast"
				    }
				}
			}
		}
	}
	// Lich Frost Nova, Warcraft version
	// Author: Noya
	// Date: 18.1.2015.
	// Notes: Blasts enemy units around a target enemy unit with a wave of damaging frost that slows movement and attack rate.
	//Level	Duration (Heroes)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	4 (2) sec.	8 sec.	125	80	20	Air, Ground, Enemy	100 target damage, 50 nova damage	1
	//2	6 (3) sec.	8 sec.	125	80	20	Air, Ground, Enemy	100 target damage, 100 nova damage	3
	//3	8 (4) sec.	8 sec.	125	80	20	Air, Ground, Enemy	100 target damage, 150 nova damage	5
	"lich_frost_nova_warcraft"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"lich_frost_nova_warcraft"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_1"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"8.0"
	
		"AbilityManaCost"				"125"
		"AbilityDamage"					"100"
	
		"AoERadius"						"200"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_lich/lich_frost_nova.vpcf"
			"particle"	"particles/status_fx/status_effect_frost_lich.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_lich.vsndevts"
		}
		
		"AbilitySpecial"
		{			
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"200"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"slow_movement_speed"	"-30"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"slow_attack_speed"		"-20"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"aoe_damage"			"50 100 150 200"
			}
			"05"
			{
				"var_type"				"FIELD_INTEGER"
				"slow_hero_duration"	"2 3 4 5"
			}
			"06"
			{
				"var_type"				"FIELD_INTEGER"
				"slow_creep_duration"	"4 6 8 10"
			}
		}
	
		"OnSpellStart"
		{
			"FireEffect"
			{
				"EffectName"		"particles/units/heroes/hero_lich/lich_frost_nova.vpcf"
				"EffectAttachType"	"follow_origin"
				"Target"			"TARGET"
			}
	
			"FireSound"
			{
				"EffectName"	"Ability.FrostNova"
				"Target"		"TARGET"
			}
	
			"Damage"
			{
				"Type"		"DAMAGE_TYPE_MAGICAL"
				"Target"	"TARGET"
				"Damage"	"%AbilityDamage"
			}
	
			"ActOnTargets"
			{
				"Target"
				{
					"Center"  				"TARGET"
					"Radius" 				"%radius"
					"Teams" 				"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types" 				"DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
				}
	
				"Action"
				{
					"ApplyModifier"
					{
						"ModifierName"    "modifier_frost_nova_slow"
						"Target"
						{
							"Center"	"TARGET"
							"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types"		"DOTA_UNIT_TARGET_HERO"
						}
						"Duration"		"%slow_hero_duration"
					}
	
					"ApplyModifier"
					{
						"ModifierName"    "modifier_frost_nova_slow"
						"Target"
						{
							"Center"	"TARGET"
							"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types"		"DOTA_UNIT_TARGET_BASIC"
						}
						"Duration"		"%slow_creep_duration"
					}
	
					"Damage"
					{
						"Type"		"DAMAGE_TYPE_MAGICAL"
						"Target"	"TARGET"
						"Damage"	"%aoe_damage"
					}
	
				}
			}
		}
	
		"Modifiers"
		{
			"modifier_frost_nova_slow"
			{
				"IsDebuff"		"1"
	
				"StatusEffectName"		"particles/status_fx/status_effect_frost_lich.vpcf"
				"StatusEffectPriority"	"10"
	
				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"	"%slow_movement_speed"
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"	"%slow_attack_speed"
				}
			}
		}
	}
	// Mountain King Avatar
	// Author: Noya
	// Date: 13.1.2015.
	// Notes: Activate Avatar to temporarily give the Mountain King 5 bonus armor, 500 bonus hit points, 20 bonus damage and spell immunity.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	60 sec.	180 sec.	150	N/A	Personal	Self	+5 Armor, +500 hit points, +20 damage, spell immunity	6
	"mountain_king_avatar"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"mountain_king_avatar"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCooldown"				"180"
		"AbilityManaCost"				"150"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"duration"				"60"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"armor_bonus"			"5 7 9"	
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_damage"			"20 30 40"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"health_bonus"			"500"
			}
			"05"
			{
				"var_type"				"FIELD_FLOAT"
				"model_size"			"1.2"
			}
		}
	
		"precache"
		{
			"particle"				"particles/units/heroes/hero_alchemist/alchemist_chemical_rage.vpcf"
			"particle"				"particles/items_fx/black_king_bar_avatar.vpcf"
			"particle"				"particles/status_fx/status_effect_chemical_rage.vpcf"
		}
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"Target"		"CASTER"
				"ModifierName"	"modifier_avatar"
			}
			"FireSound"
			{
				"Target"		"CASTER"
				"EffectName" 	"DOTA_Item.BlackKingBar.Activate"
			}
		}
		
		"Modifiers"
		{
			"modifier_avatar"
			{
				"Duration"			"%duration"
	
				"OnCreated"
				{
					"AttachEffect"
					{
						"Target"			"CASTER"
						"EffectName"		"particles/items_fx/black_king_bar_avatar.vpcf"
						"EffectAttachType"	"follow_origin"
					}
	
					"RunScript"
					{
						"ScriptFile"    "heroes/mountain_king/avatar.lua"
						"Function"		"AvatarResize"
					}
				}
	
				"EffectName"			"particles/units/heroes/hero_alchemist/alchemist_chemical_rage.vpcf"
				"EffectAttachType"		"follow_origin"
	
				"StatusEffectName"		"particles/status_fx/status_effect_chemical_rage.vpcf"
				"StatusEffectPriority"	"5"
	
				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"	"%armor_bonus"
					"MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"	"%bonus_damage"
					"MODIFIER_PROPERTY_HEALTH_BONUS"			"%health_bonus"
				}
	
				"States"
				{
					"MODIFIER_STATE_MAGIC_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	// Mountain King Bash
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: Gives a chance that the Mountain King's attack will do 25 bonus damage and stun his opponent for 2 seconds (1 second for Heroes).
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	N/A	None	N/A	Unit	Ground	20% chance, damage +25, 2 (Hero 1) second stun	1
	//2	N/A	N/A	None	N/A	Unit	Ground	30% chance, damage +25, 2 (Hero 1) second stun	3
	//3	N/A	N/A	None	N/A	Unit	Ground	40% chance, damage +25, 2 (Hero 1) second stun	5
	"mountain_king_bash"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"mountain_king_bash"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityDamage"					"25"
	
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_faceless_void.vsndevts"
			"particle"	"particles/status_fx/status_effect_faceless_chronosphere.vpcf"
			"particle"	"particles/generic_gameplay/generic_stunned.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"bash_chance"			"20 30 40 50"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"stun_hero_duration"	"1.0"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"stun_creep_duration"	"5.0"
			}
		}
	
		"Modifiers"
		{
			"modifier_bash"	
			{
				"Passive"	"1"
				"IsHidden"	"1"
	
				"OnAttackLanded"
				{
					"Random"
					{
						"Chance"		"%bash_chance"
						"PseudoRandom"	"DOTA_PSEUDO_RANDOM_FACELESS_BASH"
	
						"OnSuccess"
						{
							"FireSound"
							{
								"EffectName"	"Hero_FacelessVoid.TimeLockImpact"
								"Target"		"TARGET"
							}
	
							"ApplyModifier"
							{
								"ModifierName"	"modifier_bash_stun"
								"Target"
								{
									"Center"	"TARGET"
									"Types"		"DOTA_UNIT_TARGET_HERO"
								}
								"Duration"		"%stun_hero_duration"	
							}
	
							"ApplyModifier"
							{
								"ModifierName"	"modifier_bash_stun"
								"Target"
								{
									"Center"	"TARGET"
									"Types"		"DOTA_UNIT_TARGET_BASIC"
								}
								"Duration"		"%stun_creep_duration"
							}
	
							"Damage"
							{
								"Target"	"TARGET"
								"Type"		"DAMAGE_TYPE_MAGICAL"
								"Damage"	"%AbilityDamage"
							}
						}
					}
				}
			}
	
			"modifier_bash_stun"
			{
				"IsDebuff"			"1"
				"EffectName"		"particles/generic_gameplay/generic_stunned.vpcf"
				"EffectAttachType"	"follow_overhead"
	
				"StatusEffectName"		"particles/status_fx/status_effect_faceless_chronosphere.vpcf"
				"StatusEffectPriority"	"1"
	
				"States"
				{
					"MODIFIER_STATE_STUNNED"	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	// Mountain King Storm Bolt
	// Author: Noya
	// Date: 13.1.2015.
	// Notes: A magical hammer that is thrown at an enemy unit, causing damage and stunning the target.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	9 sec.	75	60	Unit	Air, Ground, Enemy, Neutral	100 damage and 5 (Hero 3) second stun	1
	//2	N/A	9 sec.	75	60	Unit	Air, Ground, Enemy, Neutral	225 damage and 5 (Hero 3) second stun	3
	//3	N/A	9 sec.	75	60	Unit	Air, Ground, Enemy, Neutral	350 damage and 5 (Hero 3) second stun	5
	"mountain_king_storm_bolt"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"mountain_king_storm_bolt"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"8.0"
	
		"AbilityManaCost"				"75"
		"AbilityDamage"					"100 225 350 450"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"bolt_speed"			"750"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"stun_hero_duration"	"2.0"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"stun_creep_duration"	"5.0"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"vision_radius"			"225"
			}
		}
	
		"precache"
		{
			"soundfile"			"soundevents/game_sounds_heroes/game_sounds_sven.vsndevts"
			"particle"			"particles/units/heroes/hero_sven/sven_spell_storm_bolt.vpcf"
			"particle"			"particles/units/heroes/hero_sven/sven_storm_bolt_projectile_explosion.vpcf"
			"particle"			"particles/generic_gameplay/generic_stunned.vpcf"
		}
	
		"OnSpellStart"
		{
			"TrackingProjectile"
			{
				"Target"           	"TARGET"
			    "EffectName"       	"particles/units/heroes/hero_sven/sven_spell_storm_bolt.vpcf"
			    "Dodgeable"        	"1"
			    "ProvidesVision"   	"1"
			    "VisionRadius"		"%vision_radius"
			    "MoveSpeed"        	"%bolt_speed"
			    "SourceAttachment"  "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
			}
	
			"FireSound"
			{
				"EffectName"		"Hero_Sven.StormBolt"
				"Target"			"CASTER"
			}
		}
	
		"OnProjectileHitUnit"
		{
			"FireSound"
			{
				"EffectName"		"Hero_Sven.StormBoltImpact"
				"Target"			"TARGET"
			}
	
			"FireEffect"
			{
				"EffectName"		"particles/units/heroes/hero_sven/sven_storm_bolt_projectile_explosion.vpcf"
				"EffectAttachType"	"attach_origin"
				"Target"			"TARGET"
				"ControlPointEntities"
				{
					"TARGET"	"attach_origin"
					"TARGET"	"attach_origin"
					"TARGET"	"attach_origin"
					"TARGET"	"attach_origin"	//CP3 has a child explosion origin
				}
			}
	
			"Damage"
			{
				"Target"		"TARGET"
				"Type"			"DAMAGE_TYPE_MAGICAL"
				"Damage"		"%AbilityDamage"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_storm_bolt"
				"Target"
				{
					"Center"	"TARGET"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%stun_hero_duration"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_storm_bolt"
				"Target"
				{
					"Center"	"TARGET"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%stun_creep_duration"
			}
		}
	
		"Modifiers"
		{
			"modifier_storm_bolt"
			{
				"IsDebuff"		"1"
				"Duration"		"%stun_hero_duration"
				"OverrideAnimation"	"ACT_DOTA_DISABLED"
	
				"EffectName"		"particles/generic_gameplay/generic_stunned.vpcf"
				"EffectAttachType"	"follow_overhead"
	
				"States"
				{
					"MODIFIER_STATE_STUNNED"	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	// Mountain King Thunder Clap
	// Author: Noya
	// Date: 20.01.2015.
	// Notes: Slams the ground, damaging nearby enemy units. Units are also slowed for the duration listed below.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	5 (3) sec.	6 sec.	90	N/A	25	Ground, Enemy	60 damage, Movement Speed Slowed 50%, Attack Rate Slowed 50%	1
	//2	5 (3) sec.	6 sec.	90	N/A	30	Ground, Enemy	100 damage, Movement Speed Slowed 50%, Attack Rate Slowed 50%	3
	//3	5 (3) sec.	6 sec.	90	N/A	35	Ground, Enemy	140 damage, Movement Speed Slowed 50%, Attack Rate Slowed 50%	5
	"mountain_king_thunder_clap"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"mountain_king_thunder_clap"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_4"
	
		"AbilityCastRange"				"250 300 350 400"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"6.0"
	
		"AbilityManaCost"				"90"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_brewmaster/brewmaster_thunder_clap.vpcf"
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_thunder_clap_debuff.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_brewmaster.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"radius"					"250 300 350 400"
			}
			"02"
			{
				"var_type"					"FIELD_FLOAT"
				"duration"					"3.0 3.0 3.0 3.0"
			}
			"03"
			{
				"var_type"					"FIELD_FLOAT"
				"duration_creeps"			"5.0 5.0 5.0 5.0"
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"damage"					"60 100 140 180"
			}
			"05"
			{
				"var_type"					"FIELD_INTEGER"
				"movement_slow"				"-50 -50 -50 -50"
			}
			"06"
			{
				"var_type"					"FIELD_INTEGER"
				"attack_speed_slow"			"-50 -50 -50 -50"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Brewmaster.ThunderClap"
				"Target" 		"CASTER"
			}
			
			"FireEffect"
			{
				"EffectName"        "particles/units/heroes/hero_brewmaster/brewmaster_thunder_clap.vpcf"
				"EffectAttachType"  "follow_origin"
				"EffectRadius"		"%radius"
				"Target"            "CASTER"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_thunder_clap"
				"Target"
				{
					"Center"	"CASTER"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%duration"
			}
			
			"ApplyModifier"
			{
				"ModifierName"	"modifier_thunder_clap"
				"Target"
				{
					"Center"	"CASTER"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%duration_creeps"
			}
	
			"Damage"
			{
				"Target"
				{
					"Center"  	"CASTER"
					"Radius" 	"%radius"
					"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				}
				"Type"			"DAMAGE_TYPE_MAGICAL"
				"Damage"		"%damage"
			}
		}
	
		"Modifiers"
		{
			"modifier_thunder_clap"
			{
				"Passive"			"0"
				"IsHidden"			"0"
				"IsDebuff"			"1"
		
				"EffectName"		"particles/units/heroes/hero_brewmaster/brewmaster_thunder_clap_debuff.vpcf"
				"EffectAttachType"	"follow_origin"
	
				"StatusEffectName" 		"particles/status_fx/status_effect_brewmaster_thunder_clap.vpcf" 	   
				"StatusEffectPriority"  "10"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%movement_slow"
				    "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%attack_speed_slow" 
				}
	
				"OnCreated"
				{
					"FireSound"
					{
						"EffectName"	"Hero_Brewmaster.ThunderClap.Target"
						"Target" 		"TARGET"
					}			
				}		
			}
		}
	}
	// Naga Sea Witch Forked Lightning
	// Author: Noya
	// Date: 17.01.2015.
	// Notes: Calls forth a cone of lightning to damage enemies. Hits a maximum of 3 units.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	Instant	11 sec.	110	60	N/A	Air, Ground, Enemy, Organic, Neutral	85 damage per unit.	1
	//2	Instant	11 sec.	110	60	N/A	Air, Ground, Enemy, Organic, Neutral	160 damage per unit.	3
	//3	Instant	11 sec.	110	60	N/A	Air, Ground, Enemy, Organic, Neutral	250 damage per unit.	5
	"naga_sea_witch_forked_lightning"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"naga_sea_witch_forked_lightning"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCooldown"				"11"
		"AbilityCastPoint"				"0.4"
		"AbilityCastRange"				"900"
	
		"AbilityManaCost"				"110"
		"AbilityDamage"					"85 160 250 340"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"max_units"				"3"
			}
		}
	
		"precache"
		{
			"particle"	"particles/items_fx/chain_lightning.vpcf"
			"particle"	"particles/econ/items/mirana/mirana_crescent_arrow/mirana_spell_crescent_arrow.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_zuus.vsndevts"
		}
	
		"OnSpellStart"
		{
			"LinearProjectile"
			{
			    "Target" 		 "TARGET"
			    "EffectName"     ""
			    "MoveSpeed"      "3000"
			    "StartRadius"    "50"
			    "EndRadius"      "500"
			    "StartPosition"  "attach_attack1"
			    "FixedDistance"  "600"
			    "TargetTeams"    "DOTA_UNIT_TARGET_TEAM_ENEMY"
			    "TargetTypes"    "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
			    "HasFrontalCone" "1"
			    "ProvidesVision" "0"
			}
		}
	
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"	"0"
			"RunScript"
	        {
	        	"ScriptFile" 	   	"heroes/naga_sea_witch/forked_lightning.lua"
	            "Function" 			"ForkedLightning"
	        }
		}
	}
	// AbilityName
	// Author: 
	// Date: 13.1.2015.
	// Notes: Adds a cold effect to each attack, slowing a target enemy unit's attacks and movement.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	5 (1.5) sec.	N/A	10	70	Unit	Air, Ground, Enemy, Neutral	+5 bonus damage, 30% attack rate, 30% movement speed	1
	//2	5 (1.5) sec.	N/A	10	70	Unit	Air, Ground, Enemy, Neutral	+10 bonus damage, 50% attack rate, 50% movement speed	3
	//3	5 (1.5) sec.	N/A	10	70	Unit	Air, Ground, Enemy, Neutral	+15 bonus damage, 70% attack rate, 70% movement speed	5
	"naga_sea_witch_frost_arrows"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"naga_sea_witch_frost_arrows"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST | DOTA_ABILITY_BEHAVIOR_ATTACK"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
	    "AbilityCastPoint"          	"0"
	    "AbilityCastRange"          	"600"
	
		"AbilityManaCost"				"10"
		"AbilityDamage"					"5 10 15 20"
	
		"precache"
		{
			"particle"	"particles/econ/items/drow/drow_bow_monarch/drow_frost_arrow_monarch.vpcf"
			"particle"	"particles/generic_gameplay/generic_slowed_cold.vpcf"
			"particle"	"particles/status_fx/status_effect_frost.vpcf"	
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_drowranger.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"						"FIELD_FLOAT"
				"slow_hero_duration"			"1.5"
			}
			"02"
			{
				"var_type"						"FIELD_FLOAT"
				"slow_creep_duration"			"5"
			}
			"03"
			{
				"var_type"						"FIELD_INTEGER"
				"slow_percentage"				"-20 -35 -50 -65"		
			}		
		}
	
		"Modifiers"
		{
			"modifier_frost_arrows"
			{
				"Passive"               "1" 
				"IsHidden"				"1"
	
				"Orb"
				{
					"Priority"			"DOTA_ORB_PRIORITY_DEFAULT"
					"ProjectileName"    "particles/econ/items/drow/drow_bow_monarch/drow_frost_arrow_monarch.vpcf"
					"CastAttack"		"1"
				}
	
				"OnOrbFire"
				{
					"SpendMana"
					{
						"Mana"    			"%AbilityManaCost"
					}
					"FireSound"
					{
						"EffectName"		"Hero_DrowRanger.FrostArrows"
						"Target"			"CASTER"
					}
				}
				
				"OnOrbImpact"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_frost_arrows_slow"
						"Target"
						{
							"Center"	"TARGET"
							"Types"		"DOTA_UNIT_TARGET_HERO"
						}
						"Duration"		"%slow_hero_duration"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_frost_arrows_slow"
						"Target"
						{
							"Center"	"TARGET"
							"Types"		"DOTA_UNIT_TARGET_BASIC"
						}
						"Duration"		"%slow_creep_duration"
					}
	
					"Damage"
					{
						"Type"          	"DAMAGE_TYPE_PHYSICAL"
						"Damage"        	"%AbilityDamage"
						"Target"			"TARGET"
					}
				}
			}
	
			"modifier_frost_arrows_slow"
			{
				"IsDebuff" 			"1"
				"TextureName"		"naga_sea_witch_frost_arrows"
				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"		"%slow_percentage"
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"		"%slow_percentage"
	
				}
				"EffectName"			"particles/generic_gameplay/generic_slowed_cold.vpcf"
				"EffectAttachType"      "attach_hitloc"
				
				"StatusEffectName"		"particles/status_fx/status_effect_frost.vpcf"
				"StatusEffectPriority"	"10"
			}
		}
	}
	// Naga Sea Witch Mana Shield
	// Author: Noya
	// Date: 24.1.2015.
	// Notes: Creates a shield that absorbs damage by using the Sea Witch's mana. Blocks 100% of incoming damage.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	10 sec.	25	N/A	Personal	Self	1 damage per point of mana	1
	//2	N/A	10 sec.	25	N/A	Personal	Self	1.5 damage per point of mana	3
	//3	N/A	10 sec.	25	N/A	Personal	Self	2 damage per point of mana	5
	
	// Notes: Post mitigation.
	"naga_sea_witch_mana_shield"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"naga_sea_witch_mana_shield"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_TOGGLE | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	
		"AbilityManaCost"				"25"
		"AbilityCooldown"				"10"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"damage_per_mana"		"1 1.5 2 2.5"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"absorption_percent"	"100"
			}
		}
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_medusa/medusa_mana_shield.vpcf"
			"particle"	"particles/units/heroes/hero_medusa/medusa_mana_shield_impact.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_medusa.vsndevts"
		}
	
		"OnToggleOn"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_mana_shield"
				"Target" 		"CASTER"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Medusa.ManaShield.On"
				"Target" 		"CASTER"
			}		
		}
	
		"OnToggleOff"
		{
			"RemoveModifier"
			{
				"ModifierName"	"modifier_mana_shield"
				"Target" 		"CASTER"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Medusa.ManaShield.Off"
				"Target" 		"CASTER"
			}
		}
		
		"Modifiers"
		{
			"modifier_mana_shield"
			{
				"IsHidden"			"0"
		
				"EffectName"		"particles/units/heroes/hero_medusa/medusa_mana_shield.vpcf"
				"EffectAttachType"	"follow_origin"
		
				"OnTakeDamage"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/naga_sea_witch/mana_shield.lua"
						"Function"		"ManaShield"
						"Damage"		"%attack_damage"
					}		
	
					"FireSound"
					{
						"EffectName"	"Hero_Medusa.ManaShield.Proc"
						"Target" 		"CASTER"
					}									
				}
	
				"ThinkInterval"  "0.03"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/naga_sea_witch/mana_shield.lua"
						"Function"		"ManaShieldHealth"
					}
				}					
			}
		}	
	}
	// Naga Sea Witch Tornado
	// Author: Noya
	// Date: 16.1.2015.
	// Notes: Summons a fierce controllable Tornado that slows enemy units' movement speed, randomly tosses enemy ground units into the air and damages enemy buildings. The Tornado does 50 damage per second to buildings under it, and 7 damage per second to buildings in its general vicinity. Lasts 40 seconds.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	12 (6) sec.	120 sec.	200	90	27.5	Air, Ground, Building, Enemy, Neutral	Creates Tornado	6
	
	//Tornado tosses units every 3 seconds, and the toss lasts for 12 seconds. 
	//The Tornado's speed is 75. That means that Tornado more or less disables 4 units continuously.
	"naga_sea_witch_tornado"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"naga_sea_witch_tornado"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_BUILDING"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"900"
		"AbilityCastPoint"				"0.4"
		"AbilityCooldown"				"120"
	
		"AbilityManaCost"				"200"
	
		"AbilityChannelTime" 			"40"
		"AoERadius"						"%outside_radius"
	
		"precache"
		{
			"particle"				"particles/custom/tornado_ambient.vpcf"
			"particle"  			"particles/units/heroes/hero_brewmaster/brewmaster_cyclone.vpcf"
			"soundfile"				"soundevents/game_sounds_heroes/game_sounds_invoker.vsndevts"
			"particle"				"particles/neutral_fx/tornado_ambient.vpcf"
			"particle"				"particles/units/heroes/hero_invoker/invoker_tornado.vpcf"
			"soundfile"				"soundevents/game_sounds_heroes/game_sounds_invoker.vsndevts"
		}
	
		"AbilitySpecial"	//most of these are just to show them in the spell, not actually used directly.
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"duration"					"40"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"move_attack_speed_slow"	"-25"
				
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"slow_radius"				"600"
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"dps_to_buildings_center"	"50 75 100"
			}
			"05"
			{
				"var_type"					"FIELD_INTEGER"
				"dps_to_buildings_outside"	"7"
			}
			"06"
			{
				"var_type"					"FIELD_INTEGER"
				"center_radius"				"50"	
			}
			"07"
			{
				"var_type"					"FIELD_INTEGER"
				"outside_radius"			"275"
			}
			"08"
			{
				"var_type"					"FIELD_FLOAT"
				"duration_hero"				"6.0"
			}
			"09"
			{
				"var_type"					"FIELD_FLOAT"
				"duration_unit"				"12.0"
			}
			"010"
			{
				"var_type"					"FIELD_INTEGER"
				"cyclone_height"			"550"
			}
			"11"
			{
				"var_type"					"FIELD_INTEGER"
				"cyclone_min_height"		"500"
			}
			"12"
			{
				"var_type"					"FIELD_INTEGER"
				"cyclone_max_height"		"650"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{			
				"EffectName"    "Hero_Invoker.Tornado.Cast"
				"Target"		"CASTER"
			}
	
			"FireSound"
			{
				"EffectName"    "Hero_Invoker.Tornado"
				"Target"		"CASTER"
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_naga_sea_witch_tornado"
				"UnitCount"		"1"
				"SpawnRadius"	"1"
				"Target"		"POINT"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_naga_sea_witch_channeling"
				"Target"		"CASTER"
			}
		}
	
		"OnChannelFinish"
		{
			"RunScript"
	       	{
	        	"ScriptFile" 	   	"heroes/naga_sea_witch/tornado.lua"
	            "Function" 			"TornadoEnd"
	        }
	        "RemoveModifier"
	        {
	        	"ModifierName"	"modifier_naga_sea_witch_channeling"
	        	"Target"		"CASTER"
	        }
		}
	
		"Modifiers"
		{
			"modifier_naga_sea_witch_channeling"
			{
				"IsHidden"		"1"
				"ThinkInterval"	"1.29"
				"OnIntervalThink"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_naga_sea_witch_animation"
						"Target"		"CASTER"
					}
				}
			}
	
			"modifier_naga_sea_witch_animation"
			{
				"IsHidden"			"1"
				"Duration"			"1.2"
				"OverrideAnimation"	"ACT_DOTA_CAST_ABILITY_2"
			}
		}
	}
	
	"naga_sea_witch_tornado_passive"
	{
		"BaseClass" 					"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetTeam" 		"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityTextureName"			"naga_sea_witch_tornado"
	
		"AbilityCastRange"				"275"	//for displaying damage to building radius
	
		"AbilitySpecial"	//copied values from the main spell
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"duration"					"40"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"move_attack_speed_slow"	"-25"
				
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"slow_radius"				"600"
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"dps_to_buildings_center"	"50 60 70"
			}
			"05"
			{
				"var_type"					"FIELD_INTEGER"
				"dps_to_buildings_outside"	"7"
			}
			"06"
			{
				"var_type"					"FIELD_INTEGER"
				"center_radius"				"50"	
			}
			"07"
			{
				"var_type"					"FIELD_INTEGER"
				"outside_radius"			"275"
			}
			"08"
			{
				"var_type"					"FIELD_FLOAT"
				"duration_hero"				"6.0"
			}
			"09"
			{
				"var_type"					"FIELD_FLOAT"
				"duration_unit"				"12.0"
			}
			"010"
			{
				"var_type"					"FIELD_INTEGER"
				"cyclone_height"			"450"
			}
			"11"
			{
				"var_type"					"FIELD_INTEGER"
				"cyclone_min_height"		"400"
			}
			"12"
			{
				"var_type"					"FIELD_INTEGER"
				"cyclone_max_height"		"500"
			}
		}
	
		"Modifiers"
		{
			"modifier_tornado_passive"
			{
				"IsHidden"				"1"
				"Passive"				"1"
	
				"EffectName"		"particles/custom/tornado_ambient.vpcf" //could use better particle
				"EffectAttachType"	"follow_origin"
	
				"States"
		        {   
		        	"MODIFIER_STATE_FLYING"				"MODIFIER_STATE_VALUE_ENABLED"
		        	"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_DISARMED"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_INVULNERABLE"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"		"MODIFIER_STATE_VALUE_ENABLED"
		        }
		        			
				"Aura"					"modifier_tornado_debuff"
				"Aura_Radius"			"%slow_radius"
				"Aura_Teams"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
				"Aura_Types"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP"
				"Aura_Flags" 			"DOTA_UNIT_TARGET_FLAG_INVULNERABLE"
				"Aura_ApplyToCaster"	"0"	        
	
				"ThinkInterval"		"%duration_unit / 4"
				"OnIntervalThink"
				{
					"FireSound"
					{
						"EffectName"    "Hero_Invoker.Tornado"
						"Target"		"CASTER"
					}
	
					"ActOnTargets"
					{
						"Target"
						{
							"Center"  		"CASTER"
							"Radius" 		"%slow_radius"
							"Teams" 		"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types" 		"DOTA_UNIT_TARGET_HERO"
							"MaxTargets"	"1"
							"Random"		"1"
						}
					
						"Action"    
						{
							"RemoveModifier"
							{
								"ModifierName"	"modifier_tornado_flying_debuff"
								"Target" 		"TARGET"
							}
	
							"ApplyModifier"	
							{
								"ModifierName"	"modifier_tornado_flying_debuff"
								"Target"		"TARGET"
								"Duration"		"%duration_hero"
							}
						}
					}
	
					"ActOnTargets"
					{
						"Target"
						{
							"Center"  		"CASTER"
							"Radius" 		"%slow_radius"
							"Teams" 		"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types" 		"DOTA_UNIT_TARGET_BASIC"
							"MaxTargets"	"1"
							"Random"		"1"
						}
					
						"Action"    
						{
							"RemoveModifier"
							{
								"ModifierName"	"modifier_tornado_flying_debuff"
								"Target" 		"TARGET"
							}
	
							"ApplyModifier"	
							{
								"ModifierName"	"modifier_tornado_flying_debuff"
								"Target"		"TARGET"
								"Duration"		"%duration_unit"
							}
						}
					}
				}
			}
	
			"modifier_tornado_debuff"
			{
				"IsDebuff"			"1"
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"	"%move_attack_speed_slow"
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%move_attack_speed_slow"
				}
			}
	
			"modifier_tornado_flying_debuff"
			{
				"IsDebuff"	"1"
				"OnCreated"
				{
					"RunScript"
			        {
			        	"ScriptFile" 	   	"heroes/naga_sea_witch/tornado.lua"
			            "Function" 			"TornadoParticle"
			        }
	
			        "RunScript"
		        	{
		        		"ScriptFile"	"heroes/naga_sea_witch/tornado.lua"
		        		"Function"		"TornadoHeight"
		        	}
				}
	
				"OnDestroy"
				{
					"RunScript"
			        {
			        	"ScriptFile" 	   	"heroes/naga_sea_witch/tornado.lua"
			            "Function" 			"EndTornadoParticle"
			        }
				}
	
				"ThinkInterval"		"0.03"
				"OnIntervalThink"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "heroes/naga_sea_witch/tornado.lua"
	                    "Function"      "Spin"
	                    "Angle"         "20"
	                }
				}
				"States"
		        {   
		        	"MODIFIER_STATE_FLYING"				"MODIFIER_STATE_VALUE_ENABLED"
		        	"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_STUNNED"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ROOTED"				"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_DISARMED"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_INVULNERABLE"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"		"MODIFIER_STATE_VALUE_ENABLED"
		        }
	
		        "OverrideAnimation"     "ACT_DOTA_FLAIL"
			}
	
			"modifier_tornado_building_damage"
			{
				"IsHidden"			"1"
				"Passive"			"1"
	
				"ThinkInterval"		"1"
		        "OnIntervalThink"
		        {
		        	// Custom Building Damage
					"RunScript"
					{
						"ScriptFile"	"buildings/damage.lua"
						"Function"		"DoBuildingDamage"
						"Target"
						{
							"Center"  	"CASTER"
							"Radius" 	"%center_radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types" 	"DOTA_UNIT_TARGET_BASIC"
							"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
						}
						"Damage"		"%dps_to_buildings_center - %dps_to_buildings_outside"
					}
	
					// Custom Building Damage
					"RunScript"
					{
						"ScriptFile"	"buildings/damage.lua"
						"Function"		"DoBuildingDamage"
						"Target"
						{
							"Center"  	"CASTER"
							"Radius" 	"%outside_radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types" 	"DOTA_UNIT_TARGET_BASIC"
							"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
						}
						"Damage"		"%dps_to_buildings_outside"
					}
				}
			}
		}
	}
	// Paladin Devotion Aura
	// Author: Noya
	// Date: 13.1.2015.
	// Description: Gives additional armor to nearby friendly units.
	// Notes: TODO - Make custom aura particle
	"paladin_devotion_aura"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"paladin_devotion_aura"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_AURA | DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetTeam" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"	
		"AbilityCastRange"    			"900"
	
		"precache"
		{
			"particle"				"particles/custom/aura_devotion.vpcf"
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_FLOAT"
				"armor_bonus"	"1.5 3 4.5 6"
			}
			"02"
			{
				"var_type"		"FIELD_INTEGER"
				"radius"		"900"
			}
		}
	
		"Modifiers"
		{
			"modifier_devotion_aura"
			{
				"EffectName"		"particles/custom/aura_devotion.vpcf"
				"EffectAttachType" 	"follow_origin"
	
				"Passive" 			"1"
				"IsHidden" 			"1"
				"IsBuff"			"1"
	
				"Aura" 				"modifier_devotion_aura_buff"
				"Aura_Radius" 		"%radius"
				"Aura_Teams" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
				"Aura_Types" 		"DOTA_UNIT_TARGET_ALL"
			}
	
			"modifier_devotion_aura_buff"
			{
				"IsBuff"				"1"
				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"	"%armor_bonus"
				}
			}
		}
	}
	// Paladin Divine Shield
	// Author: Noya
	// Date: 13.1.2015.
	// Description: An impenetrable shield surrounds the Paladin, protecting him from all damage and spells for a set amount of time
	// Notes: Magic & Attack immune instead of total invulnerability to prevent issues.
	"paladin_divine_shield"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"paladin_divine_shield"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_CHANNEL"
		"AbilityCooldown"				"35 50 65 80"
		"AbilityManaCost"				"25"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_4"
	
		"precache"
		{
			"particle"				"particles/units/heroes/hero_omniknight/omniknight_repel_buff.vpcf"
			"soundfile"				"soundevents/game_sounds_heroes/game_sounds_omniknight.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"shield_duration"	"15 30 45 60"
			}
		}
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"Target"		"CASTER"
				"ModifierName"	"modifier_paladin_divine_shield"
			}
			
			"FireSound"
			{
				"Target" 		"CASTER"
				"EffectName" 	"Hero_Omniknight.GuardianAngel.Cast"
			}
		}
		
		"Modifiers"
		{
			"modifier_paladin_divine_shield"
			{
				"EffectName"			"particles/units/heroes/hero_omniknight/omniknight_repel_buff.vpcf"
				"EffectAttachType"	"follow_origin"
	
				"Duration"	"%shield_duration"
	
				"States"
				{
					//"MODIFIER_STATE_INVULNERABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ATTACK_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_MAGIC_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"	
				}
			}
		}
	}
	// Paladin Holy Light
	// Author: Noya
	// Date: 13.1.2015.
	// Description: A holy light that can heal a friendly living unit or damage an enemy undead unit.
	// Notes: Animation still goes off when targeting self
	"paladin_holy_light"
	{
		"BaseClass" 					"ability_datadriven"
		"MaxLevel"						"4"
		
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityCastRange"				"800"
		"AbilityCooldown"				"5"
		"AbilityManaCost"				"65"
		"AbilityCastPoint"    			"0.3"
		"AbilityTextureName"			"paladin_holy_light"
		"AbilityCastAnimation" 			"ACT_DOTA_CAST_ABILITY_2"
	
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_omniknight.vsndevts"
			"particle"	"particles/units/heroes/hero_omniknight/omniknight_purification.vpcf"
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"target_damage"			"100 200 300 400"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"heal_amount"			"200 400 600 800"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"particle_radius"		"200 400 600 800"
			}
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/paladin/holy_light.lua"
				"Function"		"HolyLight"
			}
		}
	}
	// Paladin Resurrection
	// Author: Noya
	// Date: 26.01.2015.
	// Notes: Brings back to life the corpses of 6 friendly nearby units.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	N/A	240 sec.	200	40	90	Ground, Dead, Friend	Resurrects up to 6 Units	6 
	
	// TODO: The spell will choose the most powerful corpses to resurrect if there are more than 6.
	"paladin_resurrection"
	{
		"BaseClass" 					"ability_datadriven"
		"AbilityTextureName"			"paladin_resurrection"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
		
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_BASIC"
	
		"AbilityCastRange"				"400"
		"AbilityCooldown"				"240"
		"AbilityManaCost"				"200"
		"AbilityCastPoint"    			"0.3"
		"AbilityCastAnimation" 			"ACT_DOTA_CAST_ABILITY_4"
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_omniknight/omniknight_guardian_angel_halo_buff.vpcf"
			"particle"	"particles/status_fx/status_effect_guardian_angel.vpcf"
			"particle"  "particles/units/heroes/hero_omniknight/omniknight_guardian_angel_ally.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_omniknight.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"radius"					"900"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"max_units_resurrected"		"6 10 14"
			}		
		}
	
		"OnAbilityPhaseStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/paladin/resurrection.lua"
				"Function"		"ResurrectionPrecast"
			}
		}
		
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Omniknight.GuardianAngel.Cast"
				"Target"		"CASTER"
			}
	
			"RunScript"
			{
				"ScriptFile"	"heroes/paladin/resurrection.lua"
				"Function"		"Resurrection"
			}		
		}
	
		"Modifiers"
		{
			"modifier_resurrection"
			{
				"StatusEffectName"     "particles/status_fx/status_effect_guardian_angel.vpcf"
				"StatusEffectPriority" "10"
	
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"		"particles/units/heroes/hero_omniknight/omniknight_guardian_angel_halo_buff.vpcf"
						"EffectAttachType"	"follow_overhead"
						"Target"			"TARGET"
					}
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_resurrection_fx"
						"Target" 		"TARGET"
					}
					
				}
	
				"States"
				{
					"MODIFIER_STATE_DOMINATED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
	
			"modifier_resurrection_fx"
			{
				"IsHidden"		"1"
				"Duration"		"0.5"
				"OnCreated"
				{
					"AttachEffect"
					{
						"Target"			"TARGET"
						"EffectName"		"particles/units/heroes/hero_omniknight/omniknight_guardian_angel_ally.vpcf"
						"EffectAttachType"	"follow_origin"
						"EffectRadius"		"100"
					}
				}
					
			}
		}
	}
	// Pandaren Breath of Fire
	// Author: Noya, adapted from SpellLibrary dragon_knight_breathe_fire_datadriven
	// Date: 13.1.2015.
	// Notes: Breathes a cone of fire at enemy units which deals damage. Units that have Drunken Haze on them will ignite and take burn damage over time.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	5 (5) sec.	10 sec.	70	50	15	Air, Ground, Building	65 initial damage, 7 damage/sec.	1
	//2	5 (5) sec.	10 sec.	70	50	15	Air, Ground, Building	125 initial damage, 14 damage/sec.	3
	//3	5 (5) sec.	10 sec.	70	50	15	Air, Ground, Building	170 initial damage, 21 damage/sec.	5
	"pandaren_breath_of_fire"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"pandaren_breath_of_fire"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_DIRECTIONAL | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"	
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"500"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"10.0"
	
		"AbilityManaCost"				"70"
		"AbilityDamage"					"75 130 200 270"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_dragon_knight/dragon_knight_breathe_fire.vpcf"
			"particle"	"particles/units/heroes/hero_phoenix/phoenix_fire_spirit_burn_creep.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_dragon_knight.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"drunken_haze_burn_dps"	"7 14 21 28"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"burn_duration"			"5"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"start_radius"			"150"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"end_radius"			"250"
			}
			"05"
			{
				"var_type"				"FIELD_INTEGER"
				"range"					"500"
			}
			"06"
			{
				"var_type"				"FIELD_INTEGER"
				"speed"					"1000"
			}	
		}
		
		"OnSpellStart"
		{
			"LinearProjectile"
			{
				"Target" 		"POINT"
				"EffectName" 	"particles/units/heroes/hero_dragon_knight/dragon_knight_breathe_fire.vpcf"
				"MoveSpeed" 	"%speed"
				"StartRadius" 	"%start_radius"
				"StartPosition" "attach_origin"
				"EndRadius" 	"%end_radius"
				"FixedDistance" "%range"
				"TargetTeams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
				"TargetTypes" 	"DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_MECHANICAL"
				"HasFrontalCone" "1"
				"ProvidesVision" "0"
			}
	
			"FireSound"
			{
				"EffectName" 	"Hero_DragonKnight.BreathFire"
				"Target" 		"CASTER"
			}
		}
	
		"OnProjectileHitUnit"
		{
			"DeleteOnHit" "0"
			"Damage"
			{
				"Target" 	"TARGET"
				"Type" 		"DAMAGE_TYPE_MAGICAL"
				"Damage" 	"%AbilityDamage"
			}
	
			"RunScript"
		    {
		        "ScriptFile"    "heroes/pandaren/breath_of_fire.lua"
		        "Function"      "BreathFire"
		    }
		}
	
		"Modifiers"
		{
			"modifier_breath_fire_burn"
			{	
				"IsDebuff"			"1"
				"Duration"			"%burn_duration"
	
				"EffectName"		"particles/units/heroes/hero_phoenix/phoenix_fire_spirit_burn_creep.vpcf"
				"EffectAttachType"	"follow_origin"
	
				"ThinkInterval"		"1.0"
				"OnIntervalThink"
				{
					"Damage"
					{
						"Type"		"DAMAGE_TYPE_MAGICAL"
						"Target"	"TARGET"
						"Damage"	"%drunken_haze_burn_dps"
					}
				}
			}
		}
	}
	// Pandaren Dunken Brawler
	// Author: Noya
	// Date: 18.1.2015.
	// Notes: Gives a percent chance to avoid attacks and a 10% chance to deal additional damage.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	Always	N/A	None	N/A	Personal	Self	7% dodge, 2 times normal damage	1
	//2	Always	N/A	None	N/A	Personal	Self	14% dodge, 3 times normal damage	3
	//3	Always	N/A	None	N/A	Personal	Self	21% dodge, 4 times normal damage	5
	"pandaren_drunken_brawler"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"pandaren_drunken_brawler"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_brewmaster/brewmaster_drunken_brawler_crit.vpcf"
			"particle"	"particles/units/heroes/hero_brewmaster/brewmaster_drunkenbrawler_evade.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_brewmaster.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"miss_chance"	"7 14 21 28"
			}
			"02"
			{
				"var_type"		"FIELD_INTEGER"
				"crit_chance"	"10"
			}
			"02"
			{
				"var_type"		"FIELD_INTEGER"
				"crit_bonus"	"200 300 400 500"
			}
		}
	
		"Modifiers"
		{
			"modifier_drunken_brawler"
			{
			    "Passive"   "1"
			    "IsHidden"  "1"
	
			    "EffectName"		"particles/units/heroes/hero_brewmaster/brewmaster_drunkenbrawler_evade.vpcf"
			    "EffectAttachType"	"follow_origin"
	
			    "Properties"
			    {
			        "MODIFIER_PROPERTY_EVASION_CONSTANT" "%miss_chance"
			    }
	
			    "OnAttackStart"
			    {
			        "RemoveModifier"
			        {
			            "ModifierName" 	"modifier_drunken_brawler_crit"
			            "Target" 		"CASTER"
			        }
	
			        "Random"
			        {
			            "Chance" "%crit_chance"
			            "OnSuccess"
			            {
			            	"FireSound"
					        {
					        	"EffectName"	"Hero_Brewmaster.Brawler.Crit"
					        	"Target"		"CASTER"
					        }
	
					        "FireEffect"
					        {
					       		"EffectName" 		"particles/units/heroes/hero_brewmaster/brewmaster_drunken_brawler_crit.vpcf"
					            "EffectAttachType"  "attach_attack1"
					            "Target"    		"CASTER"
					        }
	
			                "ApplyModifier"
			                {
			                    "ModifierName" 	"modifier_drunken_brawler_crit"
			                    "Target"    	"CASTER"    
			                }        
			            }
			        }
			    }
			}
	
			"modifier_drunken_brawler_crit"
			{
			    "IsHidden"  "1"
			    "Properties"
			    {
			        "MODIFIER_PROPERTY_PREATTACK_CRITICALSTRIKE" "%crit_bonus"
			    }
	
			    "OnAttackLanded"
			    {
			        "RemoveModifier"
			        {
			            "ModifierName"  	"modifier_critical_strike_crit"
			            "Target"   			"CASTER"    
			        }
			    }
			}
		}
	}
	// Pandaren Dunken Haze
	// Author: Noya
	// Date: 18.1.2015.
	// Notes: Drenches a target enemy unit in alcohol, causing its movement speed to be reduced, and have a chance to miss on attacks. When units with Drunken Haze cast on them are hit by Breath of Fire, they will ignite and take burn damage over time.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	12 (5) sec.	12 sec.	70	55	20	Air, Ground, Enemy, Organic, Neutral	15% movement speed, 45% miss chance	1
	//2	12 (5) sec.	12 sec.	70	55	20	Air, Ground, Enemy, Organic, Neutral	30% movement speed, 65% miss chance	3
	//3	12 (5) sec.	12 sec.	70	55	20	Air, Ground, Enemy, Organic, Neutral	50% movement speed, 80% miss chance	5
	"pandaren_drunken_haze"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"pandaren_drunken_haze"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"550"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"12.0"
	
		"AbilityManaCost"				"70"
		"AbilityDamage"					"75 130 200 270"
	
		"AoERadius"						"200"
	
		"precache"
		{
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_drunken_haze_debuff.vpcf"
			"particle" 	"particles/status_fx/status_effect_brewmaster_drunken_haze.vpcf"
			"particle"	"particles/units/heroes/hero_brewmaster/brewmaster_drunken_haze.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_brewmaster.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"move_speed_slow"	"-15 -30 -50 -70"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"miss_chance"		"45 65 80 100"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"radius"			"200"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"hero_duration"		"5"
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"creep_duration"	"12"
			}
		}
	
		"OnSpellStart"
		{
			"TrackingProjectile"
			{
			    "Target"           "TARGET"
			    "EffectName"       "particles/units/heroes/hero_brewmaster/brewmaster_drunken_haze.vpcf"
			    "Dodgeable"        "0"
			    "ProvidesVision"   "0"
			    "MoveSpeed"        "1300"
			    "SourceAttachment" "attach_keg"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Brewmaster.DrunkenHaze.Cast"
				"Target"		"CASTER"
			}
		}
	
		"OnProjectileHitUnit"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Brewmaster.DrunkenHaze.Target"
				"Target"		"CASTER"
			}
			
			"ApplyModifier"
			{
				"ModifierName"    "modifier_drunken_haze"
				"Target"
				{
					"Center"	"TARGET"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%hero_duration"
			}
	
			"ApplyModifier"
			{
				"ModifierName"    "modifier_drunken_haze"
				"Target"
				{
					"Center"	"TARGET"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%creep_duration"
			}
		}
	
		"Modifiers"
		{
			"modifier_drunken_haze"
			{
				"IsDebuff"	"1"
	
				"EffectName"			"particles/units/heroes/hero_brewmaster/brewmaster_drunken_haze_debuff.vpcf"
				"EffectAttachType"		"follow_origin"
	
				"StatusEffectName"		"particles/status_fx/status_effect_brewmaster_drunken_haze.vpcf"
				"StatusEffectPriority"	"5"
	
				"Properties"
				{
					"MODIFIER_PROPERTY_MISS_PERCENTAGE"				"%miss_chance"
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"	"%move_speed_slow"
				}
			}
		}
	}
	// Pandaren Storm, Earth, And Fire
	// Author: Noya
	// Date: 21.1.2015.
	"pandaren_storm_earth_fire"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"pandaren_storm_earth_fire"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_4"
	
		"AbilityCastPoint"				"0.65"
		"AbilityCooldown"				"180.0"
	
		"AbilityManaCost"				"150"
		
		"AbilitySpecial"
		{
			
			"01"
			{
				"var_type"					"FIELD_FLOAT"
				"duration"					"30.0 45.0 60.0"
			}
			"02"
			{
				"var_type"					"FIELD_FLOAT"
				"split_duration"			"0.65"
			}
		}
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_brewmaster/brewmaster_drunken_brawler_crit.vpcf"
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_earth_ambient.vpcf"
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_storm_ambient.vpcf"
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_fire_ambient.vpcf"
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_storm_death.vpcf"
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_earth_death.vpcf"
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_fire_death.vpcf"
			"particle"	"particles/units/heroes/hero_brewmaster/brewmaster_storm_attack.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_brewmaster.vsndevts"
			"model"		"models/heroes/brewmaster/brewmaster_earthspirit.vmdl"
			"model"		"models/heroes/brewmaster/brewmaster_firespirit.vmdl"
			"model"		"models/heroes/brewmaster/brewmaster_windspirit.vmdl"
	
			// Sub ability particles
			"particle"  "particles/custom/axe_beserkers_call_owner.vpcf"
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_hurl_boulder.vpcf"
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_pulverize.vpcf"
	
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_cyclone.vpcf"
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_dispel_magic.vpcf"
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_windwalk.vpcf"
	
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_fire_immolation_child.vpcf"
		}
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_primal_split_delay"
				"Target" 		"CASTER"
				"Duration"		"%split_duration"
			}
			
			"FireSound"
			{
				"EffectName"	"Hero_Brewmaster.PrimalSplit.Cast"
				"Target" 		"CASTER"
			}
		}
		
		"Modifiers"
		{
			"modifier_primal_split_delay"
			{
				"Passive"			"0"
				"IsHidden"			"0"
				"IsDebuff"			"0"
		
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"        "particles/units/heroes/hero_brewmaster/brewmaster_primal_split.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
					}
				}
	
				"States"
				{
					"MODIFIER_STATE_COMMAND_RESTRICTED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
	
				"OnDestroy"			
				{
					"FireSound"
					{
						"EffectName"	"Hero_Brewmaster.PrimalSplit.Spawn"
						"Target" 		"CASTER"
					}
					
					"ApplyModifier"
					{
						"ModifierName"	"modifier_primal_split_duration"
						"Target" 		"CASTER"
						"Duration"		"%duration"
					}
				}
			}
	
			"modifier_primal_split_duration"
			{
				"IsHidden"			"0"
	
				"States"
				{
					"MODIFIER_STATE_STUNNED"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NOT_ON_MINIMAP"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_UNSELECTABLE"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_OUT_OF_GAME"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"		"MODIFIER_STATE_VALUE_ENABLED"
				}
	
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"		"heroes/pandaren/storm_earth_fire.lua"
						"Function"			"PrimalSplit"
						"unit_name_earth"	"npc_earth_panda"
						"unit_name_storm"	"npc_storm_panda"
						"unit_name_fire"	"npc_fire_panda"
					}			
				}
	
				"ThinkInterval"  "0.03"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/pandaren/storm_earth_fire.lua"
						"Function"		"PrimalSplitAuraMove"
					}				
				}			
	
				"OnDestroy"
				{
					"FireSound"
					{
						"EffectName"	"Hero_Brewmaster.PrimalSplit.Return"
						"Target" 		"CASTER"
					}
	
					"RunScript"
					{
						"ScriptFile"	"heroes/pandaren/storm_earth_fire.lua"
						"Function"		"PrimalSplitEnd"
					}			
				}	
			}
	
			"modifier_split_unit"
			{
				"OnDeath"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/pandaren/storm_earth_fire.lua"
						"Function"		"SplitUnitDied"
					}				
				}			
			}
		}
	}
	
	// Pandaren Sub Abilities
	// Author: Noya
	// Date: 08.12.2015.
	
	"pandaren_earth_taunt"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_MOVEMENT"
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_YES"
		"FightRecapLevel"				"1"
		"AbilityTextureName"			"pandaren_earth_taunt"
	
		"MaxLevel"						"1"
	
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"15"
	
		"AbilityManaCost"				"0"	
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"500"
			}	
		}
	
		"OnSpellStart"
		{
			"FireEffect"
			{
				"EffectName"        "particles/custom/axe_beserkers_call_owner.vpcf"
				"EffectAttachType"  "follow_origin"
				"Target"            "CASTER"
				"ControlPointEntities"
				{
					"CASTER"	"attach_origin"
					"CASTER"	"attach_attack1"
				}
			}
	
			"RunScript"
			{
				"ScriptFile"	"heroes/pandaren/storm_earth_fire.lua"
				"Function"		"Taunt"
				"Target"
				{
					"Center"  	"CASTER"
					"Radius" 	"%radius"
					"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				}
			}
		}
	}
	
	"pandaren_earth_spell_immunity"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"				"ability_datadriven"
		"AbilityBehavior"		"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityTextureName"	"pandaren_earth_spell_immunity"
		"MaxLevel"				"1"
	
		"Modifiers"
		{
			"modifier_earth_spell_immunity"
			{
				"Passive"			"1"
				"IsHidden"			"1"
		
				"EffectName"		"particles/units/heroes/hero_brewmaster/brewmaster_earth_ambient.vpcf"
				"EffectAttachType"	"follow_origin"
		
				"States"
				{
					"MODIFIER_STATE_MAGIC_IMMUNE"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	
	"pandaren_earth_pulverize"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"				"ability_datadriven"
		"AbilityBehavior"		"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityTextureName"	"pandaren_earth_pulverize"
		"MaxLevel"				"1"
	
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"damage_inner"				"40"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"radius_inner"				"150"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"damage_outer"				"20"
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"radius_outer"				"250"
			}
			"05"
			{
				"var_type"					"FIELD_INTEGER"
				"chance"					"20"
			}
		}
	
		"Modifiers"
		{
			"modifier_earth_pulverize"
			{
				"Passive"			"1"
				"IsHidden"			"1"
	
				"OnAttackLanded"
				{
					"Random"
					{
						"Chance"			"%chance"
						"OnSuccess"
						{
							"FireEffect"
							{
								"EffectName"        "particles/units/heroes/hero_brewmaster/brewmaster_pulverize.vpcf"
								"EffectAttachType"  "follow_origin"
								"Target"            "CASTER"
							}
	
							"Damage"
							{
								"Target"
								{
									"Center"  	"CASTER"
									"Radius" 	"%radius_inner"
									"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
									"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
								}
								"Type"			"DAMAGE_TYPE_MAGICAL"
								"Damage"		"%damage_inner - %damage_outer"
							}
	
							"Damage"
							{
								"Target"
								{
									"Center"  	"CASTER"
									"Radius" 	"%radius_outer"
									"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
									"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
								}
								"Type"			"DAMAGE_TYPE_MAGICAL"
								"Damage"		"%damage_outer"
							}
						}
					}
				}
			}
		}
	}
	
	"pandaren_storm_dispel_magic"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"AbilityTextureName"			"pandaren_storm_dispel_magic"
		"MaxLevel"						"1"
	
		"AbilityCastRange"				"500"
	
		"AOERadius"						"%radius"
	
		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"8.0"
		"AbilityCastPoint"				"0.4"
	
		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"75"		
	
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"damage"					"200"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"radius"					"200"
			}
		}
	
		"OnSpellStart"
		{
			"FireEffect"
			{
				"EffectName"        "particles/units/heroes/hero_brewmaster/brewmaster_dispel_magic.vpcf"
				"EffectAttachType"  "world_origin"
				"TargetPoint"       "POINT"
				"ControlPoints"
				{
					"01"	"%radius 0 0"
				}
			}
	
			"FireSound"
			{
				"EffectName"	"Brewmaster_Storm.DispelMagic"
				"Target" 		"CASTER"
			}
	
			"RunScript"
			{
				"ScriptFile"	"heroes/pandaren/storm_earth_fire.lua"
				"Function"		"DispelMagic"
				"Target"
				{
					"Center"  	"POINT"
					"Radius" 	"%radius"
					"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				}
			}
		}
	}
	
	"pandaren_storm_cyclone"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP"
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"AbilityTextureName"			"pandaren_storm_cyclone"
		"MaxLevel"						"1"
	
		"AbilityCastRange"				"600 600 600 600"
	
		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"8.0"
		"AbilityCastPoint"				"0.4"
	
		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"150 150 150 150"		
	
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_FLOAT"
				"duration_hero"				"6.0"
			}
			"02"
			{
				"var_type"					"FIELD_FLOAT"
				"duration_unit"				"20.0"
			}
			// Extra
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"cyclone_height"			"550"
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"cyclone_min_height"		"500"
			}
			"05"
			{
				"var_type"					"FIELD_INTEGER"
				"cyclone_max_height"		"650"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Brewmaster_Storm.Cyclone"
				"Target" 		"TARGET"
			}
			"ApplyModifier"
			{
				"ModifierName"	"modifier_storm_cyclone" //modifier_cyclone is built-in
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%duration_hero"
			}
			
			"ApplyModifier"
			{
				"ModifierName"	"modifier_storm_cyclone"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%duration_unit"
			}
		}
	
		"Modifiers"
		{
			"modifier_storm_cyclone"
			{
				"IsDebuff"			"1"
	
				"States"
		        {   
		        	"MODIFIER_STATE_FLYING"				"MODIFIER_STATE_VALUE_ENABLED"
		        	"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_STUNNED"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ROOTED"				"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_DISARMED"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_INVULNERABLE"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"		"MODIFIER_STATE_VALUE_ENABLED"
		        }
		
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"		"particles/units/heroes/hero_brewmaster/brewmaster_cyclone.vpcf"
						"EffectAttachType"	"world_origin"
						"Target"            "TARGET"
					}
	
					"RunScript"
		        	{
		        		"ScriptFile"	"heroes/pandaren/storm_earth_fire.lua"
		        		"Function"		"TornadoHeight"
		        	}
				}	
	
		        "ThinkInterval"		"0.03"
				"OnIntervalThink"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "heroes/pandaren/storm_earth_fire.lua"
	                    "Function"      "Spin"
	                    "Angle"         "20"
	                }
				}
	
				"OverrideAnimation"     "ACT_DOTA_FLAIL"
			}
		}
	}
	
	"pandaren_storm_wind_walk"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_DONT_RESUME_ATTACK | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
		"AbilityTextureName"			"pandaren_storm_wind_walk"
		"MaxLevel"						"1"
	
		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"7.0"
	
		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"75"		
	
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"bonus_damage"				"100"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"bonus_movespeed"			"50"
			}
			"03"
			{
				"var_type"					"FIELD_FLOAT"
				"duration"					"20.0"
			}
			"04"
			{
				"var_type"					"FIELD_FLOAT"
				"fade_time"					"0.6"
			}
		}
	
		"OnSpellStart"
		{
			"FireEffect"
			{
				"Target"			"CASTER"
				"EffectName"		"particles/units/heroes/hero_brewmaster/brewmaster_windwalk.vpcf"
				"EffectAttachType"	"attach_origin"
			}
	
			"FireSound"
			{
				"Target"		"CASTER"
				"EffectName"	"Brewmaster_Storm.WindWalk"
			}
	
			"ApplyModifier"
			{
				"ModifierName" 	"modifier_invisible"
				"Target"		"CASTER"
				"Duration"		"%duration"
			}
	
			"ApplyModifier"
			{
				"ModifierName" 	"modifier_windwalk"
				"Target"		"CASTER"
				"Duration"		"%duration"
			}
		}
	
		"Modifiers"
		{
			"modifier_windwalk"
			{
				"IsBuff"			"1"
				"Duration"          "%duration"
	
				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"      "%bonus_movespeed"
				}
				
				"States"
				{
					"MODIFIER_STATE_INVISIBLE"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
				}
				
				"OnAttackLanded"
				{
					"RemoveModifier"
					{
						"ModifierName" 	"modifier_invisible"
						"Target"		"CASTER"
					}
	
					"RemoveModifier"
					{
						"ModifierName" 	"modifier_windwalk"
						"Target"		"CASTER"
					}
	
					"Damage"
					{
						"Target"	"TARGET"
						"Type"		"DAMAGE_TYPE_PHYSICAL"
						"Damage"	"%bonus_damage"
					}
	
					"FireEffect"
					{
						"EffectName"		"particles/msg_fx/msg_crit.vpcf"
						"EffectAttachType"	"follow_overhead"
						"Target"			"TARGET"
						"ControlPoints"
						{
							"01"		"9 %bonus_damage 4"	//pre number post
							"02"		"1 4 0"					//lifetime digits
							"03"		"255 0 0"				//color
						}
					}
				}
	
				"OnAbilityExecuted"
				{
					"RemoveModifier"
					{
						"ModifierName" 	"modifier_invisible"
						"Target"		"CASTER"
					}
	
					"RemoveModifier"
					{
						"ModifierName" 	"modifier_windwalk"
						"Target"		"CASTER"
					}
				}
			}
		}
	}
	
	"pandaren_fire_permanent_immolation"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"AbilityTextureName"			"pandaren_fire_permanent_immolation"
		"MaxLevel"						"1"
	
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"damage"					"15 30 45"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"radius"					"220"
			}
		}
	
		"precache"
		{
			"particle"	"particles/items2_fx/radiance.vpcf"
		}
	
		"Modifiers"
		{
			"modifier_permanent_immolation"
	   		{
	    		"Passive" 			"1"
	    		"IsHidden" 			"1"
	
	    		"Aura" 				"modifier_permanent_immolation_burn"
	    		"Aura_Radius" 		"%radius"
	    		"Aura_Teams" 		"DOTA_UNIT_TARGET_TEAM_ENEMY"
	    		"Aura_Types" 		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	
	            "EffectName"		"particles/items2_fx/radiance.vpcf"
				"EffectAttachType" 	"attach_hitloc"
	   		}
			
			"modifier_permanent_immolation_burn"
	   		{
	   			"IsDebuff"			"1"
	   			"ThinkInterval"		"1"
	   			"OnIntervalThink"    	
	   			{
	   				"Damage"
					{		
						"Type" 		"DAMAGE_TYPE_MAGICAL"
						"Damage" 	"%damage"
						"Target"	"TARGET"
					}
				}
		    }
		}
	}
	
	// Pit Lord Cleaving Attack
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: The Pit Lord strikes with such force that he damages multiple enemies with his attack.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	N/A	None	N/A	20	Ground, Enemy, Neutral	30% damage is splash	1
	//2	N/A	N/A	None	N/A	20	Ground, Enemy, Neutral	55% damage is splash	3
	//3	N/A	N/A	None	N/A	20	Ground, Enemy, Neutral	80% damage is splash	5
	"pit_lord_cleaving_attack"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"pit_lord_cleaving_attack"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"AbilityCastRange"				"200"
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_sven/sven_spell_great_cleave.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"cleave_damage"			"30 55 80 100"
			}
			
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"cleave_radius"			"200.0"
			}
		}
	
		"Modifiers"
		{
			"modifier_cleaving_attack"
			{
				"Passive"	"1"
				"IsHidden"	"1"
	
				"OnAttackLanded"
				{
					"CleaveAttack"
					{
						"CleavePercent"		"%cleave_damage"
						"CleaveRadius"		"%cleave_radius"
						"CleaveEffect"		"particles/units/heroes/hero_sven/sven_spell_great_cleave.vpcf"
					}
				}
			}
		}
	}
	// Pit Lord Doom
	// Author: Noya
	// Date: 25.01.2015.
	// Notes: Marks a target unit for the manifestation of a Demon. The afflicted unit will take 40 damage per second until it dies. Upon its death, a great Demon will spawn from its corpse. Doom cannot be dispelled or canceled.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	N/A	120 sec.	150	65	Unit	Air, Ground, NonHero, Organic	Creates Doom Guard	6
	"pit_lord_doom"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"pit_lord_doom"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"650"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"120.0"
	
		"AbilityManaCost"				"150"
	
		"precache"
		{
			"particle"  "particles/units/heroes/hero_doom_bringer/doom_bringer_doom.vpcf"
			"particle"  "particles/units/heroes/hero_doom_bringer/doom_bringer_lvl_death.vpcf"
			"particle" 	"particles/econ/items/doom/doom_f2p_death_effect/doom_bringer_f2p_death.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_doombringer.vsndevts"
			"model"		"models/heroes/doom/doom.vmdl"
	
			// Doom Guard
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_pugna.vsndevts"		
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_centaur.vsndevts"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_brewmaster.vsndevts"
	
			"particle" 	"particles/units/heroes/hero_pugna/pugna_decrepify.vpcf"
			"particle"	"particles/units/heroes/hero_centaur/centaur_warstomp.vpcf"
			"particle"  "particles/units/heroes/hero_brewmaster/brewmaster_cyclone.vpcf"
			
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"damage_per_second"		"40 50 60"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"doom_guard_duration"	"180"
			}
		}
	
		"OnAbilityPhaseStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/pit_lord/doom.lua"
				"Function"		"DoomLevelCheck"
			}
		}
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_doom"
				"Target" 		"TARGET"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_DoomBringer.Doom"
				"Target" 		"TARGET"
			}
			
			
		}
		
		"Modifiers"
		{
			"modifier_doom"
			{
				"IsDebuff"			"1"
		
				"EffectName"		"particles/units/heroes/hero_doom_bringer/doom_bringer_doom.vpcf"
				"EffectAttachType"	"follow_origin"
	
				"ThinkInterval"  "1.0"
				"OnIntervalThink"
				{
					"Damage"
					{
						"Target"		"TARGET"
						"Type"			"DAMAGE_TYPE_MAGICAL"
						"Damage"		"%damage_per_second"
					}			
				}
				
				"OnDeath"
				{
					"FireSound"
					{
						"EffectName"	"Hero_DoomBringer.LvlDeath"
						"Target"
						{
							"Center" 	"UNIT"
							"Flags"		"DOTA_UNIT_TARGET_FLAG_DEAD"
						}
					}
	
					"RunScript"
					{
						"ScriptFile"	"heroes/pit_lord/doom.lua"
						"Function"		"DoomStopSound"
					}
					
					
					"SpawnUnit"
					{
						"UnitName"		"npc_doom_guard"
						"Target"
						{
							"Center" 	"UNIT"
							"Flags"		"DOTA_UNIT_TARGET_FLAG_DEAD"
						}
						"Duration"		"%doom_guard_duration"
						"UnitCount"		"%doom_guard_1_count"
						"UnitLimit"		"0"
						"GrantsGold"	"1"
						"GrantsXP"		"1"
						"SpawnRadius"	"10"
						"OnSpawn"
						{
							"ApplyModifier"
							{
								"ModifierName"	"modifier_phased"
								"Target"		"TARGET"
								"Duration"		"0.03"
							}
					
							"FireEffect"
							{
								"EffectName"        "particles/units/heroes/hero_doom_bringer/doom_bringer_lvl_death.vpcf"
								"EffectAttachType"  "follow_origin"
								"Target"            "TARGET"
							}
	
							"FireEffect"
							{
								"EffectName"        "particles/econ/items/doom/doom_f2p_death_effect/doom_bringer_f2p_death.vpcf"
								"EffectAttachType"  "follow_origin"
								"Target"			"TARGET"
							}			
						}
					}
	
					"SpawnUnit"
					{
						"UnitName"		"npc_doom_guard2"
						"Target"
						{
							"Center" 	"UNIT"
							"Flags"		"DOTA_UNIT_TARGET_FLAG_DEAD"
						}
						"Duration"		"%doom_guard_duration"
						"UnitCount"		"%doom_guard_2_count"
						"UnitLimit"		"0"
						"GrantsGold"	"1"
						"GrantsXP"		"1"
						"SpawnRadius"	"10"
						"OnSpawn"
						{
							"ApplyModifier"
							{
								"ModifierName"	"modifier_phased"
								"Target"		"TARGET"
								"Duration"		"0.03"
							}
					
							"FireEffect"
							{
								"EffectName"        "particles/units/heroes/hero_doom_bringer/doom_bringer_lvl_death.vpcf"
								"EffectAttachType"  "follow_origin"
								"Target"            "TARGET"
							}
	
							"FireEffect"
							{
								"EffectName"        "particles/econ/items/doom/doom_f2p_death_effect/doom_bringer_f2p_death.vpcf"
								"EffectAttachType"  "follow_origin"
								"Target"			"TARGET"
							}			
						}
					}	
	
					"SpawnUnit"
					{
						"UnitName"		"npc_doom_guard3"
						"Target"
						{
							"Center" 	"UNIT"
							"Flags"		"DOTA_UNIT_TARGET_FLAG_DEAD"
						}
						"Duration"		"%doom_guard_duration"
						"UnitCount"		"%doom_guard_3_count"
						"UnitLimit"		"0"
						"GrantsGold"	"1"
						"GrantsXP"		"1"
						"SpawnRadius"	"10"
						"OnSpawn"
						{
							"ApplyModifier"
							{
								"ModifierName"	"modifier_phased"
								"Target"		"TARGET"
								"Duration"		"0.03"
							}
					
							"FireEffect"
							{
								"EffectName"        "particles/units/heroes/hero_doom_bringer/doom_bringer_lvl_death.vpcf"
								"EffectAttachType"  "follow_origin"
								"Target"            "TARGET"
							}
	
							"FireEffect"
							{
								"EffectName"        "particles/econ/items/doom/doom_f2p_death_effect/doom_bringer_f2p_death.vpcf"
								"EffectAttachType"  "follow_origin"
								"Target"			"TARGET"
							}			
						}
					}	
				}		
			}
		}	
	}
	
	
	// Sub Abilities
	
	"doom_guard_war_stomp"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"MaxLevel"						"1"
		"AbilityTextureName"			"doom_guard_war_stomp"
		
		// Stats
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastPoint"				"0.5"
		"AbilityCooldown"				"6.0"
		"AbilityManaCost"				"90"
	
		// Indicator
		"AbilityCastRange"				"%radius"
		
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"						"FIELD_INTEGER"
				"radius"						"250"
			}
			"02"
			{
				"var_type"						"FIELD_FLOAT"
				"stun_duration_hero"			"2.0"
			}
			"02"
			{
				"var_type"						"FIELD_FLOAT"
				"stun_duration_creep"			"3.0"
			}
			"03"
			{
				"var_type"						"FIELD_INTEGER"
				"stomp_damage"					"25"
			}
		}
	
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_centaur.vsndevts"
			"particle"	"particles/units/heroes/hero_centaur/centaur_warstomp.vpcf"
			"particle"	"particles/generic_gameplay/generic_stunned.vpcf"
		}
	
		"OnSpellStart"
		{
			"FireEffect"
			{
				"EffectName"		"particles/units/heroes/hero_centaur/centaur_warstomp.vpcf"
				"EffectAttachType" 	"follow_origin"
				"EffectRadius"		"%radius"
				"Target" 			"CASTER"
				"ControlPoints"
				{
					"01"	"%radius 0 %radius"
				}
			}
	
			"FireSound"
			{
				"EffectName"		"Hero_Centaur.HoofStomp"
				"Target" 			"CASTER"
			}
	
			"Damage"
			{
				"Target"
				{
					"Center"  		"CASTER"
					"Radius" 		"%radius"
					"Teams" 		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types" 		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				}
				"Type"		"DAMAGE_TYPE_MAGICAL"
				"Damage"	"%stomp_damage"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_stun_duration_hero"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%stun_duration_hero"
			}
			
			"ApplyModifier"
			{
				"ModifierName"	"modifier_stun_duration_creep"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%stun_duration_creep"
			}	
		}
	
		"Modifiers"
		{
			"modifier_hoof_stomp"
			{
				"IsDebuff"	"1"
				"Duration"	"%stun_duration"
				"States"
				{
					"MODIFIER_STATE_STUNNED" "MODIFIER_STATE_VALUE_ENABLED"			
				}
				"OverrideAnimation"	"ACT_DOTA_DISABLED"
				"EffectName"		"particles/generic_gameplay/generic_stunned.vpcf"
				"EffectAttachType"	"follow_overhead"
			}
		}
	}
	
	"doom_guard_cripple"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"doom_guard_cripple"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_3"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"10.0"
	
		"AbilityManaCost"				"125"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"damage_reduction_pct"		"-50"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"bonus_movement_speed"		"-75"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"bonus_attack_speed"		"-50"
			}
			"04"
			{
				"var_type"					"FIELD_FLOAT"
				"creep_duration"			"60"
			}
			"05"
			{
				"var_type"					"FIELD_FLOAT"
				"hero_duration"				"10"
			}
		}
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_pugna/pugna_decrepify.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_pugna.vsndevts"
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Pugna.Decrepify"
				"Target" 		"TARGET"
			}
			
			"ApplyModifier"
			{
				"ModifierName"	"modifier_cripple"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%hero_duration"
			}
			
			"ApplyModifier"
			{
				"ModifierName"	"modifier_cripple"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%creep_duration"
			}
		}
	
		"Modifiers"
		{
			"modifier_cripple"
			{
				"IsDebuff"			"1"
		
				"EffectName"		"particles/units/heroes/hero_pugna/pugna_decrepify.vpcf"
				"EffectAttachType"	"follow_origin"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%bonus_attack_speed"
				    "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%bonus_movement_speed" 
				    "MODIFIER_PROPERTY_DAMAGEOUTGOING_PERCENTAGE" "%damage_reduction_pct"
				}
	
				"States"
				{
					"MODIFIER_STATE_DISARMED"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ATTACK_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
				}			
			}
		}	
	}
	
	"doom_guard_rain_of_fire"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"pit_lord_rain_of_fire"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_BUILDING"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_VICTORY"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.6"		
		"AbilityCooldown"				"8"
		"AbilityManaCost"				"85"
	
		"AOERadius"     				"%radius"
		"AbilityChannelTime"			"7.0"
		
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_jakiro.vsndevts"
			"particle"	"particles/units/heroes/hero_phoenix/phoenix_fire_spirit_ground.vpcf"
			"particle"	"particles/units/heroes/hero_huskar/huskar_burning_spear_debuff.vpcf"
			"particle"	"particles/units/heroes/hero_invoker/invoker_sun_strike_team.vpcf"
			"particle"	"particles/units/heroes/hero_invoker/invoker_sun_strike.vpcf"
			"particle"	"particles/units/heroes/hero_warlock/warlock_rain_of_chaos_explosion.vpcf"
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"200"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"wave_duration"			"7.0"
			}		
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"wave_count"			"6 8 10"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"wave_damage"			"25"
			}
			"05"
			{
				"var_type"				"FIELD_FLOAT"
				"wave_interval"			"1.0"
			}
			"06"
			{
				"var_type"				"FIELD_INTEGER"
				"burn_damage"			"5"
			}
			"07"
			{
				"var_type"				"FIELD_FLOAT"
				"burn_interval"			"1.0"
			}
			"08"
			{
				"var_type"				"FIELD_FLOAT"
				"burn_duration"			"3.0"
			}
			"09"
			{
				"var_type"				"FIELD_FLOAT"
				"first_wave_delay"		"0.9"
			}
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/pit_lord/rain_of_fire.lua"
				"Function"		"RainOfFireStart"
				"Target"		"POINT"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_rain_of_fire_channelling"
				"Target" 		"CASTER"
			}
			
			"FireSound"
			{
				"EffectName"	"Hero_Jakiro.DualBreath"
				"Target"		"CASTER"
			}
	    }
	
	    "OnChannelFinish"
	    {
	    	"RunScript"
	    	{
	    		"ScriptFile"	"heroes/pit_lord/rain_of_fire.lua"
				"Function"		"RainOfFireEnd"
	    	} 
	
	    	"RemoveModifier"
			{
				"ModifierName"	"modifier_rain_of_fire_channelling"
				"Target" 		"CASTER"
			}
	   			
	    }
	    
	    "Modifiers"
	    {
	        "modifier_rain_of_fire_channelling"
	        {
	        	"IsHidden"			"1"
	            "ThinkInterval"		"1.0"
	            "OnIntervalThink"
	         	{
	         		"ApplyModifier"
	         		{
	         			"ModifierName"	"modifier_channeling"
	         			"Target" 		"CASTER"
	         			"Duration"		"0.9"
	         		}
				}
			}
	
			"modifier_channeling"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_SPAWN"
			}
	
			"modifier_rain_of_fire_thinker"
			{
				"ThinkInterval"  "%wave_interval"
				"OnIntervalThink"
				{
					"Damage"
					{
						"Target"
						{
							"Center"  	"TARGET"
							"Radius" 	"%radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_BOTH"
							"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
						}
											
						"Type"			"DAMAGE_TYPE_MAGICAL"
						"Damage"		"%wave_damage"
					}
	
					"Damage"
					{
						"Target"
						{
							"Center"  	"TARGET"
							"Radius" 	"%radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_BOTH"
							"Types" 	"DOTA_UNIT_TARGET_BUILDING"
						}
						"Type"			"DAMAGE_TYPE_MAGICAL"
						"Damage"		"%wave_damage / 2"
					}
					
					"ApplyModifier"
					{
						"Target"
						{
							"Center"	"TARGET"
							"Radius"	"%radius"
							"Teams"		"DOTA_UNIT_TARGET_TEAM_BOTH"
							"Types"		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL"
						}
						"ModifierName"	"modifier_rain_of_fire_burn"
					}
	
					"FireSound"
					{
						"EffectName"		"Hero_Jakiro.LiquidFire"
						"Target"			"TARGET"
					}
	
					"AttachEffect"
					{
						"Target" 			"TARGET"
						"EffectName"		"particles/units/heroes/hero_phoenix/phoenix_fire_spirit_ground.vpcf"
						"EffectAttachType" 	"follow_origin"
					}
					"AttachEffect"
					{
						"Target" 			"TARGET"
						"EffectName"		"particles/units/heroes/hero_warlock/warlock_rain_of_chaos_explosion.vpcf"
						"EffectAttachType" 	"follow_origin"
					}
	
					"AttachEffect"
					{
						"Target" 			"TARGET"
						"EffectName"		"particles/units/heroes/hero_invoker/invoker_sun_strike.vpcf"
						"EffectAttachType" 	"follow_origin"
					}
				}
				
			}
	
			"modifier_rain_of_fire_burn"
			{
				"IsHidden"	"0"
				"IsDebuff"	"1"
				"Duration"	"%burn_duration"
				"OnCreated"
				{
					"AttachEffect"
					{
						"Target"		"TARGET"
						"EffectName"	"particles/units/heroes/hero_huskar/huskar_burning_spear_debuff.vpcf"
						"EffectAttachType"	"follow_origin"
					}
				}																																											
	
				"ThinkInterval"  "%burn_interval"
				"OnIntervalThink"
				{
					"Damage"
					{
						"Target"		"TARGET"
						"Type"			"DAMAGE_TYPE_MAGICAL"
						"Damage"		"%burn_damage"
					}				
				}	
			}
		}
	}
	// Pit Lord Howl of Terror
	// Author: Noya
	// Date: 24.01.2015.
	// Notes: The Pit Lord lets loose a terrifying howl that causes nearby enemy units to shiver in fear, reducing their attack damage.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	15 sec.	12 sec.	75	N/A	50	Air, Ground, Enemy, Neutral	30% attack damage reduction	1
	//2	15 sec.	12 sec.	75	N/A	50	Air, Ground, Enemy, Neutral	40% attack damage reduction	3
	//3	15 sec.	12 sec.	75	N/A	50	Air, Ground, Enemy, Neutral	50% attack damage reduction	5
	"pit_lord_howl_of_terror"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"pit_lord_howl_of_terror"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_ATTACK"
	
		"AbilityCastRange"				"500"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"12.0"
	
		"AbilityManaCost"				"75"
		"AbilityDamage"					"75 130 200"
	
		"precache"
		{
			"particle"  "particles/custom/vengeful_wave_of_terror_recipient_reduction.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_vengefulspirit.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"radius"		"500"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"damage_reduction_percent"	"-30 -40 -50 -60"
			}
			"03"
			{
				"var_type"		"FIELD_INTEGER"
				"duration"		"15"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_VengefulSpirit.WaveOfTerror"
				"Target" 		"CASTER"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_howl_of_terror"
				"Target"
				{
					"Center"  	"CASTER"
					"Radius" 	"%radius"
					"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%duration"
			}				
		}
	
		"Modifiers"
		{
			"modifier_howl_of_terror"
			{
				"IsDebuff"			"1"
		
				"EffectName"		"particles/custom/vengeful_wave_of_terror_recipient_reduction.vpcf"
				"EffectAttachType"	"follow_origin"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_DAMAGEOUTGOING_PERCENTAGE" "%damage_reduction_percent"
				}			
			}
		}
	}
	// Pit Lord Rain of Fire
	// Author: Noya
	// Date: 20.01.2015.
	// Notes: Calls down waves of fire that damage units in an area. Each wave deals initial damage and then burns enemies for 3 seconds.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	3 sec.	8 sec.	85	80	20	N/A	25 wave damage, 6 waves, 5 damage/sec., 125 max damage	1
	//2	3 sec.	8 sec.	85	80	20	N/A	30 wave damage, 8 waves, 10 damage/sec., 150 max damage	3
	//3	3 sec.	8 sec.	85	80	20	N/A	35 wave damage, 10 waves, 15 damage/sec., 175 max damage	5
	
	// NOTE: No max damage for now
	"pit_lord_rain_of_fire"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"pit_lord_rain_of_fire"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_BOTH"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_BUILDING"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_VICTORY"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0"		
		"AbilityCooldown"				"8"
		"AbilityManaCost"				"85"
	
		"AOERadius"     				"%radius"
		"AbilityChannelTime"			"6.0 8.0 10.0 12.0"
		
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_jakiro.vsndevts"
			"particle"	"particles/units/heroes/hero_phoenix/phoenix_fire_spirit_ground.vpcf"
			"particle"	"particles/units/heroes/hero_huskar/huskar_burning_spear_debuff.vpcf"
			"particle"	"particles/units/heroes/hero_invoker/invoker_sun_strike_team.vpcf"
			"particle"	"particles/units/heroes/hero_invoker/invoker_sun_strike.vpcf"
			"particle"	"particles/units/heroes/hero_warlock/warlock_rain_of_chaos_explosion.vpcf"
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"200"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"wave_duration"			"6.0 8.0 10.0 12.0"
			}		
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"wave_count"			"6 8 10 12"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"wave_damage"			"25 30 35 40"
			}
			"05"
			{
				"var_type"				"FIELD_FLOAT"
				"wave_interval"			"1.0"
			}
			"06"
			{
				"var_type"				"FIELD_INTEGER"
				"burn_damage"			"5 10 15 20"
			}
			"07"
			{
				"var_type"				"FIELD_FLOAT"
				"burn_interval"			"1.0"
			}
			"08"
			{
				"var_type"				"FIELD_FLOAT"
				"burn_duration"			"3.0"
			}
			"09"
			{
				"var_type"				"FIELD_FLOAT"
				"first_wave_delay"		"0"
			}
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/pit_lord/rain_of_fire.lua"
				"Function"		"RainOfFireStart"
				"Target"		"POINT"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_rain_of_fire_channelling"
				"Target" 		"CASTER"
			}
			
			"FireSound"
			{
				"EffectName"	"Hero_Jakiro.DualBreath"
				"Target"		"CASTER"
			}
	    }
	
	    "OnChannelFinish"
	    {
	    	"RunScript"
	    	{
	    		"ScriptFile"	"heroes/pit_lord/rain_of_fire.lua"
				"Function"		"RainOfFireEnd"
	    	} 
	
	    	"RemoveModifier"
			{
				"ModifierName"	"modifier_rain_of_fire_channelling"
				"Target" 		"CASTER"
			}
	   			
	    }
	    
	    "Modifiers"
	    {
	        "modifier_rain_of_fire_channelling"
	        {
	        	"IsHidden"			"1"
	            "ThinkInterval"		"1.0"
	            "OnIntervalThink"
	         	{
	         		"ApplyModifier"
	         		{
	         			"ModifierName"	"modifier_channeling"
	         			"Target" 		"CASTER"
	         			"Duration"		"0.9"
	         		}
				}
				
				"OnCreated"
	         	{
	         		"ApplyModifier"
	         		{
	         			"ModifierName"	"modifier_channeling"
	         			"Target" 		"CASTER"
	         			"Duration"		"0.9"
	         		}
				}
			}
	
			"modifier_channeling"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_1"
			}
	
			"modifier_rain_of_fire_thinker"
			{
				"OnCreated"
				{
					"ApplyModifier"
	         		{
						"ModifierName"	"modifier_raid_of_fire_explosion"
	         			"Target" 		"TARGET"
	         			"Duration"		"0.9"
					}
				}
				
				"ThinkInterval"  "%wave_interval"
				"OnIntervalThink"
				{
					"ApplyModifier"
	         		{
						"ModifierName"	"modifier_raid_of_fire_explosion"
	         			"Target" 		"TARGET"
	         			"Duration"		"0.9"
					}
				}
				
			}
			
			"modifier_raid_of_fire_explosion"
			{
				"OnCreated"
				{
					"DelayedAction"
					{
						"Delay"     "0.3"
						"Action"    
						{	
							"Damage"
							{
								"Target"
								{
									"Center"  	"TARGET"
									"Radius" 	"%radius"
									"Teams" 	"DOTA_UNIT_TARGET_TEAM_BOTH"
									"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
								}
												
								"Type"			"DAMAGE_TYPE_MAGICAL"
								"Damage"		"%wave_damage"
							}
	
							// Custom Building Damage
							"RunScript"
							{
								"ScriptFile"	"buildings/damage.lua"
								"Function"		"DoBuildingDamage"
								"Target"
								{
									"Center"  	"TARGET"
									"Radius" 	"%radius"
									"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
									"Types" 	"DOTA_UNIT_TARGET_BASIC"
									"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
								}
								"Damage"		"%wave_damage / 2"
							}
							
							"ApplyModifier"
							{
								"Target"
								{
									"Center"	"TARGET"
									"Radius"	"%radius"
									"Teams"		"DOTA_UNIT_TARGET_TEAM_BOTH"
									"Types"		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_CREEP | DOTA_UNIT_TARGET_MECHANICAL"
								}
								"ModifierName"	"modifier_rain_of_fire_burn"
							}
	
							"FireSound"
							{
								"EffectName"		"Hero_Jakiro.LiquidFire"
								"Target"			"TARGET"
							}
	
							"AttachEffect"
							{
								"Target" 			"TARGET"
								"EffectName"		"particles/units/heroes/hero_phoenix/phoenix_fire_spirit_ground.vpcf"
								"EffectAttachType" 	"follow_origin"
							}
							"AttachEffect"
							{
								"Target" 			"TARGET"
								"EffectName"		"particles/units/heroes/hero_warlock/warlock_rain_of_chaos_explosion.vpcf"
								"EffectAttachType" 	"follow_origin"
							}
	
							"AttachEffect"
							{
								"Target" 			"TARGET"
								"EffectName"		"particles/units/heroes/hero_invoker/invoker_sun_strike.vpcf"
								"EffectAttachType" 	"follow_origin"
							}
						}
					}
				}
			}
	
			"modifier_rain_of_fire_burn"
			{
				"IsHidden"	"0"
				"IsDebuff"	"1"
				"Duration"	"%burn_duration"
				"OnCreated"
				{
					"AttachEffect"
					{
						"Target"		"TARGET"
						"EffectName"	"particles/units/heroes/hero_huskar/huskar_burning_spear_debuff.vpcf"
						"EffectAttachType"	"follow_origin"
					}
				}																																											
	
				"ThinkInterval"  "%burn_interval"
				"OnIntervalThink"
				{
					"Damage"
					{
						"Target"		"TARGET"
						"Type"			"DAMAGE_TYPE_MAGICAL"
						"Damage"		"%burn_damage"
					}				
				}	
			}
		}	
	}
	// Priestess of the Moon Scout
	// Author: Noya
	// Date: 24.1.2015.
	// Notes: Temporarily summons an Owl Scout, which can be used to scout the map. Can see invisible units.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	60 sec.	20 sec.	100	N/A	N/A	N/A	Summons an Owl	1
	//2	90 sec.	20 sec.	75	N/A	N/A	N/A	Summons an Owl	3
	//3	120 sec.	20 sec.	50	N/A	N/A	N/A	Summons an Owl	5
	"potm_scout"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"potm_scout"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
	
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"20.0"
	
		"AbilityManaCost"				"100 75 50 10"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_mirana/mirana_starfall_moonray.vpcf"
			"particle"  "particles/units/heroes/hero_mirana/mirana_moonlight_owner.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_mirana.vsndevts"
			"model"		"models/items/courier/snowl/snowl_flying.vmdl"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"owl_duration"				"60 90 120 160"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"owl_hp"					"40"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"owl_vision"				"1000 1400 1800 2000" //1000 1500 2200 originally
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"owl_movespeed"				"270 350 450 550"
			}
			"05"
			{
				"var_type"					"FIELD_INTEGER"
				"owl_1_count"				"1 0 0 0"
			}
			"06"
			{
				"var_type"					"FIELD_INTEGER"
				"owl_2_count"				"0 1 0 0"
			}
			"07"
			{
				"var_type"					"FIELD_INTEGER"
				"owl_3_count"				"0 0 1 0"
			}
			"08"
			{
				"var_type"					"FIELD_INTEGER"
				"owl_4_count"				"0 0 0 1"
			}
			"09"
			{
				"var_type"					"FIELD_INTEGER"
				"spawn_distance"			"150"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Mirana.Leap.Owlcat"
				"Target"		"CASTER"
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_potm_owl_1"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/potm/scout.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
				
				"Duration"		"%owl_duration"
				"UnitCount"		"%owl_1_count"
				"UnitLimit"		"0"
				"GrantsGold"	"0"
				"GrantsXP"		"0"
				"SpawnRadius"	"10"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/potm/scout.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
			
					"ApplyModifier"
					{
						"ModifierName"	"modifier_owl_scout"
						"Target" 		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_potm_owl_2"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/potm/scout.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
				
				"Duration"		"%owl_duration"
				"UnitCount"		"%owl_2_count"
				"UnitLimit"		"0"
				"GrantsGold"	"0"
				"GrantsXP"		"0"
				"SpawnRadius"	"10"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/potm/scout.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
			
					"ApplyModifier"
					{
						"ModifierName"	"modifier_owl_scout"
						"Target" 		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_potm_owl_3"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/potm/scout.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
				
				"Duration"		"%owl_duration"
				"UnitCount"		"%owl_3_count"
				"UnitLimit"		"0"
				"GrantsGold"	"0"
				"GrantsXP"		"0"
				"SpawnRadius"	"10"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/potm/scout.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
			
					"ApplyModifier"
					{
						"ModifierName"	"modifier_owl_scout"
						"Target" 		"TARGET"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_potm_owl_4"
				"Target"
				{
					"Center"				"CASTER"
					"ScriptSelectPoints"
					{
						"ScriptFile"    "heroes/potm/scout.lua"
	        			"Function"      "SummonLocation"
						"Target"		"CASTER"
					}
				}
				
				"Duration"		"%owl_duration"
				"UnitCount"		"%owl_4_count"
				"UnitLimit"		"0"
				"GrantsGold"	"0"
				"GrantsXP"		"0"
				"SpawnRadius"	"10"
				"OnSpawn"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/potm/scout.lua"
						"Function"		"SetUnitsMoveForward"
					}				
	
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
			
					"ApplyModifier"
					{
						"ModifierName"	"modifier_owl_scout"
						"Target" 		"TARGET"
					}
				}
			}
		}
	
		"Modifiers"
		{
			"modifier_owl_scout"
			{
				"IsHidden"			"1"
			
				"States"
				{
					"MODIFIER_STATE_INVULNERABLE"	"MODIFIER_STATE_VALUE_ENABLED"
				}
	
				"EffectName"        "particles/units/heroes/hero_mirana/mirana_moonlight_owner.vpcf"
				"EffectAttachType"  "follow_overhead"
			}
		}
	}
	// Priestess of the Moon Searing Arrows
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: Increases the damage of the Priestess' attack by adding fire. Searing Arrows will fire until the Priestess is out of mana. 
	// Manually casting Searing Arrows will allow the Priestess of the Moon to fire beyond her normal 60 range at level 2.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	N/A	8	60	Unit	N/A	10 bonus damage	1
	//2	N/A	N/A	8	70	Unit	N/A	20 bonus damage	3
	//3	N/A	N/A	8	70	Unit	N/A	30 bonus damage	5
	
	// BUG: Orb doesn't fire on Magic Immune targets
	"potm_searing_arrows"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"potm_searing_arrows"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST | DOTA_ABILITY_BEHAVIOR_ATTACK"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL | DOTA_UNIT_TARGET_BUILDING"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"
		"AbilityUnitTargetFlags"		"DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
	
		"AbilityCastPoint"          	"0"
	    "AbilityCastRange"          	"600 700 700 700"
	
		"AbilityManaCost"				"8"
		"AbilityDamage"					"10 20 30 40"
	
		"precache"
		{
			"particle"				"particles/units/heroes/hero_clinkz/clinkz_searing_arrow.vpcf"
			"soundfile"				"soundevents/game_sounds_heroes/game_sounds_clinkz.vsndevts"
			"soundfile"				"soundevents/voscripts/game_sounds_vo_clinkz.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"bonus_range"		"0 100 100 100"
			}
		}
	
		"Modifiers"
		{
			"modifier_snake_searing_arrow"
			{
				"Passive"               "1"
				"IsHidden"				"1"
				"TextureName"			"potm_searing_arrows"
	
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACK_RANGE_BONUS"		"%bonus_range"
				}
	
				"Orb"
				{
					"Priority"			"DOTA_ORB_PRIORITY_DEFAULT"
					"ProjectileName"    "particles/units/heroes/hero_clinkz/clinkz_searing_arrow.vpcf"
					"CastAttack"		"1"
				}
				"OnOrbFire"
				{
					"SpendMana"
					{
						"Mana"    		"%AbilityManaCost"
					}
					"FireSound"
					{
						"EffectName"	"Hero_Clinkz.SearingArrows"
						"Target"		"CASTER"
					}
				}
				
				"OnOrbImpact"
				{
					"Damage"
					{
						"Type"          "DAMAGE_TYPE_PHYSICAL"
						"Damage"        "%AbilityDamage"
						"Target"		"TARGET"
					}
					"FireSound"
					{
						"EffectName"	"Hero_Clinkz.SearingArrows.Impact"
						"Target"		"CASTER"
					}
				}
			}
		}
	}
	// Priestess of the Moon Starfall
	// Author: Noya
	// Date: 13.1.2015.
	// Notes: Calls down waves of falling stars that damage nearby enemy units. Each wave deals 50 damage. The time between waves is 1.5 seconds.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	45 sec.	180 sec.	200	N/A	100	Air, Ground, Enemy	50 damage/wave for 45 sec.	6
	"potm_starfall"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"potm_starfall"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_CHANNELLED | DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_1"
	
		"AbilityCastRange"				"1000"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"180.0"
	
		"AbilityManaCost"				"100"
		"AbilityChannelTime"			"45.0"
	
		"precache"
		{
			"particle" "particles/units/heroes/hero_mirana/mirana_starfall_moonray.vpcf"
			"particle" "particles/units/heroes/hero_mirana/mirana_starfall_attack.vpcf"
			"particle" "particles/units/heroes/hero_mirana/mirana_moonlight_owner.vpcf"
			"particle"  "particles/units/heroes/hero_mirana/mirana_moonlight_cast.vpcf"
			"particle"  "particles/units/heroes/hero_mirana/mirana_moonlight_ray.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_mirana.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"duration"		"45"
			}
			"02"
			{
				"var_type"		"FIELD_INTEGER"
				"wave_damage"	"50 75 100"
			}
			"03"
			{
				"var_type"		"FIELD_FLOAT"
				"wave_interval"	"1.5"
			}
			"04"
			{
				"var_type"		"FIELD_INTEGER"
				"radius"		"1000"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"building_dmg_pct" 	"35"
			}
		}
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_starfall"
				"Target" 		"CASTER"
				"Duration"		"%duration"
			}
	
			"FireEffect"
			{
				"EffectName"        "particles/units/heroes/hero_mirana/mirana_moonlight_cast.vpcf"
				"EffectAttachType"  "start_at_customorigin"
				"ControlPointEntities"
				{
					"CASTER"	"attach_attack1"
				}
			}
	
			"FireEffect"
			{
				"EffectName"        "particles/units/heroes/hero_mirana/mirana_moonlight_ray.vpcf"
				"EffectAttachType"  "follow_origin"
				"Target"            "CASTER"
			}
	
			"FireSound"
			{
				"EffectName"	"Ability.MoonlightShadow"
				"Target" 		"CASTER"
			}			
		}
	
		"OnChannelFinish"
		{
			"RemoveModifier"
			{
				"ModifierName"	"modifier_starfall"
				"Target" 		"CASTER"
			}		
		}
		
		"Modifiers"
		{
			"modifier_starfall"
			{
				"EffectName" 		"particles/units/heroes/hero_mirana/mirana_moonlight_owner.vpcf"
				"EffectAttachType" 	"follow_overhead"
		
				"ThinkInterval"  "%wave_interval"
				"OnIntervalThink"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_channeling_animation"
						"Target" 		"CASTER"
						"Duration"		"1.4"
					}
					
					"FireEffect"
					{
						"EffectName"        "particles/units/heroes/hero_mirana/mirana_starfall_moonray.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "CASTER"
					}
	
					"FireSound"
					{
						"EffectName"	"Ability.Starfall"
						"Target" 		"TARGET"
					}
					
					// Units
					"ActOnTargets"
					{
						"Target"
						{
							"Center"  	"CASTER"
							"Radius" 	"%radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
							"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
						}
					
						"Action"    
						{
							"FireEffect"
							{
								"EffectName"        "particles/units/heroes/hero_mirana/mirana_starfall_attack.vpcf"
								"EffectAttachType"  "follow_origin"
								"Target"            "TARGET"
							}
	
							"DelayedAction"
							{
								"Delay"     "0.4"
								"Action"    
								{
									"Damage"
									{
										"Target"		"TARGET"
										"Type"			"DAMAGE_TYPE_MAGICAL"
										"Damage"		"%wave_damage"
									}
	
									"FireSound"
									{
										"EffectName"	"Ability.StarfallImpact"
										"Target" 		"TARGET"
									}
								}
							}
							
						}
					}
	
					"DelayedAction"
					{
						"Delay"     "0.4"
						"Action"    
						{
							// Custom Building Damage
							"RunScript"
							{
								"ScriptFile"	"buildings/damage.lua"
								"Function"		"DoBuildingDamage"
								"Target"
								{
									"Center"  	"TARGET"
									"Radius" 	"%radius"
									"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
									"Types" 	"DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
									"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
								}
								"Damage"		"%wave_damage * %building_dmg_pct * 0.01"
							}
						}
					}
				}		
			}
	
			"modifier_channeling_animation"
			{
				"IsHidden"	"1"
				"OverrideAnimation"	"ACT_DOTA_CAST_ABILITY_1"
			}
		}	
	}
	// Priestess of the Moon Trueshot Aura
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: An aura that gives friendly units around the Priestess bonus damage to their ranged attacks.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self	Base ranged damage increased 10%	1
	//2	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self	Base ranged damage increased 20%	3
	//3	Unlimited	N/A	None	N/A	90	Air, Ground, Friend, Self	Base ranged damage increased 30%	5
	"potm_trueshot_aura"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"potm_trueshot_aura"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityCastRange"				"900"
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_brewmaster/brewmaster_cyclone_swirl.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"damage_bonus_percent"	"10 20 30 40"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"900"
			}
		}
	
		"Modifiers"
		{
			"modifier_trueshot_aura"
	   		{
	    		"Passive" 			"1"
	    		"IsHidden" 			"1"
	
	    		"Aura" 				"modifier_trueshot_aura_buff"
	    		"Aura_Radius" 		"%radius"
	    		"Aura_Teams" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
	    		"Aura_Types" 		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
	    		"Aura_Flags" 		"DOTA_UNIT_TARGET_FLAG_RANGED_ONLY"
	
	            "EffectName"		"particles/units/heroes/hero_brewmaster/brewmaster_cyclone_swirl.vpcf"
				"EffectAttachType" 	"follow_origin"
	   		}
			
			"modifier_trueshot_aura_buff"
	   		{	    	
		    	"Properties"
		    	{
		     		"MODIFIER_PROPERTY_BASEDAMAGEOUTGOING_PERCENTAGE" "%damage_bonus_percent"
		    	}
		    }
		}
	}
	// Shadow Hunter Big Bad Voodoo
	// Author: Noya
	// Date: 28.01.2015.
	// Notes: Turns all friendly units invulnerable in an area around the Shadow Hunter. The Shadow Hunter does not turn invulnerable. Lasts 30 seconds.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	30 sec.	180 sec.	200	N/A	80	Air, Ground, Friend	Nearby units become invulnerable	6
	"shadow_hunter_big_bad_voodoo"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"shadow_hunter_big_bad_voodoo"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_4"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.5"
		"AbilityCooldown"				"180.0"
	
		"AbilityManaCost"				"200"
		"AbilityChannelTime"			"30.0"
	
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_shadowshaman/unused_field_4.vpcf"
			"particle"	"particles/custom/warlock_shadow_word_buff_c.vpcf"
			"particle"  "particles/custom/witchdoctor_voodoo_restoration_aura.vpcf"
			"particle"	"particles/custom/witchdoctor_voodoo_restoration.vpcf"
			"particle"  "particles/status_fx/status_effect_guardian_angel.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_shadowshaman.vsndevts"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_witchdoctor.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"duration"		"20 30 40"
			}
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"radius"		"800"
			}
		}
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_big_bad_voodoo"
				"Target" 		"CASTER"
				"Duration"		"%duration"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_big_bad_voodoo_channeling"
				"Target" 		"CASTER"
			}
	
			"FireSound"
			{
				"EffectName"	"shadowshaman_shad_ability_shackle_08"
				"Target" 		"CASTER"
			}
		}
	
		"OnChannelFinish"
		{
			"RemoveModifier"
			{
				"ModifierName"	"modifier_big_bad_voodoo"
				"Target" 		"CASTER"
			}
	
			"RemoveModifier"
			{
				"ModifierName"	"modifier_big_bad_voodoo_channeling"
				"Target" 		"CASTER"
			}
		}
	
		"Modifiers"
		{
			"modifier_big_bad_voodoo_channeling"
			{
				"IsHidden"			"1"
	            "ThinkInterval"		"1.0"
	            "OnIntervalThink"
	         	{
	         		"ApplyModifier"
	         		{
	         			"ModifierName"	"modifier_channeling"
	         			"Target" 		"CASTER"
	         			"Duration"		"0.9"
	         		}
				}
			}
	
			"modifier_channeling"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_4"
			}
	
			"modifier_big_bad_voodoo"
			{
				"EffectName"		"particles/units/heroes/hero_warlock/warlock_shadow_word_debuff.vpcf"
				"EffectAttachType"	"follow_origin"
		
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"        "particles/custom/witchdoctor_voodoo_restoration_aura.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "CASTER"
					}
	
					"AttachEffect"
					{
						"EffectName"		"particles/custom/warlock_shadow_word_buff_copy.vpcf"
						"EffectAttachType"	"follow_origin"
						"Target"            "CASTER"
					}
	
					"AttachEffect"
					{
						"EffectName"        "particles/custom/witchdoctor_voodoo_restoration.vpcf"
						"EffectAttachType"  "start_at_customorigin"
						"Target"            "CASTER"
						"ControlPoints"
						{
							"01"	"%radius 0 0"
						}				
					}
	
					"FireSound"
					{
						"EffectName"	"Hero_WitchDoctor.Maledict_Loop"
						"Target" 		"CASTER"
					}
				}
	
				"OnDestroy"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/shadow_hunter/big_bad_voodoo.lua"
						"Function"		"MaledictStop"
					}
				}
	
				"OnDeath"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/shadow_hunter/big_bad_voodoo.lua"
						"Function"		"MaledictStop"
					}
				}
	
				"Aura"          	"modifier_big_bad_voodoo_invulnerability"
				"Aura_Radius"   	"%radius"
				"Aura_Teams"    	"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
				"Aura_Types"    	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				"Aura_ApplyToCaster" "0"
			}
	
			"modifier_big_bad_voodoo_invulnerability"
			{
				"EffectName"		"particles/custom/warlock_shadow_word_buff_c.vpcf"
				"EffectAttachType"	"follow_origin"
		
				"States"
				{
					"MODIFIER_STATE_INVULNERABLE"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	// Shadow Hunter Healing Wave
	// Author: Noya
	// Date: 13.1.2015.
	// Notes: Calls forth a wave of energy that heals a target and bounces to nearby friendlies. Each bounce heals less damage.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	9 sec.	90	70	50	Air, Ground, Friend, Self, Organic	Heals 130 damage, jumps 3 times	1
	//2	N/A	9 sec.	90	70	50	Air, Ground, Friend, Self, Organic	Heals 215 damage, jumps 4 times	3
	//3	N/A	9 sec.	90	70	50	Air, Ground, Friend, Self, Organic	Heals 300 damage, jumps 5 times	5
	"shadow_hunter_healing_wave"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"shadow_hunter_healing_wave"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitTargetFlags"	  	"DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES | DOTA_UNIT_TARGET_FLAG_INVULNERABLE"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_1"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.4"
		"AbilityCooldown"				"8.0"
	
		"AbilityManaCost"				"90"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"healing"				"160 215 300 385"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"max_bounces"			"2 3 4 5"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"bounce_range"			"500"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"wave_decay_percent"	"20"
			}
		}
	
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_dazzle.vsndevts"
			"particle"	"particles/custom/dazzle_shadow_wave.vpcf"
			"particle"	"particles/custom/dazzle_shadow_wave_copy.vpcf"
		}
		
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Dazzle.Shadow_Wave"
				"Target"		"TARGET"
			}
			"RunScript"
			{
				"ScriptFile"	"heroes/shadow_hunter/healing_wave.lua"
				"Function"		"HealingWave"
			}
		}
	}
	// Shadow Hunter Hex
	// Author: Noya, adapted from spellLibrary lion_vodoo_datadriven by Pizzalol
	// Date: 20.01.2015.
	// Notes: Transforms an enemy unit into a random critter, disabling special abilities.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	15 (4) sec.	7 sec.	70	80	Unit	Air, Ground, Enemy, Organic, Neutral	Transforms unit into a Critter	1
	//2	30 (5) sec.	7 sec.	70	80	Unit	Air, Ground, Enemy, Organic, Neutral	Transforms unit into a Critter	3
	//3	45 (6) sec.	7 sec.	70	80	Unit	Air, Ground, Enemy, Organic, Neutral	Transforms unit into a Critter	5
	"shadow_hunter_hex"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"shadow_hunter_hex"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.0"
		"AbilityCooldown"				"7.0"
	
		"AbilityManaCost"				"80"
	
		"precache"
		{
			"soundfile"			"soundevents/game_sounds_heroes/game_sounds_lion.vsndevts"
			"particle"			"particles/units/heroes/hero_lion/lion_spell_voodoo.vpcf"
			"model"				"models/props_gameplay/frog.vmdl"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_FLOAT"
				"hero_duration"				"4 5 6 7"
			}
			"02"
			{
				"var_type"					"FIELD_FLOAT"
				"creep_duration"			"15 30 45 60"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"movespeed"					"100"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Lion.Voodoo"
				"Target"		"TARGET"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Lion.Hex.Target"
				"Target"		"TARGET"
			}
	
			"FireEffect"
			{
				"EffectName"		"particles/units/heroes/hero_lion/lion_spell_voodoo.vpcf"
				"EffectAttachType"	"follow_origin"
				"Target"			"TARGET"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_hex"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%hero_duration"
			}
			
			"ApplyModifier"
			{
				"ModifierName"	"modifier_hex"
				"Target"
				{
					"Center"	"TARGET"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%creep_duration"
			}
			
		}
	
		"Modifiers"
		{
			"modifier_hex"
			{
				"IsDebuff"	"1"
				"Duration"	"%duration"
	
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/shadow_hunter/hex.lua"
						"Function"		"voodoo_start"
						"model"			"models/props_gameplay/frog.vmdl"
					}
	
					"RunScript"
					{
						"ScriptFile"		"heroes/shadow_hunter/hex.lua"
						"Function"			"HideWearables"
					}
				}
	
				"OnDestroy"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/shadow_hunter/hex.lua"
						"Function"		"voodoo_end"
					}
	
					"RunScript"
					{
						"ScriptFile"	"heroes/shadow_hunter/hex.lua"
						"Function"		"ShowWearables"
					}
				}
	
				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_BASE_OVERRIDE"		"%movespeed"
				}
	
				"States"
				{
					"MODIFIER_STATE_DISARMED"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_MUTED"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_HEXED"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_EVADE_DISABLED"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_BLOCK_DISABLED"	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	// Shadow Hunter Serpent Ward
	// Author: Noya
	// Date: 15.01.2015.
	// Notes: Summons an immobile serpentine ward to attack the Shadow Hunter's enemies. The ward has 75/135/135 hit points and is immune to magic. Lasts 40 seconds.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	40 sec.	6.5 sec.	30	50	N/A	N/A	11-13 damage	1
	//2	40 sec.	6.5 sec.	30	80	N/A	N/A	23-26 damage	3
	//3	40 sec.	6.5 sec.	30	80	N/A	N/A	41-45 damage	5
	"shadow_hunter_serpent_ward"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"shadow_hunter_serpent_ward"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"500 800 800"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"6.5"
	
		"AbilityManaCost"				"30"
	
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_venomancer.vsndevts"
			"particle"	"particles/units/heroes/hero_venomancer/venomancer_ward_cast.vpcf"
			"particle"	"particles/units/heroes/hero_venomancer/venomancer_ward_spawn.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"duration"				"40.0"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"ward_hp_tooltip"		"75 135 135 135"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"ward_damage_tooltip"	"12 24 43 53"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"plague_ward_1_count"	"1 0 0 0"
			}
			"05"
			{
				"var_type"				"FIELD_INTEGER"
				"plague_ward_2_count"	"0 1 0 0"
			}
			"06"
			{
				"var_type"				"FIELD_INTEGER"
				"plague_ward_3_count"	"0 0 1 0"
			}
			"07"
			{
				"var_type"				"FIELD_INTEGER"
				"plague_ward_4_count"	"0 0 0 1"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"		"Hero_Venomancer.Plague_Ward"
				"Target"			"CASTER"
			}
	
			"SpawnUnit"
			{
				"UnitName"			"npc_serpent_ward_1"
				"Target"			"POINT"
				"UnitCount"			"%plague_ward_1_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				// This makes sure units never get stuck
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"			"npc_serpent_ward_2"
				"Target"			"POINT"
				"UnitCount"			"%plague_ward_2_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"			"npc_serpent_ward_3"
				"Target"			"POINT"
				"UnitCount"			"%plague_ward_3_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"			"npc_serpent_ward_4"
				"Target"			"POINT"
				"UnitCount"			"%plague_ward_4_count"
				"Duration"			"%duration"
	
				"GrantsGold"		"1"
				"GrantsXP"			"1"
	
				"OnSpawn"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target"		"TARGET"
						"Duration"		"0.03"
					}
				}
			}
		}
	}
	// Passive Spawn Abilities for Base Buildings
	// All Spawn Times are normalized every 10 seconds (at least to begin with)
	"spawn_footman"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_footman"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_footman"
			{
				"Passive"			"1"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"human_footman"
					}
				}
	
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"human_footman"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_footman_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_footman_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_VICTORY"
				"Duration"				"2.7"
			}
		}
	}
	
	"spawn_rifleman"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_rifleman"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_rifleman"
			{
				"Passive"			"1"
				"EffectName" 		"particles/econ/items/effigies/status_fx_effigies/gold_effigy_ambient_radiant.vpcf"
				"EffectAttachType"	"follow_origin"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"human_rifleman"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"human_rifleman"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_rifleman_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_rifleman_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_4"
				"Duration"				"3.4"
			}
		}
	}
	"spawn_militia"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_militia"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_militia"
			{
				"Passive"			"1"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"human_militia"
					}
				}
				"ThinkInterval"  	"10.0"
				"EffectName" 		"particles/econ/items/effigies/status_fx_effigies/gold_effigy_ambient_radiant.vpcf"
				"EffectAttachType"	"follow_origin"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"human_militia"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_militia_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_militia_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_1"
				"Duration"				"1.2"
			}
		}
	}
	"spawn_spell_breaker"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_spell_breaker"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_spell_breaker"
			{
				"Passive"			"1"
				"EffectName" 		"particles/econ/items/effigies/status_fx_effigies/gold_effigy_ambient_radiant_lvl2.vpcf"
				"EffectAttachType"	"follow_origin"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"human_spell_breaker"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"human_spell_breaker"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_spell_breaker_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_spell_breaker_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_1"
				"Duration"				"1"
			}
		}
	}
	"spawn_knight"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_knight"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_knight"
			{
				"Passive"			"1"
				"EffectName" 		"particles/econ/items/effigies/status_fx_effigies/gold_effigy_ambient_radiant_lvl2.vpcf"
				"EffectAttachType"	"follow_origin"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"human_knight"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"human_knight"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_knight_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_knight_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_1"
				"Duration"				"1.4"
			}
		}
	}
	"spawn_siege_engine"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_siege_engine"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_siege_engine"
			{
				"Passive"			"1"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"human_siege_engine"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"human_siege_engine"
					}
				}
			}
		}
	}
	
	"spawn_archer"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_archer"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_archer"
			{
				"Passive"			"1"
				"EffectName"		"particles/econ/items/effigies/status_fx_effigies/jade_effigy_ambient_radiant.vpcf"
				"EffectAttachType"  "follow_origin"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"nightelf_archer"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"nightelf_archer"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_archer_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_archer_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_ATTACK"
				"Duration"				"1.1"
			}
		}
	}
	"spawn_huntress"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_huntress"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_huntress"
			{
				"Passive"			"1"
				"EffectName"		"particles/econ/items/effigies/status_fx_effigies/jade_effigy_ambient_radiant.vpcf"
				"EffectAttachType"  "follow_origin"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"nightelf_huntress"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"nightelf_huntress"
					}
				"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_huntress_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_huntress_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_1"
				"Duration"				"1"
			}
		}
	}
	"spawn_druid_of_the_talon"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_druid_of_the_talon"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_druid_of_the_talon"
			{
				"Passive"			"1"
				"EffectName"		"particles/econ/items/effigies/status_fx_effigies/jade_effigy_ambient_radiant.vpcf"
				"EffectAttachType"  "follow_origin"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"nightelf_druid_of_the_talon"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"nightelf_druid_of_the_talon"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_talon_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_talon_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_1"
				"Duration"				"1.8"
			}
		}
	}
	"spawn_dryad"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_dryad"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_dryad"
			{
				"Passive"			"1"
				"EffectName"		"particles/econ/items/effigies/status_fx_effigies/jade_effigy_ambient_radiant.vpcf"
				"EffectAttachType"  "follow_origin"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"nightelf_dryad"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"nightelf_dryad"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_dryad_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_dryad_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_2"
				"Duration"				"1.2"
			}
		}
	}
	"spawn_glaive_thrower"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_glaive_thrower"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_glaive_thrower"
			{
				"Passive"			"1"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"nightelf_glaive_thrower"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"nightelf_glaive_thrower"
					}
				}
			}
		}
	}
	
	"spawn_grunt"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_grunt"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"precache"
		{
			"particle"  "particles/econ/items/huskar/huskar_searing_dominator/huskar_searing_life_break.vpcf"
		}
	
		"Modifiers"
		{
			"modifier_spawn_grunt"
			{
				"Passive"			"1"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"orc_grunt"
					}
					"FireEffect"
					{
						"EffectName"        "particles/econ/items/huskar/huskar_searing_dominator/huskar_searing_life_break.vpcf"
						"EffectAttachType"  "start_at_customorigin"
						"ControlPointEntities"
						{
							"CASTER"	"attach_origin"
							"CASTER"	"attach_origin"
						}
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"orc_grunt"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_grunt_animation"
						"Target" 		"CASTER"
					}
					"FireEffect"
					{
						"EffectName"        "particles/econ/items/huskar/huskar_searing_dominator/huskar_searing_life_break.vpcf"
						"EffectAttachType"  "start_at_customorigin"
						"ControlPointEntities"
						{
							"CASTER"	"attach_origin"
							"CASTER"	"attach_origin"
						}
					}
				}
			}
			"modifier_spawn_grunt_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_3"
				"Duration"				"0.7"
			}
		}
	}
	"spawn_troll_headhunter"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_troll_headhunter"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_troll_headhunter"
			{
				"Passive"			"1"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"orc_troll_headhunter"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"orc_troll_headhunter"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_troll_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_troll_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_1"
				"Duration"				"1"
			}
		}
	}
	"spawn_raider"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_raider"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_raider"
			{
				"Passive"			"1"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"orc_raider"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"orc_raider"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_raider_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_raider_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_1"
				"Duration"				"1.2"
			}
		}
	}
	"spawn_tauren"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_tauren"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_tauren"
			{
				"Passive"			"1"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"orc_tauren"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"orc_tauren"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_tauren_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_tauren_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_2"
				"Duration"				"1.2"
			}
		}
	}
	"spawn_kodo_beast"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_kodo_beast"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_kodo_beast"
			{
				"Passive"			"1"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"orc_kodo_beast"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"orc_kodo_beast"
					}
				}
			}
		}
	}
	
	"spawn_ghoul"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_ghoul"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_ghoul"
			{
				"Passive"			"1"
				"EffectName" 		"particles/econ/items/effigies/status_fx_effigies/gold_effigy_ambient_radiant.vpcf"
				"EffectAttachType"	"follow_origin"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"undead_ghoul"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"undead_ghoul"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_ghoul_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_ghoul_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_LIFESTEALER_RAGE"
				"Duration"				"0.8"
			}
		}
	}
	"spawn_crypt_fiend"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_crypt_fiend"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_crypt_fiend"
			{
				"Passive"			"1"
				"EffectName" 		"particles/econ/items/effigies/status_fx_effigies/gold_effigy_ambient_radiant.vpcf"
				"EffectAttachType"	"follow_origin"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"undead_crypt_fiend"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"undead_crypt_fiend"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_crypt_fiend_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_crypt_fiend_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_1"
				"Duration"				"1"
			}
		}
	}
	"spawn_skeletal_mage"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_skeletal_mage"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_skeletal_mage"
			{
				"Passive"			"1"
				"EffectName" 		"particles/econ/items/effigies/status_fx_effigies/gold_effigy_ambient_radiant_lvl2.vpcf"
				"EffectAttachType"	"follow_origin"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"undead_skeletal_mage"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"undead_skeletal_mage"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_skeletal_mage_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_skeletal_mage_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_1"
				"Duration"				"1"
			}
		}
	}
	"spawn_abomination"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_abomination"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_abomination"
			{
				"Passive"			"1"
				"EffectName" 		"particles/econ/items/effigies/status_fx_effigies/gold_effigy_ambient_radiant_lvl2.vpcf"
				"EffectAttachType"	"follow_origin"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"undead_abomination"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"undead_abomination"
					}
					"ApplyModifier"
					{
						"ModifierName"	"modifier_spawn_abomination_animation"
						"Target" 		"CASTER"
					}
				}
			}
			"modifier_spawn_abomination_animation"
			{
				"IsHidden"				"1"
				"OverrideAnimation"     "ACT_DOTA_CAST_ABILITY_ROT"
				"Duration"				"1.1"
			}
		}
	}
	"spawn_meat_wagon"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"spawn_meat_wagon"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_spawn_meat_wagon"
			{
				"Passive"			"1"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"undead_meat_wagon"
					}
				}
				"ThinkInterval"  	"10.0"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/rally_point.lua"
						"Function"		"SpawnUnit"
						"UnitName"		"undead_meat_wagon"
					}
				}
			}
		}
	}
	// Tauren Chieftain Endurance Aura
	// Author: Noya
	// Date: 13.01.2015.
	// Notes: Increases the movement speed and attack rate of nearby friendly units.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	N/A	N/A	N/A	90	Air, Ground, Friend, Self	Movement Speed +10%, Attack Rate +5%	1
	//2	N/A	N/A	N/A	N/A	90	Air, Ground, Friend, Self	Movement Speed +20%, Attack Rate +10%	3
	//3	N/A	N/A	N/A	N/A	90	Air, Ground, Friend, Self	Movement Speed +30%, Attack Rate +15%	5
	"tauren_chieftain_endurance_aura"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"tauren_chieftain_endurance_aura"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_AURA | DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitTargetTeam" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
	
		"AbilityCastRange"    			"900"
	
		"precache"
		{
			"particle"	"particles/custom/aura_endurance.vpcf"
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"move_speed_bonus"		"10 20 30 40"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"attack_speed_bonus"	"5 10 15 20"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"900"
			}
		}
		"Modifiers"
		{
			"modifier_endurance_aura"
			{
				"EffectName"		"particles/custom/aura_endurance.vpcf"
				"EffectAttachType" 	"follow_origin"
	
				"Passive" 			"1"
				"IsHidden" 			"1"
				"IsBuff"			"1"
	
				"Aura" 				"modifier_endurance_aura_effect"
				"Aura_Radius" 		"%radius"
				"Aura_Teams" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
				"Aura_Types" 		"DOTA_UNIT_TARGET_ALL"
			}
			"modifier_endurance_aura_effect"
			{
				"IsBuff"				"1"
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"	"%attack_speed_bonus"
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%move_speed_bonus"
				}
			}
		}
	}
	// Tauren Chieftain Reincarnation
	// Author: Noya
	// Date: 13.1.2015.
	// Notes: When killed, the Tauren Chieftain will come back to life. The Tauren Chieftain will return with full mana.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	7 sec.	240 sec.	None	N/A	N/A	Self	Hero comes back to life	6
	
	// Issues: "MODIFIER_PROPERTY_REINCARNATION" is Unhandled, this uses lua Kill and gives the gold back when the caster dies
	// 	      It still counts the death count for the player, because there's currently no way to decrease deaths (only lua IncrementDeaths)
	
	"tauren_chieftain_reincarnation"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityTextureName"			"tauren_chieftain_reincarnation"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityCooldown"				"240 200 160"
		"AbilityManaCost"				"0"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"reincarnate_time"		"7.0"
			}
		}
	
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_skeletonking.vsndevts"
			"particle"	"particles/units/heroes/hero_skeletonking/wraith_king_reincarnate.vpcf"
			"particle"	"particles/units/heroes/hero_skeletonking/skeleton_king_death.vpcf"
		}
	
		"Modifiers"
		{
			"modifier_reincarnation"
			{
				"Passive"	"1"
				"IsHidden"	"1"
	
				"OnTakeDamage"
				{
					"RunScript"
					{
						"ScriptFile"		"heroes/tauren_chieftain/reincarnation.lua"
						"Function"			"Reincarnation"
					}
				}
			}
		}
	}
	// AbilityName
	// Author: 
	// Date: 13.1.2015.
	// Notes: A wave of force that ripples out from the Hero, causing damage to land units in a line.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	8 sec.	100	70	15	Ground, Enemy	75 damage	1
	//2	N/A	8 sec.	100	70	15	Ground, Enemy	130 damage	3
	//3	N/A	8 sec.	100	70	15	Ground, Enemy	200 damage	5
	"tauren_chieftain_shockwave"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"tauren_chieftain_shockwave"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_5"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"8.0"
	
		"AbilityManaCost"				"100"
		"AbilityDamage"					"75 130 200 270"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_magnataur/magnataur_shockwave.vpcf"
			"particle"	"particles/units/heroes/hero_magnataur/magnataur_shockwave_cast.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_magnataur.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"shock_speed"			"900"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"shock_width"			"250"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"shock_distance"		"700"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"shock_vision"			"300"
			}
		}
	
		"OnAbilityPhaseStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_shockwave_hidden_cast"
				"Target"		"CASTER"
			}
		}
	
		"OnSpellStart"
		{	
			"FireSound"
			{
				"EffectName"		"Hero_Magnataur.ShockWave.Cast"
				"Target"			"CASTER"
			}
	
			"FireSound"
			{
				"EffectName"		"Hero_Magnataur.ShockWave.Particle"
				"Target"			"CASTER"
			}
	
			"LinearProjectile"
			{
			    "Target"      	"POINT"
			    "EffectName" 	"particles/units/heroes/hero_magnataur/magnataur_shockwave.vpcf"
			    "MoveSpeed"   	"%shock_speed"
			    "StartRadius"   "%shock_width"
			    "StartPosition" "CASTER"
			    "EndRadius"     "%shock_width"
			    "FixedDistance" "%shock_distance"
			    "TargetTeams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
			    "TargetTypes"   "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
			    "TargetFlags"   "DOTA_UNIT_TARGET_FLAG_NONE"
			    "HasFrontalCone" "0"
			    "ProvidesVision" "1"
			    "VisionRadius" 	"%shock_vision"
			}
		}
	
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"		"0"
	
			"Damage"
			{
				"Target"		 "TARGET"
				"Type"			 "DAMAGE_TYPE_MAGICAL"
				"Damage"		 "%AbilityDamage"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Magnataur.ShockWave.Target"
				"Target"		"TARGET"
			}			
		}
	
		"Modifiers"
		{
			"modifier_shockwave_hidden_cast"
			{
				"IsHidden"	"1"
				"Duration"	"0.5"
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"		"particles/units/heroes/hero_magnataur/magnataur_shockwave_cast.vpcf"
						"EffectAttachType" 	"attach_attack1"
						"Target" 			"CASTER"
						"ControlPointEntities"
						{
							"CASTER"		"attach_attack1"
							"CASTER"		"attach_attack1"
						}
					}
				}
			}
		}
	}
	// Tauren Chieftain War Stomp
	// Author: Noya
	// Date: 13.1.2015.
	// Notes: Slams the ground, stunning and damaging nearby enemy units.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	6 sec.	90	N/A	25	Ground, Enemy	25 damage, 3 (Hero 2) sec. stun	1
	//2	N/A	6 sec.	90	N/A	30	Ground, Enemy	50 damage, 4 (Hero 3) sec. stun	3
	//3	N/A	6 sec.	90	N/A	35	Ground, Enemy	75 damage, 5 (Hero 4) sec. stun	5
	"tauren_chieftain_war_stomp"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"tauren_chieftain_war_stomp"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_1"
	
		"AbilityCastRange"				"250 300 350 400"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"6.0"
	
		"AbilityManaCost"				"90"
		"AbilityDamage"					"25 50 75 100"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_centaur/centaur_warstomp.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_centaur.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"250 300 350 400"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"stun_hero_duration"	"2.0 3.0 4.0 5.0"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"stun_creep_duration"	"3.0 4.0 5.0 6.0"
			}
		}
	
		"OnSpellStart"
		{
			"FireEffect"
			{
				"EffectName"		"particles/units/heroes/hero_centaur/centaur_warstomp.vpcf"
				"EffectAttachType" 	"follow_origin"
				"EffectRadius"		"%radius"
				"Target" 			"CASTER"
				"ControlPoints"
				{
					"01"	"%radius 0 %radius"
				}
			}
	
			"FireSound"
			{
				"EffectName"		"Hero_Centaur.HoofStomp"
				"Target" 			"CASTER"
			}
	
			"Damage"
			{
				"Target"		 "TARGET"
				"Type"			 "DAMAGE_TYPE_MAGICAL"
				"Damage"		 "%AbilityDamage"
			}
	
			"ApplyModifier"
			{
				"ModifierName"    "modifier_war_stomp"
				"Target"
				{
					"Center"	"CASTER"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO"
				}
				"Duration"		"%stun_hero_duration"
			}
	
			"ApplyModifier"
			{
				"ModifierName"    "modifier_war_stomp"
				"Target"
				{
					"Center"	"CASTER"
					"Radius"	"%radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"		"%stun_creep_duration"
			}
		}
	
		"Modifiers"
		{
			"modifier_war_stomp"
			{
				"IsDebuff"	"1"
				"States"
				{
					"MODIFIER_STATE_STUNNED" "MODIFIER_STATE_VALUE_ENABLED"			
				}
				"OverrideAnimation"	"ACT_DOTA_DISABLED"
				"EffectName"		"particles/generic_gameplay/generic_stunned.vpcf"
				"EffectAttachType"	"follow_overhead"
			}
		}
	}
	// Tinker Cluster Rockets
	// Author: Noya
	// Date: 03.02.2015.
	// Notes: Bombards an area with rockets, stunning enemy land units for 1 second and damaging nearby enemy units.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	1 sec.	6 sec.	70	80	23	Ground, Enemy, Neutral, Building	30 damage	1
	//2	1 sec.	6 sec.	70	80	26	Ground, Enemy, Neutral, Building	65 damage	3
	//3	1 sec.	6 sec.	70	80	29	Ground, Enemy, Neutral, Building	100 damage	5
	"tinker_cluster_rockets"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"tinker_cluster_rockets"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_AOE"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"800"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"6.0"
	
		"AbilityManaCost"				"70"
		"AbilityDamage"					"35 65 95 125"
	
		"AOERadius"						"%radius"
		"AbilityChannelTime"			"0.5 1.0 1.5 2.0"
	
		"precache"
		{
			"particle" 	"particles/econ/items/gyrocopter/hero_gyrocopter_gyrotechnics/gyro_rocket_barrage.vpcf"
			"particle"  "particles/units/heroes/hero_tinker/tinker_missile.vpcf"
			"particle"	"particles/units/heroes/hero_tinker/tinker_missle_explosion.vpcf"
			"particle"	"particles/units/heroes/hero_tinker/tinker_rearm.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_gyrocopter.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"230 260 290 320"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"stun_duration"			"1"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"projectile_speed"		"900"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"projectile_radius"		"100"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"Target"			"CASTER"
				"EffectName"		"Hero_Tinker.Heat-Seeking_Missile"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_cluster_rockets"
				"Target" 		"CASTER"
			}
	
			"RunScript"
			{
				"ScriptFile"	"heroes/tinker/cluster_rockets.lua"
				"Function"		"StartClusterRockets"
				"Target"		"POINT"
			}
		}
	
		"OnChannelFinish"
		{
			"RemoveModifier"
			{
				"ModifierName"	"modifier_cluster_rockets"
				"Target" 		"CASTER"
			}
		}
	
		"OnProjectileHitUnit"
		{
			"FireSound"
			{
				"Target"			"TARGET"
				"EffectName"		"Hero_Gyrocopter.Rocket_Barrage.Impact"
			}
		
			"FireEffect"
			{
				"Target"			"TARGET"
				"EffectName"		"particles/units/heroes/hero_tinker/tinker_missle_explosion.vpcf"
				"EffectAttachType"	"start_at_customorigin"
				"ControlPointEntities"
				{
					"TARGET"		"attach_origin"
				}
			}
	
			"ActOnTargets"
			{
				"Target"
				{
					"Center"  	"PROJECTILE"
					"Radius" 	"%projectile_radius"
					"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				}
			
				"Action"    
				{
					"Damage"
					{
						"Target"	"TARGET"
						"Damage"	"%AbilityDamage"
						"Type"		"DAMAGE_TYPE_MAGICAL"
					}
	
					"Stun"
					{
						"Duration"   "%stun_duration"
						"Target" 	 "TARGET"
					}
				}
			}
		}
	
		"Modifiers"
		{
			"modifier_cluster_rockets"
			{
				"IsHidden"			"1"
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"        "particles/units/heroes/hero_tinker/tinker_rearm.vpcf"
						"EffectAttachType"  "attach_origin"
						"Target"            "CASTER"
						"ControlPointEntities"
						{
							"CASTER"	"attach_origin"
							"CASTER"	"attach_attack1"
						}
					}
				}
		
				"ThinkInterval"  "0.1"
				"OnIntervalThink"
				{
					"FireEffect"
					{
						"EffectName"        "Hero_Gyrocopter.Rocket_Barrage.Launch"
						"EffectAttachType"  "follow_origin"
						"Target"            "CASTER"
					}
	
					"RunScript"
					{
						"ScriptFile"	"heroes/tinker/cluster_rockets.lua"
						"Function"		"FireClusterRocket"
					}
				}
			}
		}
	}
	// Tinker Engineering Upgrade
	// Author: Noya
	// Date: 03.02.2015.
	// Notes: Improves other Tinker abilities with each level learned:
	//Cluster Rockets - Larger Area.
	//Pocket Factory - Builds Clockwerk Goblins more quickly.
	//Robo-Goblin - Increases armor and Strength; enhances Demolish.
	
	//Also gives bonus damage and increases the Tinker's movement speed.
	"tinker_engineering_upgrade"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"tinker_engineering_upgrade"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"						"FIELD_INTEGER"
				"bonus_damage"					"2 4 6 8"
			}
			"02"
			{
				"var_type"						"FIELD_INTEGER"
				"bonus_movement_speed"			"10 20 30 40"
			}
			"03"
			{
				"var_type"					 	"FIELD_FLOAT"
				"factory_spawn_time_reduced"	"1.0 2.0 3.0 4.0"
			}
			"04"
			{	
				"var_type"						"FIELD_INTEGER"
				"cluster_extra_radius"			"30 60 90 120"
			}
			"05"
			{	
				"var_type"						"FIELD_INTEGER"
				"robo_goblin_extra_str"			"2 4 6 8"
			}
			"05"
			{	
				"var_type"						"FIELD_INTEGER"
				"robo_goblin_extra_armor"		"1 2 3 4"
			}
		}
	
		"Modifiers"
		{
			"modifier_engineering_upgrade"
			{
				"Passive"			"1"
				"IsHidden"			"1"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE" 		"%bonus_damage"
				    "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" 	"%bonus_movement_speed" 
				}
			}
	
			"modifier_robo_goblin_upgrade"
			{
				"IsHidden"			"1"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_STATS_STRENGTH_BONUS" 		"%robo_goblin_extra_str"
				    "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" 		"%robo_goblin_extra_armor" 
				}
			}
		}
	}
	// Tinker Pocket Factory
	// Author: Noya
	// Date: 03.02.2015.
	// Notes: Creates a factory which automatically constructs Clockwerk Goblins. Clockwerk Goblins explode upon death, causing damage to nearby enemy units.
	//Level	Duration (Hero)	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	45 sec.	35 sec.	125	50	N/A	N/A	30 damage	1
	//2	45 sec.	35 sec.	125	50	N/A	N/A	60 damage	3
	//3	45 sec.	35 sec.	125	50	N/A	N/A	80 damage	5
	"tinker_pocket_factory"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"tinker_pocket_factory"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_3"
	
		"AbilityCastRange"				"500"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"35.0"
	
		"AbilityManaCost"				"125"
	
		"precache"
		{
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_tinker.vsndevts"
	
			//Factory
			"model"		"models/buildings/building_plain_reference.vmdl"
	
			//Goblins
			"model"		"models/heroes/rattletrap/rattletrap.vmdl"
			"model"		"models/items/rattletrap/forge_warrior_claw/forge_warrior_claw.vmdl"
			"model"		"models/items/rattletrap/forge_warrior_helm/forge_warrior_helm.vmdl"
			"model"		"models/items/rattletrap/forge_warrior_steam_exoskeleton/forge_warrior_steam_exoskeleton.vmdl"
			"model"		"models/items/rattletrap/forge_warrior_rocket_cannon/forge_warrior_rocket_cannon.vmdl"
			"particle"	"particles/econ/items/clockwerk/clockwerk_mortar_forge/clockwerk_mortar_ambient.vpcf"
			
			//Goblin Ability
			"particle"	"particles/units/heroes/hero_techies/techies_suicide.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_techies.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"factory_duration"	"45"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Tinker.Rearm"
				"Target" 		"CASTER"
			}
			"RunScript"
			{
				"ScriptFile"	"heroes/tinker/pocket_factory.lua"
				"Function"		"BuildPocketFactory"
				"Target"		"POINT"
			}
		}
	}
	
	//Goblins have a limited duration and have suicide ability
	"tinker_pocket_factory_spawn_goblin"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"tinker_pocket_factory"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"AbilityCooldown"				"8.0"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"goblin_duration"	"10"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"spawn_ratio"		"5.0"
			}
			"03"
			{
				"var_type"					 "FIELD_FLOAT"
				"reduction_per_eng_level"	"1.0"
			}
		}
	
		"Modifiers"
		{
			"modifier_spawn_goblin"
			{
				"Passive"			"1"
				"IsHidden"			"1"
		
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/tinker/pocket_factory.lua"
						"Function"		"StartGoblinSpawn"
					}
				}
			}
		}
	}
	
	//Explosion deals 30/60/80 damage.
	"tinker_clockwerk_goblin_kaboom"
	{
		"BaseClass"				"ability_datadriven"
		"AbilityTextureName"	"tinker_clockwerk_goblin_kaboom"
		"AbilityBehavior"		"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityUnitTargetTeam"	"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
		"AbilityUnitDamageType"	"DAMAGE_TYPE_MAGICAL"
		"MaxLevel"				"4"
	
		"AbilityCastRange"		"100"
		"AbilityCastPoint"		"0.0"
	
		"AbilityDamage"			"30 60 80 100"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"small_radius"		"100"
			}
	
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"big_radius"		"250"
			}
	
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"big_radius_dmg"	"0.5"
			}
		}
	
		"OnSpellStart"
		{
			"FireEffect"
			{
				"Target"		"CASTER"
				"EffectName"	"particles/units/heroes/hero_techies/techies_suicide.vpcf"
				"EffectAttachType"	"follow_origin"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Techies.Suicide"
				"Target"	"CASTER"
			}
	
			"Damage"
			{
				"Target"
				{
					"Center"	"CASTER"
					"Radius"	"%small_radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
				}
				"Damage"	"%AbilityDamage * %big_radius_dmg"
				"Type"	"DAMAGE_TYPE_MAGICAL"
			}
			
			"Damage"
			{
				"Target"
				{
					"Center"	"CASTER"
					"Radius"	"%big_radius"
					"Teams"		"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"		"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
				}
				"Damage"	"%AbilityDamage * %big_radius_dmg"
				"Type"	"DAMAGE_TYPE_MAGICAL"
			}
			
			"Damage"
			{
				"Target"	"CASTER"			
				"Damage"	"99999"
				"Type"		"DAMAGE_TYPE_PURE"
			}
		}
	
		"Modifiers"
		{
			"modifier_summoned"
			{
				"IsHidden"			"1"
		
				"States"
				{
					"MODIFIER_STATE_DOMINATED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	// Tinker Robo Goblin
	// Author: Noya
	// Date: 03.02.2015.
	// Notes: Transforms the Tinker into a Robo-Goblin, a powerful armored form that has the following traits:
	//-Bonus Strength and armor.
	//-Use of the Demolish ability, which grants bonus damage against buildings.
	//-The Tinker becomes mechanical, rendering him immune to stun, most offensive spells, and several beneficial spells.
	
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	Unlimited	1 sec.	25	N/A	Personal	Self	Transforms into Robo-Goblin	6
	"tinker_robo_goblin"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"tinker_robo_goblin"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
		"AbilityCastAnimation"			"ACT_DOTA_TINKER_REARM3"
	
		"AbilityCastPoint"				"1.0"
		"AbilityCooldown"				"0.0"
	
		"AbilityManaCost"				"25"
	
		"precache"
		{
			"particle" 	"particles/units/heroes/hero_magnataur/magnataur_shockwave.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_tinker.vsndevts"
			"model"		"models/courier/mechjaw/mechjaw.vmdl"
		}
		
		"AbilitySpecial"
		{
			"01"
			{	
				"var_type"				"FIELD_INTEGER"
				"extra_str"				"5 8 11"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"extra_armor"			"1 2 3"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"extra_dmg_to_buildings"	"3.5 5 7.5"
			}
			"04"
			{
				"var_type"				"FIELD_FLOAT"
				"transformation_time"	"1.0"
			}
		}
	
		"OnUpgrade"
		{
			"LevelUpAbility"
			{
				"Target" 		"CASTER"
				"AbilityName"	"tinker_normal_form"
			}
		}
	
		"OnAbilityPhaseStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_Tinker.RearmStart"
				"Target" 		"CASTER"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_robot_transform"
				"Target" 		"CASTER"
			}
		}
	
		"Modifiers"
		{
			"modifier_robot_transform"
			{
				"Duration"		"%transformation_time"
	
				"States"
				{
					"MODIFIER_STATE_STUNNED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
	
				"OnCreated"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_invulnerable"
						"Target"		"CASTER"
						"Duration"		"0.03"
					}
				}
	
				"OnDestroy"
				{			
					"ApplyModifier"
					{
						"ModifierName"	"modifier_robot_form"
						"Target" 		"CASTER"
					}
				}
			}
	
			"modifier_robot_form"
			{
				"Passive"			"0"
				"IsHidden"			"1"
			
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"			"heroes/tinker/robo_goblin.lua"
						"Function"				"RoboGoblinStart"
						"model"					"models/courier/mechjaw/mechjaw.vmdl"
						"sub_ability_name"		"tinker_normal_form"
						"upgrade_ability_name"	"tinker_engineering_upgrade"
						"sub_modifier_name"		"modifier_robo_goblin_upgrade"
					}
	
					"FireSound"
					{
						"EffectName"	"tinker_tink_spawn_03"
						"Target"		"CASTER"
					}
	
				}
	
				"OnAttackLanded"
				// "%attack_damage" is set to the damage value before mitigation
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/tinker/robo_goblin.lua"
						"Function"		"DealSiegeDamage"
						"Damage"		"%attack_damage"
					}
				}
	
				"Properties"
				{
					"MODIFIER_PROPERTY_STATS_STRENGTH_BONUS" "%extra_str"
				    "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%extra_armor" 
				}
			}
		}
	}
	
	// Transform back
	"tinker_normal_form"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"tinker_normal_form"
		"MaxLevel"						"1"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_HIDDEN"
		"AbilityCastAnimation"			"ACT_DOTA_TINKER_REARM3"
	
		"AbilityCastPoint"				"0.0"
		"AbilityCooldown"				"1.0"
	
		"AbilityManaCost"				"25"
	
		"precache"
		{
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_tinker.vsndevts"
			"model"		"models/courier/mechjaw/mechjaw.vmdl"
		}
		
		"AbilitySpecial"
		{
			"01"
			{	
				"var_type"				"FIELD_INTEGER"
				"extra_str"				"5"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"extra_armor"			"1 4"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"extra_dmg_to_buildings"	"3.5"
			}
			"04"
			{
				"var_type"				"FIELD_FLOAT"
				"transformation_time"	"1.0"
			}
		}
	
		"OnAbilityPhaseStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_tinker_transform"
				"Target"		"CASTER"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Tinker.Rearm"
				"Target" 		"CASTER"
			}
		}
	
		"Modifiers"
		{
			"modifier_tinker_transform"
			{
				"Duration"		"%transformation_time"
	
				"States"
				{
					"MODIFIER_STATE_STUNNED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
	
				"OnCreated"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_invulnerable"
						"Target"		"CASTER"
						"Duration"		"0.03"
					}
				}
	
				"OnDestroy"
				{
					"RunScript"
					{
						"ScriptFile"			"heroes/tinker/robo_goblin.lua"
						"Function"				"RoboGoblinEnd"
						"main_ability_name"		"tinker_robo_goblin"
						"remove_modifier_name"	"modifier_robot_form"
						"sub_modifier_name"		"modifier_robo_goblin_upgrade"					
					}
				}
			}
		}
	}
	"tower_feedback"
	{
		"BaseClass"						"antimage_mana_break"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"		
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"damage_per_burn"		"1"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"mana_per_hit"			"50"
			}
		}
	}
	
	
	"tower_aoe"
	{
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"	
		
		
		"AbilityTextureName"			"upgrade_cannon_tower"
		
		
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"damage"				"100"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"150"
			}
		}
		"Modifiers"
		{
	
			"modifier_aoe_cannon"		
			{
				"IsHidden"	"1"
				"Passive"	"1"
	
				"OnAttackLanded"
				{
				
					//"RunScript"
					//{
						//"ScriptFile"	"buildings/tower_aoe.lua"
						//"Function"		"OnHit"
						//"Radius"		"%radius"
						//"Damage"		"%damage"
					//}
					
					"Damage"
					{
						"Target"
						{
							"Center"  	"TARGET"
							"Radius" 	"%radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
						}
						"Type"				"DAMAGE_TYPE_PHYSICAL"
						"Damage"			"%damage"
					}
					
				} 
			}
		}
	}
	"true_sight"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"true_sight"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_true_sight"
			{
				"Passive"			"1"
				"IsHidden"			"1"
			
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"buildings/upgrades.lua"
						"Function"		"ApplyTrueSightModifier"
					}
				}				
			}
		}	
	}
	
	
	"human_magic_sentry"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"true_sight"
		"MaxLevel" 						"1"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"Modifiers"
		{
			"modifier_true_sight"
			{
				"Passive"			"1"
				"IsHidden"			"1"
		
				"ThinkInterval"  "0.03"
				"OnIntervalThink"
				{
					"ActOnTargets"
					{
						"Target"
						{
							"Center"  	"TARGET"
							"Radius" 	"700"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
						}
					
						"Action"    
						{
							"RemoveModifier"
							{
								"ModifierName"	"modifier_truesight_reveal"
								"Target" 		"TARGET"
							}
							"ApplyModifier"
							{
								"ModifierName"	"modifier_truesight_reveal"
								"Target" 		"TARGET"
							}
						}
					}			
				}
			}
	
			"modifier_true_sight_reveal"
			{
				"IsHidden"			"1"
				"Duration"			"0.03"
				"States"
				{
					"MODIFIER_STATE_INVISIBLE"	"MODIFIER_STATE_VALUE_DISABLED"
				}
			}
		}	
	}
	//------------------------//
	// 	   Human Abilities    //
	//------------------------//
	"rifleman_headshot"
	{
		"BaseClass"						"sniper_headshot"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"	
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
			
		"AbilityDamage"					"15"
			
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"slow_duration"			"0.5"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"proc_chance"			"20"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"slow"					"-50"
			}
		}
	
		"precache"
		{
			"particle"  "particles/units/heroes/hero_sniper/sniper_headshot_slow.vpcf"
		}
	
		"Modifiers"
		{
			"modifier_rifleman_headshot_passive"
			{
				"Passive"			"1"
				"IsHidden"			"1"
				
				"OnAttackLanded"
				{
					"Random"
					{
						"Chance"		"%proc_chance"
						"PseudoRandom"	"DOTA_PSEUDO_RANDOM_SNIPER_HEADSHOT"
						
						"OnSuccess"
						{
							"ApplyModifier"
							{
								"Target"
								{
									"Center"		"TARGET"
									"Types"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
									"Flags"			"DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
								}
								"ModifierName"		"modifier_rifleman_headshot_debuff"
							}
							
							"Damage"
							{
								"Target"
								{
									"Center"		"TARGET"
									"Types"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_MECHANICAL"
								}
								"Damage"			"%AbilityDamage"
								"Type"				"DAMAGE_TYPE_PHYSICAL"
							}
						}
					}
				}
			}
		
			"modifier_rifleman_headshot_debuff"
			{
				"IsHidden"			"0"
			
				"Duration"			"%slow_duration"
				
				"EffectName"		"particles/units/heroes/hero_sniper/sniper_headshot_slow.vpcf"
				"EffectAttachType"	"follow_overhead"
			
				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"	"%slow"
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"	"%slow"
				}
			}
		}
	}
	
	"militia_courage"
	{
	
	}
	
	"spell_breaker_feedback"
	{
		"BaseClass"						"antimage_mana_break"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"		
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"MaxLevel"						"1"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"damage_per_burn"		"1"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"mana_per_hit"			"3"
			}
		}
	}
	
	"knight_bash"
	{
		"BaseClass"						"slardar_bash"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"	
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_YES"
		"MaxLevel"						"1"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"chance"				"25"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_damage"			"25"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"duration"				"1.0"
			}
			"04"
			{
				"var_type"				"FIELD_FLOAT"
				"duration_creep"		"2.0"
			}
		}
	}
	
	
	
	//------------------------//
	// 	 Night Elf Abilities  //
	//------------------------//
	
	// Attacks get faster the longer they attack a single target
	"archer_marksmanship"
	{
		"BaseClass"						"troll_warlord_fervor"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityTextureName"			"troll_warlord_fervor"
		"MaxLevel"						"1"
		
		// Casting
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"max_stacks"			"4"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"attack_speed"			"15"
			}
		}
	}
	
	"huntress_moon_glaive"
	{
		"BaseClass"						"luna_moon_glaive"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_YES"
		"MaxLevel"						"1"
		
		"AbilityTextureName" 			"luna_moon_glaive"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"range"						"500"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"bounces"					"1"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"damage_reduction_percent"	"35"
			}
		}
	}
	
	// -Armor
	"druid_faerie_fire"
	{
	
	}
	
	"dryad_poison_slow"
	{
		"AbilityBehavior"		"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"BaseClass"				"ability_datadriven"
		"AbilityTextureName"	"gnoll_assassin_envenomed_weapon"
		"AbilityUnitDamageType"	"DAMAGE_TYPE_MAGICAL"
		"Aura_Flags"			"DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
		"MaxLevel"				"1"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"duration"		"5"
			}
			"02"
			{
				"var_type"		"FIELD_INTEGER"
				"damage"		"4"
			}
			"03"
			{
				"var_type"		"FIELD_INTEGER"
				"attack_speed"	"-25"
			}
			"04"
			{
				"var_type"	"FIELD_INTEGER"
				"move_speed"	"-50"
			}
	
		}
	
		"Modifiers"
		{
			"modifier_dryad_poison_slow"
			{
				"Passive"	"1"
				"IsHidden"	"1"
				"OnAttackLanded"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_poison_slow"
						"Target"		"TARGET"
					}
	
					"Damage"
					{
						"Type"		"DAMAGE_TYPE_MAGICAL"
						"Damage"	"%damage"
						"Target"	"TARGET"
					}
				}
			}
	
			"modifier_poison_slow"
			{
				"IsDebuff"			"1"
				"IsPurgable"		"0"
				"EffectName"		"particles/neutral_fx/gnoll_poison_debuff.vpcf"
				"EffectAttachType"	"attach_hitloc"
				"Duration"	"%duration"
				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"	"%move_speed"
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"	"%attack_speed"
				}
			}
		}
	}
	
	"dryad_spell_immunity"
	{
		"BaseClass"				"ability_datadriven"
		"AbilityBehavior"		"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityTextureName"	"enchantress_untouchable"
		"MaxLevel"				"1"
	
		"Modifiers"
		{
			"modifier_dryad_spell_immunity"
			{
				"Passive"			"1"
				"IsHidden"			"1"
		
				"States"
				{
					"MODIFIER_STATE_MAGIC_IMMUNE"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	
	//------------------------//
	// 		Orc Abilities     //
	//------------------------//
	
	// Damage buff when hit
	"grunt_berserker_rage"
	{
	
	}
	
	// Faster attack speed on health missing
	"headhunter_berserker_blood"
	{
	
	}
	
	// Chance to apply net on hit
	"raider_ensnaring_attacks"
	{
	
	}
	
	// Gives a 25% chance that an attack will deal bonus damage to nearby units.
	"tauren_pulverize"
	{
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_PHYSICAL"	
		"AbilityTextureName"			"earthshaker_enchant_totem"
		"MaxLevel"						"1"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"chance"				"25"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_damage"			"100"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"250"
			}
		}
		
		"precache"
		{
			"particle"	"particles/econ/items/earthshaker/egteam_set/hero_earthshaker_egset/earthshaker_aftershock_egset.vpcf"
			"particle"	"particles/econ/items/earthshaker/egteam_set/hero_earthshaker_egset/earthshaker_totem_buff_egset.vpcf"
		}
	
		"Modifiers"
		{
			"modifier_tauren_pulverize_passive"		
			{
				"IsHidden"	"1"
				"Passive"	"1"
	
				"OnAttackStart"
				{
					"RemoveModifier"
					{
						"ModifierName"	"modifier_tauren_pulverize_attack"
						"Target" 		"CASTER"
					}
					"Random"
					{
						"Chance" "%chance"
						"OnSuccess"
						{
							"ApplyModifier"
							{
								"ModifierName" "modifier_tauren_pulverize_attack"
								"Target"	   "CASTER"	
							}
						}
					}
				}
			}
	
			"modifier_tauren_pulverize_attack"
			{
				"IsHidden"	"1"
				"OverrideAnimation"	"ACT_DOTA_CAST_ABILITY_2"
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"		"particles/econ/items/earthshaker/egteam_set/hero_earthshaker_egset/earthshaker_totem_buff_egset.vpcf"
						"EffectAttachType"	"start_at_customorigin"
						"Target"            "CASTER"
						"ControlPointEntities"
						{
							"CASTER"	"attach_totem"
							"CASTER"	"attach_totem"
							"CASTER"	"attach_totem"
						}
					}
				}
				"OnAttackLanded"
				{	
					"Damage"
					{
						"Target"
						{
							"Center"  	"TARGET"
							"Radius" 	"%radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
						}
						"Type"				"DAMAGE_TYPE_MAGICAL"
						"Damage"			"%bonus_damage"
					}
					"FireEffect"
					{
						"EffectName"		"particles/econ/items/earthshaker/egteam_set/hero_earthshaker_egset/earthshaker_aftershock_egset.vpcf"
						"EffectAttachType"	"follow_origin"
						"Target"			"TARGET"
						"ControlPoints"
						{
							"01"	"%radius 1 1"
						}
					}
					"RemoveModifier"
					{
						"ModifierName"	"modifier_tauren_pulverize_attack"
						"Target" 		"CASTER"
					}
				} 
			}
		}
	}
	
	//------------------------//
	//     Undead Abilities   //
	//------------------------//
	
	// Lifesteal on last hit
	"ghoul_cannibalize"
	{
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityTextureName"			"life_stealer_feast"
		"MaxLevel"						"1"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"health_gained_on_kill"	"100"
			}
		}
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_life_stealer/life_stealer_feast.vpcf"
		}
	
		"Modifiers"
		{
			"modifier_ghoul_cannibalize"
			{
				"Passive"			"1"
				"IsHidden"			"1"
		
				"OnKill"
				{
					"Heal"
					{
						"Target"        "CASTER"
						"HealAmount"	"%health_gained_on_kill"
					}
	
					"FireEffect"
					{
						"EffectName"		"particles/units/heroes/hero_life_stealer/life_stealer_feast.vpcf"
						"EffectAttachType"	"attach_hitloc"
						"Target"			"CASTER"
					}
				}
			}
		}
	}
	
	"crypt_fiend_double_attack"
	{
		"BaseClass"						"weaver_geminate_attack"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_YES"
		"MaxLevel"						"1"
		
		"AbilityCooldown"				"6.0"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"delay"					"0.25"
			}
		}		
	}
	
	"skeletal_mage_raise_dead"
	{
	
	}
	
	"abomination_disease_cloud"
	{
		"BaseClass"					"ability_datadriven"
		"AbilityBehavior"			"DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"AbilityUnitDamageType"		"DAMAGE_TYPE_MAGICAL"
		"AbilityCastRange"			"%radius"
		"MaxLevel"					"1"
		"AbilityTextureName"		"pudge_rot"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"radius"			"200"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"damage_per_second"	"25.0"
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"think_interval"	"0.1"
			}
		}
	
		"precache"
		{
			"particle"  "particles/units/heroes/hero_pudge/pudge_rot.vpcf"
		}
	
		"Modifiers"
		{
			"modifier_disease_cloud_aura"
			{
				"Passive"			"1"
				"IsHidden"			"1"
	
				"OnCreated"
				{
					"AttachEffect"
					{
						"Target"			"CASTER"
						"EffectName"		"particles/units/heroes/hero_pudge/pudge_rot.vpcf"
						"EffectAttachType"	"follow_origin"
						"ControlPoints"
						{
							"00"	"0 0 0"
							"01"	"%radius 0 0"
						}
					}
				}
	
				"Aura"          	"modifier_disease_cloud_debuff"
				"Aura_Radius"   	"%radius"
				"Aura_Teams"    	"DOTA_UNIT_TARGET_TEAM_ENEMY"
				"Aura_Types"    	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				"Aura_Flags"    	"DOTA_UNIT_TARGET_FLAG_NONE"
			}
	
			"modifier_disease_cloud_debuff"
			{
				"IsDebuff"			"1"
				"ThinkInterval"  	"%think_interval"
				"OnIntervalThink"
				{
					"Damage"
					{
						"Target"		"TARGET"
						"Type"			"DAMAGE_TYPE_MAGICAL"
						"Damage"		"%damage_per_second * %think_interval"
					}
				}
			}
		}
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	// These abilities apply and show the current level of upgrade on the unit.
	// The modifier is stacked and increased every time the player researches a new rank of the upgrade
	"upgrade_weapon"
	{
	    "BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_weapon"
		"MaxLevel" 						"20"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_damage"			"2"
			}
		}
	
		"Modifiers"
		{
			"modifier_upgrade_weapon"
			{
				"Attributes"		"MODIFIER_ATTRIBUTE_MULTIPLE"
				"Properties"
				{
					"MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE" "%bonus_damage"
				}
			}
		}
	}
	
	"upgrade_armor"
	{
	    "BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_armor"
		"MaxLevel" 						"20"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_armor"			"2"
			}
		}
	
		"Modifiers"
		{
			"modifier_upgrade_armor"
			{
				"Attributes"		"MODIFIER_ATTRIBUTE_MULTIPLE"	
				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"	"%bonus_armor"
				}
			}
		}
	}
	
	// Human Upgrade: +Health +MS
	"upgrade_human_training"
	{
	    "BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_human_training"
		"MaxLevel" 						"20"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_health"			"30"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_movement_speed"	"10"
			}
		}
	
	
		"Modifiers"
		{
			"modifier_upgrade_human_training"
			{
				"Attributes"		"MODIFIER_ATTRIBUTE_MULTIPLE"
				
				// (Health Bonus added is added directly on lua)
	
				"Properties"
				{
				    "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT" "%bonus_movement_speed"
				}
			}
		}
	}
	
	// Night Elf Upgrade: +Range
	"upgrade_nightelf_training"
	{
	    "BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_nightelf_training"
		"MaxLevel" 						"20"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"bonus_attack_range"		"15"
			}
		}
	
		"Modifiers"
		{
			"modifier_upgrade_nightelf_training"
			{
				"Attributes"		"MODIFIER_ATTRIBUTE_MULTIPLE"	
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACK_RANGE_BONUS" "%bonus_attack_range"
				}
			}
		}
	}
	
	// Orc Upgrade: +Health +Damage
	"upgrade_orc_training"
	{
	    "BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_orc_training"
		"MaxLevel" 						"20"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_health"			"15"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_damage"			"2"
			}
		}
	
	
		"Modifiers"
		{
			"modifier_upgrade_orc_training"
			{
				"Attributes"		"MODIFIER_ATTRIBUTE_MULTIPLE"
				"OnCreated"
				{
					// Add Health through lua because MODIFIER_PROPERTY_HEALTH_BONUS doesn't work on npc_dota_creature zzz
					"RunScript"
					{
						"ScriptFile"	"upgrades.lua"
						"Function"		"ApplyHealthBonus"
					}
				}
				"Properties"
				{
				    "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE" "%bonus_damage" 
				}
			}
		}
	}
	
	// Undead Upgrade: +AS
	"upgrade_undead_training"
	{
	    "BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"upgrade_undead_training"
		"MaxLevel" 						"20"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_attack_speed"	"10"
			}
		}
	
	
		"Modifiers"
		{
			"modifier_upgrade_undead_training"
			{
				"Attributes"		"MODIFIER_ATTRIBUTE_MULTIPLE"
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%bonus_attack_speed"
				}
			}
		}
	}
	// Warden Avatar of Vengeance
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: Creates a powerful avatar that summons invulnerable spirits from friendly corpses to attack your enemies. When the Avatar of Vengeance dies, the spirits vanish.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//N/A	N/A	180 sec.	200	N/A	N/A	N/A	Creates Avatar of Vengeance	6
	
	// TODO: Make AI for Autocast
	//		 Give Spirit of Vengeance an icon
	//		 Make a corpse mechanic that actually works like intended
	"warden_avatar_of_vengeance"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"warden_avatar_of_vengeance"
		"MaxLevel"						"3"
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_1"
	
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"180"
	
		"AbilityManaCost"				"200"
	
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_spectre.vsndevts"
			"model"		"models/heroes/vengeful/vengeful.vmdl"
			"model"		"models/items/vengeful/vengeful_immortal_weapon/vengeful_immortal_weapon.vmdl"
			"model"		"models/items/vengefulspirit/fallenprincess_shoulders/fallenprincess_shoulders.vmdl"
			"model"		"models/items/vengefulspirit/fallenprincess_legs/fallenprincess_legs.vmdl"
			"model"		"models/items/vengefulspirit/fallenprincess_head/fallenprincess_head.vmdl"
			"particle"  "particles/units/heroes/hero_vengeful/vengeful_ambient.vpcf"
			"particle"  "particles/econ/items/vengeful/vengeful_wing_fallenprincess/venge_wingsoffallenprincess_ambient.vpcf"
			"particle"	"particles/units/heroes/hero_vengeful/vengeful_base_attack.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"	"FIELD_INTEGER"
				"duration"	"180"
			}
			"02"
			{
				"var_type"					"FIELD_INTEGER"
				"avatar_1_count"			"1 0 0"
			}
			"03"
			{
				"var_type"					"FIELD_INTEGER"
				"avatar_2_count"			"0 1 0"
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"avatar_3_count"			"0 0 1"
			}
		}
	
		"OnSpellStart"
		{
			"SpawnUnit"
			{
				"UnitName"		"npc_avatar_of_vengeance"
				"UnitCount"		"%avatar_1_count"
				"SpawnRadius"	"100"
				"Duration"		"%duration"
				"Target"		"CASTER"
				"OnSpawn"
				{
					"FireSound"
					{
						"EffectName" "Hero_Spectre.Haunt"
						"Target"	 "CASTER"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_avatar_of_vengeance2"
				"UnitCount"		"%avatar_2_count"
				"SpawnRadius"	"100"
				"Duration"		"%duration"
				"Target"		"CASTER"
				"OnSpawn"
				{
					"FireSound"
					{
						"EffectName" "Hero_Spectre.Haunt"
						"Target"	 "CASTER"
					}
				}
			}
	
			"SpawnUnit"
			{
				"UnitName"		"npc_avatar_of_vengeance3"
				"UnitCount"		"%avatar_3_count"
				"SpawnRadius"	"100"
				"Duration"		"%duration"
				"Target"		"CASTER"
				"OnSpawn"
				{
					"FireSound"
					{
						"EffectName" "Hero_Spectre.Haunt"
						"Target"	 "CASTER"
					}
				}
			}
		}
	}
	
	
	// Avatar of Vengeance Passive
	// No collision and calls a script OnDeath to kill all the summoned spirits
	"avatar_of_vengeance_passive"
	{
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE	| DOTA_ABILITY_BEHAVIOR_HIDDEN"
		"BaseClass" 					"ability_datadriven"
		"AbilityUnitTargetTeam" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_spectre/spectre_ambient.vpcf"
		}
	
		"Modifiers"
		{
			"vengeance_modifier"
			{
				"IsHidden"	"1"
				"Passive"	"1"
				"States"
				{	
					"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_SPECIALLY_DENIABLE" "MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_DOMINATED"			"MODIFIER_STATE_VALUE_ENABLED"
				}
	
				"EffectName"		"particles/units/heroes/hero_spectre/spectre_ambient.vpcf"
				"EffectAttachType"	"follow_origin"
	
				"OnDeath"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/warden/avatar_of_vengeance.lua"
						"Function"		"KillVengeanceSpirits"
					}
				}
			}
		}
	}
	
	// Spirit Spawn - Spaws a Spirit of Vengeance near a corpse
	// AUTOCAST doesn't work currently, would need some lua AI.
	"avatar_of_vengeance_spirit_spawn"
	{
	
		"BaseClass" 			"ability_datadriven"
		"MaxLevel"				"1"
		"AbilityTextureName" 	"warden_spirit_of_vengeance"
	
		"AbilityBehavior" 		"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_AUTOCAST"
	
		"AbilityCooldown" 		"2"
		"AbilityManacost" 		"25"
		"AbilityCastRange"		"600"
	
		"precache"
		{
			"soundfile"				"soundevents/game_sounds_heroes/game_sounds_spectre.vsndevts"
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"spirit_limit"			"6"
			}
			"02"	
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"900"
			}
		}
	
		"OnAbilityPhaseStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/warden/avatar_of_vengeance.lua"
				"Function"		"SpiritOfVengeancePrecast"
			}
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"heroes/warden/avatar_of_vengeance.lua"
				"Function"		"SpiritOfVengeanceSpawn"
			}
		}		
	}
	
	// Spirit of Vengeance Passive
	// Invulnerable and some particle
	"spirit_of_vengeance_passive"
	{
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE	| DOTA_ABILITY_BEHAVIOR_HIDDEN"
		"BaseClass" 					"ability_datadriven"
		"AbilityUnitTargetTeam" 		"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_vengeful/vengeful_ambient.vpcf"
		}
	
		"Modifiers"
		{
			"vengeance_modifier"
			{
				"IsHidden"	"1"
				"Passive"	"1"
				"States"
				{
					"MODIFIER_STATE_ATTACK_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_MAGIC_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_DOMINATED"		"MODIFIER_STATE_VALUE_ENABLED"
				}
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"		"particles/units/heroes/hero_vengeful/vengeful_ambient.vpcf"
						"EffectAttachType"	"attach_uppertorso"
						"Target"			"CASTER"
					}
				}
			}
		}
	}
	// Warden Blink
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: Short distance teleportation that allows the Warden to move in and out of combat.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	10 sec.	50	9999.9	N/A	Self	Teleport	1
	//2	N/A	10 sec.	10	9999.9	N/A	Self	Teleport	3
	//3	N/A	1 sec.	10	9999.9	N/A	Self	Teleport	5
	"warden_blink"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"warden_blink"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_ROOT_DISABLES | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"15.0 10.0 5.0 1.0"
	
		"AbilityManaCost"				"50"
	
		"precache"
		{
			"soundfile"		"soundevents/game_sounds_heroes/game_sounds_antimage.vsndevts"
			"particle"		"particles/units/heroes/hero_antimage/antimage_blink_end.vpcf"
			"particle"		"particles/units/heroes/hero_antimage/antimage_blink_start.vpcf"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"blink_range"			"1000"
			}
		}
	
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"		"heroes/warden/blink.lua"
				"Function"			"Blink"
				"Target"			"POINT"
			}
	
			"FireSound"
			{
				"EffectName"		"Hero_Antimage.Blink_out"
				"Target"			"CASTER"
			}
	
			"AttachEffect"
			{
				"EffectName"		"particles/units/heroes/hero_antimage/antimage_blink_start.vpcf"
				"Target"			"CASTER"
				"EffectAttachType"	"attach_hitloc"
			}
	
			"FireSound"
			{
				"EffectName"		"Hero_Antimage.Blink_in"
				"Target"			"CASTER"
			}
	
			"AttachEffect"
			{
				"EffectName"		"particles/units/heroes/hero_antimage/antimage_blink_end.vpcf"
				"Target"			"CASTER"
				"EffectAttachType"	"follow_origin"
			}
		}
	}
	// Warden Fan of Knives
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: The Warden flings a flurry of knives at multiple enemy targets around her.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	N/A	9 sec.	100	N/A	40	Air, Ground, Enemy	75 damage per target, 300 max damage	1
	//2	N/A	9 sec.	100	N/A	50	Air, Ground, Enemy	125 damage per target, 625 max damage	3
	//3	N/A	9 sec.	100	N/A	60	Air, Ground, Enemy	190 damage per target, 950 max damage	5
	"warden_fan_of_knives"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"warden_fan_of_knives"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
	
		"AbilityCastRange"				"400 500 600 700"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"9.0"
	
		"AbilityManacost" 				"100"
		"AbilityDamage"					"75 125 190 265"
	
		"precache"
		{
			"particle" 	"particles/custom/bristleback_quill_spray.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_phantom_assassin.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius"				"400 500 600 700"
			}
		}
	
		"OnSpellStart"
		{
			"AttachEffect"
			{
				"EffectName"		"particles/custom/bristleback_quill_spray.vpcf"
				"EffectAttachType"	"follow_origin"
				"Target"			"CASTER"
			}
			"FireSound"
			{	
				"EffectName"		"Hero_PhantomAssassin.Dagger.Target"
				"Target"			"CASTER"
			}
			"Damage"
			{
				"Type"          "DAMAGE_TYPE_MAGICAL"
				"Damage"        "%AbilityDamage"
				"Target"
				{
					"Center"  				"CASTER"
					"Radius" 				"%radius"
					"Teams" 				"DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types" 				"DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
				}
			}
		}
	}
	// Warden Shadow Strike
	// Author: Noya
	// Date: 14.1.2015.
	// Notes: Hurls a poisoned dagger which deals large initial damage, and then deals damage over time. The poisoned unit has its movement rate slowed for a short duration.
	//Level	Duration	Cooldown	Mana Cost	Range	Area of Effect	Allowed Targets	Effect	Hero Level Req
	//1	15 sec.	8 sec.	75	30	N/A	Air, Ground, Enemy, Neutral	75 strike damage, 10 damage every 3 sec., Movement Slowed 50%	1
	//2	15 sec.	8 sec.	75	30	N/A	Air, Ground, Enemy, Neutral	150 strike damage, 30 damage every 3 sec., Movement Slowed 50%	3
	//3	15 sec.	8 sec.	75	30	N/A	Air, Ground, Enemy, Neutral	225 strike damage, 45 damage every 3 sec., Movement Slowed 50%	5
	"warden_shadow_strike"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"warden_shadow_strike"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_1"
	
		"AbilityCastRange"				"600"
		"AbilityCastPoint"				"0.3"
		"AbilityCooldown"				"8.0"
	
		"AbilityManaCost"				"100"
		"AbilityDamage"					"75 125 175 225"
	
		"precache"
		{
			"particle"	"particles/units/heroes/hero_viper/viper_viper_strike.vpcf"
			"particle"	"particles/units/heroes/hero_viper/viper_viper_strike_debuff.vpcf"
			"particle"	"particles/units/heroes/hero_viper/viper_viper_strike_impact.vpcf"
			"particle"	"particles/units/heroes/hero_viper/viper_viper_strike_warmup.vpcf"
			"particle"	"particles/units/heroes/hero_viper/viper_viper_strike_beam.vpcf"
			"particle"	"particles/status_fx/status_effect_poison_viper.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_viper.vsndevts"
		}
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"	"FIELD_INTEGER"
				"duration"	"15"
			}
			"02"
			{
				"var_type"	"FIELD_INTEGER"
				"initial_damage"	"75 125 175 225"
			}
			"03"
			{
				"var_type"	"FIELD_INTEGER"
				"damage_every_3sec"	"10 20 30 40"
			}
			"04"
			{
				"var_type"	"FIELD_INTEGER"
				"move_speed_slow"	"-50"
			}
		}
	
		"OnAbilityPhaseStart"
		{
			"FireEffect"
			{
				// This particle is bugged, it has some unattached childs that always generates at 0 0 0 (because viper has 4 wing points)
				"EffectName"		"particles/units/heroes/hero_viper/viper_viper_strike_warmup.vpcf"
				"EffectAttachType"	"attach_attack1"
				"Target"			"CASTER"
				"ControlPointEntities"
				{
					"CASTER"		"attach_attack1"
					"CASTER"		"attach_attack1"
				}
			}		
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"		"hero_viper.viperStrike"
				"Target"			"TARGET"
			}
	
			"TrackingProjectile"
	        {
	            "Target"			"TARGET"
	            "EffectName"        "particles/units/heroes/hero_viper/viper_viper_strike.vpcf"
	            "Dodgeable"         "0"
	            "ProvidesVision"    "1"
	            "VisionRadius"      "300"
	            "MoveSpeed"         "800"
	            "SourceAttachment"  "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
	        }
	    }
	
	    "OnProjectileHitUnit"
		{
			"DeleteOnHit"		"0"
			"Damage"
			{
				"Type"          "DAMAGE_TYPE_MAGICAL"
				"Damage"        "%initial_damage"
				"Target"		"TARGET"
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_shadow_strike"		
				"Target"		"TARGET"
			}
	
			"FireSound"
			{
				"EffectName"	"Hero_Viper.viperStrikeImpact"
				"Target"		"TARGET"
			}
		}
	
		"Modifiers"
		{
			"modifier_shadow_strike"	
			{	
				"Duration"	"%duration"
				"IsDebuff"	"1"
				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%move_speed_slow"
				}
	
				"StatusEffectName"		"particles/status_fx/status_effect_poison_viper.vpcf"
	
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"		"particles/units/heroes/hero_viper/viper_viper_strike_debuff.vpcf"
						"EffectAttachType"	"attach_hitloc"
						"Target"			"TARGET"
					}
				}
				"ThinkInterval"	"3"
				"OnIntervalThink"
				{
					"Damage"
					{
						"Type"          "DAMAGE_TYPE_MAGICAL"
						"Damage"        "%damage_every_3sec"
						"Target"		"TARGET"
					}
				}
			}
		}
	}
}